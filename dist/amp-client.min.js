var AMPClientFactory;(()=>{var t={6384:(t,e,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),u=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},6556:(t,e,n)=>{var r=n(9465),o=n(7813);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},4865:(t,e,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},3118:(t,e,n)=>{var r=n(3218),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},4239:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2980:(t,e,n)=>{var r=n(6384),o=n(6556),i=n(8483),a=n(9783),u=n(3218),c=n(1704),l=n(6390);t.exports=function t(e,n,s,f,p){e!==n&&i(n,(function(i,c){if(p||(p=new r),u(i))a(e,n,c,s,t,f,p);else{var y=f?f(l(e,c),i,c+"",e,n,p):void 0;void 0===y&&(y=i),o(e,c,y)}}),c)}},9783:(t,e,n)=>{var r=n(6556),o=n(4626),i=n(7133),a=n(278),u=n(8517),c=n(5694),l=n(1469),s=n(9246),f=n(4144),p=n(3560),y=n(3218),v=n(8630),b=n(6719),d=n(6390),m=n(9881);t.exports=function(t,e,n,h,w,g,S){var E=d(t,n),j=d(e,n),T=S.get(j);if(T)r(t,n,T);else{var k=g?g(E,j,n+"",t,e,S):void 0,O=void 0===k;if(O){var P=l(j),_=!P&&f(j),A=!P&&!_&&b(j);k=j,P||_||A?l(E)?k=E:s(E)?k=a(E):_?(O=!1,k=o(j,!0)):A?(O=!1,k=i(j,!0)):k=[]:v(j)||c(j)?(k=E,c(E)?k=m(E):y(E)&&!p(E)||(k=u(j))):O=!1}O&&(S.set(j,k),w(k,j,h,g,S),S.delete(j)),r(t,n,k)}}},8674:t=>{t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},5976:(t,e,n)=>{var r=n(6557),o=n(5357),i=n(61);t.exports=function(t,e){return i(o(t,e,r),t+"")}},7415:(t,e,n)=>{var r=n(9932);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),o=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var l=e[u],s=i?i(n[l],t[l],l,n,t):void 0;void 0===s&&(s=t[l]),a?o(n,l,s):r(n,l,s)}return n}},1463:(t,e,n)=>{var r=n(5976),o=n(6612);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e}))}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}},3833:(t,e,n)=>{var r=n(7813),o=Object.prototype,i=o.hasOwnProperty;t.exports=function(t,e,n,a){return void 0===t||r(t,o[n])&&!i.call(a,n)?e:t}},8777:(t,e,n)=>{var r=n(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},9464:(t,e,n)=>{var r=n(8674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},1994:t=>{var e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};t.exports=function(t){return"\\"+e[t]}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},852:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},8517:(t,e,n)=>{var r=n(3118),o=n(5924),i=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},6612:t=>{t.exports=function(){return!1}},5726:t=>{t.exports=function(){return!1}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=i[a];return l[e]=n(c),r(t,this,l)}}},9865:t=>{t.exports=/<%-([\s\S]+?)%>/g},6051:t=>{t.exports=/<%([\s\S]+?)%>/g},5712:t=>{t.exports=/<%=([\s\S]+?)%>/g},5639:(t,e,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},6390:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},61:t=>{t.exports=function(t){return t}},9018:(t,e,n)=>{var r=n(8363),o=n(1463),i=n(1704),a=o((function(t,e,n,o){r(e,i(e),t,o)}));t.exports=a},9591:(t,e,n)=>{var r=n(6874),o=n(5976),i=n(4647),a=o((function(t,e){try{return r(t,void 0,e)}catch(t){return i(t)?t:new Error(t)}}));t.exports=a},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},7187:(t,e,n)=>{var r=n(9464),o=n(9833),i=/[&<>"']/g,a=RegExp(i.source);t.exports=function(t){return(t=o(t))&&a.test(t)?t.replace(i,r):t}},6557:t=>{t.exports=function(t){return t}},5694:t=>{t.exports=function(){return!1}},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),o=n(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},9246:(t,e,n)=>{var r=n(8612),o=n(7005);t.exports=function(t){return o(t)&&r(t)}},4144:t=>{t.exports=function(){return!1}},4647:(t,e,n)=>{var r=n(4239),o=n(7005),i=n(8630);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!i(t)}},3560:(t,e,n)=>{var r=n(4239),o=n(3218);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,u=Object.prototype,c=a.toString,l=u.hasOwnProperty,s=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==s}},6719:t=>{t.exports=function(){return!1}},3674:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},1704:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},2492:(t,e,n)=>{var r=n(2980),o=n(1463)((function(t,e,n){r(t,e,n)}));t.exports=o},1106:(t,e,n)=>{var r=n(9018),o=n(9591),i=n(7415),a=n(3833),u=n(1994),c=n(4647),l=n(6612),s=n(3674),f=n(5712),p=n(5835),y=n(9833),v=/\b__p \+= '';/g,b=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/[()=,{}\[\]\/\s]/,h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,w=/($^)/,g=/['\n\r\u2028\u2029\\]/g,S=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var E=p.imports._.templateSettings||p;n&&l(t,e,n)&&(e=void 0),t=y(t),e=r({},e,E,a);var j,T,k=r({},e.imports,E.imports,a),O=s(k),P=i(k,O),_=0,A=e.interpolate||w,N="__p += '",R=RegExp((e.escape||w).source+"|"+A.source+"|"+(A===f?h:w).source+"|"+(e.evaluate||w).source+"|$","g"),I=S.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(R,(function(e,n,r,o,i,a){return r||(r=o),N+=t.slice(_,a).replace(g,u),n&&(j=!0,N+="' +\n__e("+n+") +\n'"),i&&(T=!0,N+="';\n"+i+";\n__p += '"),r&&(N+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),_=a+e.length,e})),N+="';\n";var M=S.call(e,"variable")&&e.variable;if(M){if(m.test(M))throw new Error("Invalid `variable` option passed into `_.template`")}else N="with (obj) {\n"+N+"\n}\n";N=(T?N.replace(v,""):N).replace(b,"$1").replace(d,"$1;"),N="function("+(M||"obj")+") {\n"+(M?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(j?", __e = _.escape":"")+(T?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+N+"return __p\n}";var C=o((function(){return Function(O,I+"return "+N).apply(void 0,P)}));if(C.source=N,c(C))throw C;return C}},5835:(t,e,n)=>{var r=n(7187),o={escape:n(9865),evaluate:n(6051),interpolate:n(5712),variable:"",imports:{_:{escape:r}}};t.exports=o},9881:(t,e,n)=>{var r=n(8363),o=n(1704);t.exports=function(t){return r(t,o(t))}},9833:t=>{t.exports=function(t){return t}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};(()=>{"use strict";n.d(r,{default:()=>ic});var t={};n.r(t),n.d(t,{exclude:()=>H,extract:()=>B,parse:()=>F,parseUrl:()=>L,pick:()=>$,stringify:()=>U,stringifyUrl:()=>z});function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function o(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(i,"string"),"symbol"===e(a)?a:String(a)),o)}var i,a}function i(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function a(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,c(t,e,"get"))}function u(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,c(t,e,"set"),n),n}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var l=new WeakMap,s=new WeakMap,f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,l,{writable:!0,value:void 0}),i(this,s,{writable:!0,value:void 0}),u(this,l,e),u(this,s,n)}var e,n,r;return e=t,(n=[{key:"semver",get:function(){return a(this,l)}},{key:"full",get:function(){return a(this,s)}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),p=n(2492);const y={single:'\n    <div class="amp-banner amp-banner--single"\n         data-amp-banner-fingerprint="<%= data.fingerprint %>">\n\n        <% if(\'img\' === data.content.type) { %>\n            <a class="amp-banner__content amp-banner__content--img"\n               href="<%= data.content.href %>"\n               <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                <picture>\n                    <% (data.content.sources || []).forEach(function(source) { %>\n                        <source type="<%= source.type %>"\n                                srcset="<%= source.srcset %>"\n                                sizes="<%- data.content.sizes %>">\n                    <% }); %>\n                    <img srcset="<%= data.content.srcset %>"\n                         src="<%= data.content.src %>"\n                         sizes="<%- data.content.sizes %>"\n                         alt="<%- data.content.alt %>"\n                         <% if(null !== banner.positionData.dimensions.width) { %>width="<%- banner.positionData.dimensions.width %>"<% } %>\n                         <% if(null !== banner.positionData.dimensions.height) { %>height="<%- banner.positionData.dimensions.height %>"<% } %>\n                         <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                         <% if(banner.options.has(\'loading\')) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                </picture>\n            </a>\n        <% } else if (\'html\' === data.content.type) { %>\n            <div class="amp-banner__content amp-banner__content--html">\n                <%= data.content.html %>\n            </div>\n        <% } %>\n\n    </div>\n',random:'\n    <div class="amp-banner amp-banner--random"\n         data-amp-banner-fingerprint="<%= data.fingerprint %>">\n\n        <% if(\'img\' === data.content.type) { %>\n            <a class="amp-banner__content amp-banner__content--img"\n               href="<%= data.content.href %>"\n               <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                <picture>\n                    <% (data.content.sources || []).forEach(function(source) { %>\n                        <source type="<%= source.type %>"\n                                srcset="<%= source.srcset %>"\n                                sizes="<%- data.content.sizes %>">\n                    <% }); %>\n                    <img srcset="<%= data.content.srcset %>"\n                         src="<%= data.content.src %>"\n                         sizes="<%- data.content.sizes %>"\n                         alt="<%- data.content.alt %>"\n                         <% if(null !== banner.positionData.dimensions.width) { %>width="<%- banner.positionData.dimensions.width %>"<% } %>\n                         <% if(null !== banner.positionData.dimensions.height) { %>height="<%- banner.positionData.dimensions.height %>"<% } %>\n                         <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                         <% if(banner.options.has(\'loading\')) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                </picture>\n            </a>\n        <% } else if (\'html\' === data.content.type) { %>\n            <div class="amp-banner__content amp-banner__content--html">\n                <%= data.content.html %>\n            </div>\n        <% } %>\n\n    </div>\n',multiple:'\n    <div class="amp-banner amp-banner--multiple">\n        <div class="amp-banner__list">\n            <% for (index in data) { var b = data[index]; %>\n                <div class="amp-banner__item"\n                     data-amp-banner-fingerprint="<%= b.fingerprint %>">\n\n                    <% if(\'img\' === b.content.type) { %>\n                        <a class="amp-banner__content amp-banner__content--img"\n                           href="<%= b.content.href %>"\n                           <% if(null !== b.content.target) { %>target="<%- b.content.target %>"<% } %>>\n                            <picture>\n                                <% (b.content.sources || []).forEach(function(source) { %>\n                                    <source type="<%= source.type %>"\n                                            srcset="<%= source.srcset %>"\n                                            sizes="<%- b.content.sizes %>">\n                                <% }); %>\n                                <img srcset="<%= b.content.srcset %>"\n                                     src="<%= b.content.src %>"\n                                     sizes="<%- b.content.sizes %>"\n                                     alt="<%- b.content.alt %>"\n                                     <% if(null !== banner.positionData.dimensions.width) { %>width="<%- banner.positionData.dimensions.width %>"<% } %>\n                                     <% if(null !== banner.positionData.dimensions.height) { %>height="<%- banner.positionData.dimensions.height %>"<% } %>\n                                     <% if(\'\' !== b.content.title) { %>title="<%- b.content.title %>"<% } %>\n                                     <% if(banner.options.has(\'loading\') && index >= parseInt(banner.options.get(\'loading-offset\', 0))) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                            </picture>\n                        </a>\n                    <% } else if (\'html\' === b.content.type) { %>\n                        <div class="amp-banner__content amp-banner__content--html">\n                            <%= b.content.html %>\n                        </div>\n                    <% } %>\n\n                </div>\n            <% } %>\n        </div>\n    </div>\n'};function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var m=function(t,e){var n=Math.round(10*t)/10;return n!==t&&console.warn('The value for the option "'.concat(e,'" has been rounded to ').concat(n," (originally ").concat(t,").")),n};function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}var g=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new TypeError("Can not construct abstract class AbstractGateway.");if(this.fetch===t.prototype.fetch)throw new TypeError("Please implement abstract method ::fetch().")}var e,n,r;return e=t,(n=[{key:"fetch",value:function(t,e){throw new TypeError("Do not call abstract method ::fetch() from child.")}}])&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const S="%[a-f0-9]{2}",E=new RegExp("("+S+")|([^%]+?)","gi"),j=new RegExp("("+S+")+","gi");function T(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],T(n),T(r))}function k(t){try{return decodeURIComponent(t)}catch{let e=t.match(E)||[];for(let n=1;n<e.length;n++)e=(t=T(e,n).join("")).match(E)||[];return t}}function O(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return function(t){const e={"%FE%FF":"��","%FF%FE":"��"};let n=j.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const t=k(n[0]);t!==n[0]&&(e[n[0]]=t)}n=j.exec(t)}e["%C2"]="�";const r=Object.keys(e);for(const n of r)t=t.replace(new RegExp(n,"g"),e[n]);return t}(t)}}function P(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===t||""===e)return[];const n=t.indexOf(e);return-1===n?[]:[t.slice(0,n),t.slice(n+e.length)]}function _(t,e){const n={};if(Array.isArray(e))for(const r of e){const e=Object.getOwnPropertyDescriptor(t,r);e?.enumerable&&Object.defineProperty(n,r,e)}else for(const r of Reflect.ownKeys(t)){const o=Object.getOwnPropertyDescriptor(t,r);if(o.enumerable){e(r,t[r],t)&&Object.defineProperty(n,r,o)}}return n}const A=t=>null==t,N=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),R=Symbol("encodeFragmentIdentifier");function I(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function M(t,e){return e.encode?e.strict?N(t):encodeURIComponent(t):t}function C(t,e){return e.decode?O(t):t}function x(t){return Array.isArray(t)?t.sort():"object"==typeof t?x(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function D(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function W(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function B(t){const e=(t=D(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function F(t,e){I((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"colon-list-separator":return(t,n,r)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const o="string"==typeof n&&n.includes(t.arrayFormatSeparator),i="string"==typeof n&&!o&&C(n,t).includes(t.arrayFormatSeparator);n=i?C(n,t):n;const a=o||i?n.split(t.arrayFormatSeparator).map((e=>C(e,t))):null===n?n:C(n,t);r[e]=a};case"bracket-separator":return(e,n,r)=>{const o=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!o)return void(r[e]=n?C(n,t):n);const i=null===n?[]:n.split(t.arrayFormatSeparator).map((e=>C(e,t)));void 0!==r[e]?r[e]=[...r[e],...i]:r[e]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[...[n[t]].flat(),e]:n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){if(""===o)continue;const t=e.decode?o.replace(/\+/g," "):o;let[i,a]=P(t,"=");void 0===i&&(i=t),a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:C(a,e),n(C(i,e),a,r)}for(const[t,n]of Object.entries(r))if("object"==typeof n&&null!==n)for(const[t,r]of Object.entries(n))n[t]=W(r,e);else r[t]=W(n,e);return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=x(n):t[e]=n,t}),Object.create(null))}function U(t,e){if(!t)return"";I((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const n=n=>e.skipNull&&A(t[n])||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[M(e,t),"[",o,"]"].join("")]:[...n,[M(e,t),"[",M(o,t),"]=",M(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[M(e,t),"[]"].join("")]:[...n,[M(e,t),"[]=",M(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[M(e,t),":list="].join("")]:[...n,[M(e,t),":list=",M(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[M(n,t),e,M(o,t)].join("")]:[[r,M(o,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,M(e,t)]:[...n,[M(e,t),"=",M(r,t)].join("")]}}(e),o={};for(const[e,r]of Object.entries(t))n(e)||(o[e]=r);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map((n=>{const o=t[n];return void 0===o?"":null===o?M(n,e):Array.isArray(o)?0===o.length&&"bracket-separator"===e.arrayFormat?M(n,e)+"[]":o.reduce(r(n),[]).join("&"):M(n,e)+"="+M(o,e)})).filter((t=>t.length>0)).join("&")}function L(t,e){e={decode:!0,...e};let[n,r]=P(t,"#");return void 0===n&&(n=t),{url:n?.split("?")?.[0]??"",query:F(B(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:C(r,e)}:{}}}function z(t,e){e={encode:!0,strict:!0,[R]:!0,...e};const n=D(t.url).split("?")[0]||"";let r=U({...F(B(t.url),{sort:!1}),...t.query},e);r&&(r=`?${r}`);let o=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);if(t.fragmentIdentifier){const r=new URL(n);r.hash=t.fragmentIdentifier,o=e[R]?r.hash:`#${t.fragmentIdentifier}`}return`${n}${r}${o}`}function $(t,e,n){n={parseFragmentIdentifier:!0,[R]:!1,...n};const{url:r,query:o,fragmentIdentifier:i}=L(t,n);return z({url:r,query:_(o,e),fragmentIdentifier:i},n)}function H(t,e,n){return $(t,Array.isArray(e)?t=>!e.includes(t):(t,n)=>!e(t,n),n)}const G=t;function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function V(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===q(i)?i:String(i)),r)}var o,i}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(i,t);var e,n,r,o=X(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"fetch",value:function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(XMLHttpRequest.DONE!==r.readyState||0===r.status)return!1;var t=JSON.parse(r.responseText);200<=r.status&&300>r.status?e(t):n(t)},r.onerror=function(){n({status:"error",data:{code:r.status,error:r.statusText||"unknown"}})};var o=t.endpoint;"GET"===t.method&&(o+="?".concat(G.stringify(t.parameters))),r.open(t.method,o,!0),r.overrideMimeType("application/json"),r.setRequestHeader("Accept","application/json");var i,a=V(t.headers);try{for(a.s();!(i=a.n()).done;){var u=i.value;r.setRequestHeader(u.name,u.value)}}catch(t){a.e(t)}finally{a.f()}r.send("POST"===t.method?JSON.stringify(t.parameters):null)}}])&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(g);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===tt(i)?i:String(i)),r)}var o,i}function nt(t,e,n){rt(t,e),e.set(t,n)}function rt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ot(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ut(t,e,"get"))}function it(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function at(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ut(t,e,"set"),n),n}function ut(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ct=new WeakMap,lt=new WeakMap,st=new WeakSet,ft=function(){function t(e,n){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rt(r=this,o=st),o.add(r),nt(this,ct,{writable:!0,value:void 0}),nt(this,lt,{writable:!0,value:void 0}),at(this,ct,e),at(this,lt,it(this,st,pt).call(this,n))}var e,n,r;return e=t,(n=[{key:"name",get:function(){return ot(this,ct)}},{key:"value",get:function(){return ot(this,lt)}},{key:"withValues",value:function(e){return new t(this.name,it(this,st,pt).call(this,e).concat(this.value).filter((function(t,e,n){return n.indexOf(t)===e})))}}])&&et(e.prototype,n),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pt(t){return Array.isArray(t)?t:[t]}function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===yt(i)?i:String(i)),r)}var o,i}function bt(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function dt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ht(t,e,"get"))}function mt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ht(t,e,"set"),n),n}function ht(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var wt=new WeakMap,gt=new WeakMap,St=new WeakMap,Et=new WeakMap,jt=new WeakMap,Tt=new WeakMap,kt=new WeakMap,Ot=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bt(this,wt,{writable:!0,value:void 0}),bt(this,gt,{writable:!0,value:void 0}),bt(this,St,{writable:!0,value:void 0}),bt(this,Et,{writable:!0,value:void 0}),bt(this,jt,{writable:!0,value:void 0}),bt(this,Tt,{writable:!0,value:void 0}),bt(this,kt,{writable:!0,value:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var o=t[n][r].value.filter((function(t){return""!==t}));o.length&&(e[n][r]=o)}return e}}),mt(this,wt,e),mt(this,gt,n),mt(this,St,r),mt(this,Et,{}),mt(this,jt,o),mt(this,Tt,i)}var e,n,r;return e=t,n=[{key:"addPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=dt(this,Et);if(t in r)throw new Error('Position "'+t+'" already exists.');r[t]={},n&&this.addPositionResources(t,dt(this,jt)),this.addPositionResources(t,e)}},{key:"addPositionResources",value:function(t,e){for(var n in e)this.addPositionResource(t,e[n])}},{key:"addPositionResource",value:function(t,e){if(!(e instanceof ft))throw new TypeError("Argument resource must be instance of Resource class.");var n=dt(this,Et);if(!(t in n))throw new Error('Missing position "'+t+'".');var r=n[t];e.name in r?r[e.name]=r[e.name].withValues(e.value):r[e.name]=e}},{key:"method",get:function(){return dt(this,wt)}},{key:"endpoint",get:function(){return dt(this,gt)}},{key:"locale",get:function(){return dt(this,St)}},{key:"parameters",get:function(){var t=dt(this,kt).call(this,dt(this,Et)),e={query:"GET"===this.method?JSON.stringify(t):t};return null!==this.locale&&(e.locale=this.locale),e}},{key:"headers",get:function(){return dt(this,Tt)}}],n&&vt(e.prototype,n),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Pt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Pt(i)?i:String(i)),r)}var o,i}function At(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Nt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,It(t,e,"get"))}function Rt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,It(t,e,"set"),n),n}function It(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Mt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Dt=new WeakMap,Wt=new WeakMap,Bt=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At(this,Mt,{writable:!0,value:void 0}),At(this,Ct,{writable:!0,value:void 0}),At(this,xt,{writable:!0,value:void 0}),At(this,Dt,{writable:!0,value:void 0}),At(this,Wt,{writable:!0,value:void 0}),Rt(this,Mt,e),Rt(this,Ct,"".concat(n,"/api/v").concat(r,"/content/").concat(encodeURIComponent(o))),Rt(this,xt,null),Rt(this,Dt,[]),Rt(this,Wt,null)}var e,n,r;return e=t,(n=[{key:"locale",set:function(t){Rt(this,xt,t)}},{key:"origin",set:function(t){Rt(this,Wt,t)}},{key:"addDefaultResource",value:function(t,e){Nt(this,Dt).push(new ft(t,e))}},{key:"create",value:function(){var t=[];return"string"==typeof Nt(this,Wt)&&""!==Nt(this,Wt)&&t.push({name:"X-Amp-Origin",value:Nt(this,Wt)}),new Ot(Nt(this,Mt),Nt(this,Ct),Nt(this,xt),Nt(this,Dt),t)}}])&&_t(e.prototype,n),r&&_t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t,e,n){return(e=$t(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$t(r.key),r)}}function $t(t){var e=function(t,e){if("object"!==Ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ft(e)?e:String(e)}function Ht(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Gt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Vt(t,e,"get"))}function qt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Vt(t,e,"set"),n),n}function Vt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Yt=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,Xt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,Yt,{writable:!0,value:void 0}),Ht(this,Kt,{writable:!0,value:void 0}),Ht(this,Jt,{writable:!0,value:void 0}),qt(this,Yt,"".concat(e,"/api/v").concat(n,"/preview/position/").concat(encodeURIComponent(r))),qt(this,Kt,null),qt(this,Jt,{})}var e,n,r;return e=t,n=[{key:"locale",set:function(t){qt(this,Kt,t)}},{key:"addDefaultResource",value:function(t,e){var n=Gt(this,Jt),r=new ft(t,e);r.name in n?n[r.name]=n[r.name].withValues(r.value):n[r.name]=r}},{key:"create",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var o in"1"!==(r["omit-default-resources"]||"0").toString()?e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Gt(this,Jt)):(e={},delete r["omit-default-resources"]),n){var i=new ft(o,n[o]);i.name in e?e[i.name]=e[i.name].withValues(i.value):e[i.name]=i}var a={};for(var u in e)e[u].value.filter((function(t){return""!==t})).length&&(a[u]=e[u].value);a=JSON.stringify(a);var c=JSON.stringify(r),l={};"{}"!==a&&(l.resources=a),"{}"!==c&&(l.options=c),null!==Gt(this,Kt)&&(l.locale=Gt(this,Kt));var s=G.stringify(l);return"".concat(Gt(this,Yt),"/").concat(encodeURIComponent(t)).concat(""!==s?"?"+s:"")}}],n&&zt(e.prototype,n),r&&zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qt(i)?i:String(i)),r)}var o,i}var te=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"NEW",get:function(){return"NEW"}},{key:"RENDERED",get:function(){return"RENDERED"}},{key:"NOT_FOUND",get:function(){return"NOT_FOUND"}},{key:"ERROR",get:function(){return"ERROR"}},{key:"STATES",get:function(){return[t.NEW,t.RENDERED,t.NOT_FOUND,t.ERROR]}}],(n=null)&&Zt(e.prototype,n),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ee(i)?i:String(i)),r)}var o,i}var re=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"ON_BANNER_ATTACHED",get:function(){return"amp:banner:attached"}},{key:"ON_BANNER_STATE_CHANGED",get:function(){return"amp:banner:state-changed"}},{key:"ON_BANNER_INTERSECTION_CHANGED",get:function(){return"amp:banner:intersection-changed"}},{key:"ON_BANNER_FIRST_TIME_SEEN",get:function(){return"amp:banner:first-time-seen"}},{key:"ON_BANNER_FIRST_TIME_FULLY_SEEN",get:function(){return"amp:banner:first-time-fully-seen"}},{key:"ON_BANNER_LINK_CLICKED",get:function(){return"amp:banner:link-clicked"}},{key:"ON_BEFORE_FETCH",get:function(){return"amp:fetch:before"}},{key:"ON_FETCH_ERROR",get:function(){return"amp:fetch:error"}},{key:"ON_FETCH_SUCCESS",get:function(){return"amp:fetch:success"}}],(n=null)&&ne(e.prototype,n),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==oe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===oe(i)?i:String(i)),r)}var o,i}var ae=function(){function t(e){var n=e.id,r=e.code,o=e.name,i=e.rotationSeconds,a=e.displayType,u=e.breakpointType,c=e.dimensions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.code=r,this.name=o,this.rotationSeconds=i,this.displayType=a,this.breakpointType=u,this.dimensions={width:c.width||null,height:c.height||null}}var e,n,r;return e=t,r=[{key:"createInitial",value:function(e){return new t({id:null,code:e,name:null,rotationSeconds:0,displayType:null,breakpointType:null,dimensions:{width:null,height:null}})}}],(n=[{key:"isSingle",value:function(){return"single"===this.displayType}},{key:"isRandom",value:function(){return"random"===this.displayType}},{key:"isMultiple",value:function(){return"multiple"===this.displayType}},{key:"toObject",value:function(){return{id:this.id,code:this.code,name:this.name,rotationSeconds:this.rotationSeconds,displayType:this.displayType,breakpointType:this.breakpointType,dimensions:this.dimensions}}}])&&ie(e.prototype,n),r&&ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ue(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ue(i)?i:String(i)),r)}var o,i}var le=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}var e,n,r;return e=t,n=[{key:"has",value:function(t){return void 0!==this.options[t]}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.options[t]||e}}],n&&ce(e.prototype,n),r&&ce(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===se(i)?i:String(i)),r)}var o,i}function pe(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ye(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,be(t,e,"get"))}function ve(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,be(t,e,"set"),n),n}function be(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var de=new WeakMap,me=new WeakMap,he=new WeakMap,we=new WeakMap,ge=new WeakMap,Se=new WeakMap,Ee=function(){function t(e,n,r,o,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,de,{writable:!0,value:void 0}),pe(this,me,{writable:!0,value:void 0}),pe(this,he,{writable:!0,value:void 0}),pe(this,we,{writable:!0,value:null}),pe(this,ge,{writable:!0,value:null}),pe(this,Se,{writable:!0,value:{}}),this.constructor===t)throw new TypeError("Can not construct abstract class Banner.");ve(this,de,n),ve(this,me,r),ve(this,he,new le(i)),this._eventBus=e,this._positionData=ae.createInitial(o),this.STATE=te,this.setState(this.STATE.NEW,"Banner created.")}var e,n,r;return e=t,n=[{key:"uid",get:function(){return ye(this,de)}},{key:"element",get:function(){return ye(this,me)}},{key:"state",get:function(){return ye(this,we)}},{key:"stateInfo",get:function(){return ye(this,ge)}},{key:"stateCounter",get:function(){return ye(this,Se)[this.state]||0}},{key:"position",get:function(){return this.positionData.code}},{key:"positionData",get:function(){return this._positionData}},{key:"options",get:function(){return ye(this,he)}},{key:"fingerprints",get:function(){return[]}},{key:"setState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(-1===this.STATE.STATES.indexOf(t))throw new TypeError("".concat(t," is not valid state."));ve(this,we,t),ve(this,ge,e.toString()),ye(this,Se)[t]=(ye(this,Se)[t]||0)+1,this._eventBus.dispatch(re.ON_BANNER_STATE_CHANGED,this)}},{key:"getCurrenBreakpoint",value:function(t){return null}},{key:"redrawIfNeeded",value:function(){}},{key:"isManaged",value:function(){return!1}},{key:"isExternal",value:function(){return!1}},{key:"isEmbed",value:function(){return!1}}],n&&fe(e.prototype,n),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===je(i)?i:String(i)),r)}var o,i}var ke=function(){function t(e,n){var r=n.bannerId,o=n.bannerName,i=n.positionId,a=n.positionCode,u=n.positionName,c=n.campaignId,l=n.campaignCode,s=n.campaignName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.bannerId=r,this.bannerName=o,this.positionId=i,this.positionCode=a,this.positionName=u,this.campaignId=c,this.campaignCode=l,this.campaignName=s}var e,n,r;return e=t,r=[{key:"createFromProperties",value:function(e){return new t(btoa(encodeURIComponent(JSON.stringify(e))),e)}},{key:"createFromValue",value:function(e){return new t(e,JSON.parse(decodeURIComponent(atob(e))))}}],(n=[{key:"toString",value:function(){return this.value}}])&&Te(e.prototype,n),r&&Te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Oe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Oe(i)?i:String(i)),r)}var o,i}function _e(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ae(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Re(t,e,"get"))}function Ne(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Re(t,e,"set"),n),n}function Re(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Ie=new WeakMap,Me=new WeakMap,Ce=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_e(this,Ie,{writable:!0,value:void 0}),_e(this,Me,{writable:!0,value:void 0}),Ne(this,Ie,e),Ne(this,Me,n)}var e,n,r;return e=t,(n=[{key:"breakpoint",get:function(){return Ae(this,Ie)}},{key:"data",get:function(){return Ae(this,Me)}}])&&Pe(e.prototype,n),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===xe(i)?i:String(i)),r)}var o,i}function We(t,e,n){Be(t,e),e.set(t,n)}function Be(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fe(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Le(t,e,"get"))}function Ue(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Le(t,e,"set"),n),n}function Le(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ze=new WeakMap,$e=new WeakMap,He=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Ve=new WeakSet,Ye=function(){function t(e,n){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(r=this,o=Ve),o.add(r),We(this,ze,{writable:!0,value:void 0}),We(this,$e,{writable:!0,value:void 0}),We(this,He,{writable:!0,value:[]}),We(this,Ge,{writable:!0,value:null}),We(this,qe,{writable:!0,value:{min:null,max:null,reset:function(){this.min=this.max=null}}}),Ue(this,ze,e),Ue(this,$e,n)}var e,n,r;return e=t,(n=[{key:"addContent",value:function(t,e){Fe(this,He).push(new Ce(t,e)),Ue(this,Ge,null)}},{key:"contents",get:function(){return Fe(this,He)}},{key:"content",get:function(){var t=this;if(null!==Fe(this,Ge)&&!this.needRedraw())return Fe(this,Ge);Fe(this,qe).reset();var e=Fe(this,ze).width,n=Fe(this,$e),r=null,o=null,i=null,a=[];if(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(this,Ve,Ke).call(this,Fe(this,He),(function(u){var c=u.breakpoint;null!==c?(a.push(c),("min"===n&&e>=c&&(null===i||i<c)||"max"===n&&e<=c&&(null===i||i>c))&&(o=u,i=c,Fe(t,qe)[n]=c)):r=u})),null===o&&null===r)throw new Error("Unable to resolve content, no contents found.");a.sort((function(t,e){return t-e})),"min"===n?a.unshift(null):a.push(null);var u=a.indexOf(i);return"max"===n&&u-1 in a&&(Fe(this,qe).min=a[u-1]),"min"===n&&u+1 in a&&(Fe(this,qe).max=a[u+1]),Ue(this,Ge,null!==o?o:r)}},{key:"needRedraw",value:function(){if(null===Fe(this,Ge))return!0;var t=Fe(this,ze).width;return null!==Fe(this,qe).min&&t<Fe(this,qe).min||null!==Fe(this,qe).max&&t>Fe(this,qe).max}}])&&De(e.prototype,n),r&&De(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ke(t,e){for(var n in t)e(t[n],n)}function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Xe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Je(i)?i:String(i)),r)}var o,i}function tn(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function en(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,rn(t,e,"get"))}function nn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,rn(t,e,"set"),n),n}function rn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var on=new WeakMap,an=new WeakMap,un=new WeakMap,cn=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tn(this,on,{writable:!0,value:void 0}),tn(this,an,{writable:!0,value:void 0}),tn(this,un,{writable:!0,value:null}),nn(this,on,e),nn(this,an,new Ye(r,n));var o,i=Xe(en(this,on).contents);try{for(i.s();!(o=i.n()).done;){var a=o.value;en(this,an).addContent(a.breakpoint,a)}}catch(t){i.e(t)}finally{i.f()}}var e,n,r;return e=t,(n=[{key:"fingerprint",get:function(){return en(this,un)},set:function(t){if(!(t instanceof ke))throw new TypeError("The value must be instance of Fingerprint object.");nn(this,un,t)}},{key:"id",get:function(){return en(this,on).id}},{key:"name",get:function(){return en(this,on).name||null}},{key:"score",get:function(){return en(this,on).score}},{key:"campaign",get:function(){return console.warn("Usage of deprecated property `BannerData.campaign`. Please use property `campaignCode` instead."),this.campaignCode()}},{key:"campaignId",get:function(){return en(this,on).campaign_id||null}},{key:"campaignCode",get:function(){return en(this,on).campaign_code||en(this,on).campaign||null}},{key:"campaignName",get:function(){return en(this,on).campaign_name||null}},{key:"content",get:function(){return en(this,an).content.data}},{key:"needRedraw",value:function(){return en(this,an).needRedraw()}}])&&Ze(e.prototype,n),r&&Ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ln(i)?i:String(i)),r)}var o,i}function fn(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function pn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,vn(t,e,"get"))}function yn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,vn(t,e,"set"),n),n}function vn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var bn=new WeakMap,dn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,bn,{writable:!0,value:void 0}),yn(this,bn,e)}var e,n,r;return e=t,(n=[{key:"positionCode",get:function(){return pn(this,bn).positionData.code}},{key:"rotationSeconds",get:function(){return pn(this,bn).positionData.rotationSeconds}},{key:"displayType",get:function(){return pn(this,bn).positionData.displayType}},{key:"breakpointType",get:function(){return pn(this,bn).positionData.breakpointType}},{key:"fingerprints",get:function(){return pn(this,bn).fingerprints}},{key:"bannerData",get:function(){return pn(this,bn).bannerData}}])&&sn(e.prototype,n),r&&sn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===mn(i)?i:String(i)),r)}var o,i}var wn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"randomByWeights",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weight",n={},r=0,o=0;o<t.length;o++)r+=t[o][e];for(var i=0;i<t.length;i++)n[i]=t[i][e]/r;for(var a=0,u=Math.random();u>0;)u-=n[a],a++;return t[--a]?t[a]:t[0]}}],(n=null)&&hn(e.prototype,n),r&&hn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==gn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===gn(i)?i:String(i)),r)}var o,i}function Tn(t,e){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tn(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pn(t);if(e){var o=Pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return On(t)}(this,n)}}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pn(t){return Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pn(t)}function _n(t,e){Nn(t,e),e.add(t)}function An(t,e,n){Nn(t,e),e.set(t,n)}function Nn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rn(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function In(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Cn(t,e,"get"))}function Mn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Cn(t,e,"set"),n),n}function Cn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var xn=new WeakMap,Dn=new WeakMap,Wn=new WeakMap,Bn=new WeakMap,Fn=new WeakMap,Un=new WeakMap,Ln=new WeakMap,zn=new WeakSet,$n=new WeakSet,Hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tn(t,e)}(i,t);var e,n,r,o=kn(i);function i(t,e,n,r,a,u){var c,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};for(var f in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),_n(On(c=o.call(this,n,r,a,u,s)),$n),_n(On(c),zn),An(On(c),xn,{writable:!0,value:void 0}),An(On(c),Dn,{writable:!0,value:void 0}),An(On(c),Wn,{writable:!0,value:[]}),An(On(c),Bn,{writable:!0,value:void 0}),An(On(c),Fn,{writable:!0,value:!1}),An(On(c),Un,{writable:!0,value:null}),An(On(c),Ln,{writable:!0,value:[]}),Mn(On(c),xn,t),Mn(On(c),Dn,e),Mn(On(c),Bn,l),l)In(On(c),Wn).push(new ft(f,l[f]));return c}return e=i,(n=[{key:"html",set:function(t){this.element.innerHTML=t}},{key:"resources",get:function(){return In(this,Wn)}},{key:"rawResources",get:function(){return In(this,Bn)}},{key:"data",get:function(){return console.warn("Usage of deprecated property `ManagedBanner.data`. Please use property `positionData` for accessing information about a position."),new dn(this)}},{key:"fingerprints",get:function(){var t;try{t=this.bannerData}catch(t){return[]}return this.positionData.isMultiple()||(t=[t]),t.map((function(t){return t.fingerprint}))}},{key:"bannerData",get:function(){if(null!==In(this,Un))return In(this,Un);if(!In(this,Ln).length)throw new Error("Banner's data is empty.");var t=null,e=this.positionData,n=function(t){return ke.createFromProperties({bannerId:t.id,bannerName:t.name,positionId:e.id,positionCode:e.code,positionName:e.name,campaignId:t.campaignId,campaignCode:t.campaignCode,campaignName:t.campaignName})};switch(!0){case e.isSingle():(t=In(this,Ln).reduce((function(t,e){return t.score>=e.score?t:e}))).fingerprint=n(t);break;case e.isRandom():(t=wn.randomByWeights(In(this,Ln),"score")).fingerprint=n(t);break;case e.isMultiple():var r,o=Sn(t=In(this,Ln).sort((function(t,e){return e.score-t.score})));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.fingerprint=n(i)}}catch(t){o.e(t)}finally{o.f()}break;default:throw new Error("Invalid display type ".concat(this.displayType,"."))}if(null===t)throw new Error("Banner's data is empty.");return Mn(this,Un,t),t}},{key:"setResponseData",value:function(t){if(In(this,Fn))throw new Error("Data for banner on position ".concat(this.position," is already set."));this._positionData=new ae({id:t.position_id||null,code:this._positionData.code,name:t.position_name||null,rotationSeconds:t.rotation_seconds,displayType:t.display_type,breakpointType:t.breakpoint_type,dimensions:t.dimensions||{width:null,height:null}});var e=[];for(var n in t.banners||[])e.push(new cn(t.banners[n],t.breakpoint_type,In(this,xn)));Mn(this,Ln,e),Mn(this,Fn,!0),Rn(this,zn,Gn).call(this,"Banner was successfully rendered.")}},{key:"getCurrenBreakpoint",value:function(t){var e=this.bannerData,n=(e=(Array.isArray(e)?e:[e]).find((function(e){return e.id===t})))&&e.content?e.content.breakpoint:null;return null===n?null:parseInt(n)}},{key:"isManaged",value:function(){return!0}},{key:"redrawIfNeeded",value:function(){Rn(this,$n,qn).call(this)&&Rn(this,zn,Gn).call(this,"Banner was successfully redrawn.")}}])&&jn(e.prototype,n),r&&jn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ee);function Gn(t){try{this.html=In(this,Dn).render(this)}catch(t){return void this.setState(this.STATE.ERROR,"Render error: "+t.message)}this.setState(this.STATE.RENDERED,t)}function qn(){var t=this.bannerData;for(var e in Array.isArray(t)||(t=[t]),t)if(t[e].needRedraw())return!0;return!1}function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Yn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Vn(i)?i:String(i)),r)}var o,i}var Xn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseResources",value:function(t){var e,n={},r=[].filter.call(t.attributes,(function(t){return/^data-amp-resource-\S+/.test(t.name)})),o=Yn(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.value&&(n[i.name.slice(18)]=i.value.split(",").map((function(t){return t.trim()})))}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"parseOptions",value:function(t){var e,n={},r=Yn([].filter.call(t.attributes,(function(t){return/^data-amp-option-\S+/.test(t.name)})));try{for(r.s();!(e=r.n()).done;){var o=e.value;o.value&&(n[o.name.slice(16)]=o.value.trim())}}catch(t){r.e(t)}finally{r.f()}return n}}],(n=null)&&Jn(e.prototype,n),r&&Jn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function Zn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qn(i)?i:String(i)),r)}var o,i}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ir(t);if(e){var o=ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}(this,n)}}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}function ar(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ur(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,lr(t,e,"get"))}function cr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,lr(t,e,"set"),n),n}function lr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var sr=new WeakMap,fr=new WeakMap,pr=new WeakMap,yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(i,t);var e,n,r,o=rr(i);function i(t,e,n,r){var a;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),!("ampBannerExternal"in r.dataset))throw new Error('Unable to initialize ExternalBanner from element that does not have an attribute "data-amp-external".');var u=JSON.parse(decodeURIComponent(atob(r.dataset.ampBannerExternal)));if(!("state"in u)||!("positionData"in u))throw new Error('Unable to initialize ExternalBanner data attribute "data-amp-external" is malformed.');var c=u.state,l=new ae(u.positionData),s=Xn.parseOptions(r);ar(or(a=o.call(this,e,n,r,l.code,s)),sr,{writable:!0,value:[]}),ar(or(a),fr,{writable:!0,value:null}),ar(or(a),pr,{writable:!0,value:!1});var f,p=[],y={},v=Zn(r.querySelectorAll("[data-amp-banner-fingerprint]"));try{for(v.s();!(f=v.n()).done;){var b=f.value,d=ke.createFromValue(b.dataset.ampBannerFingerprint);p.push(d);var m,h=Zn(b.querySelectorAll("[data-amp-content-breakpoint]"));try{for(h.s();!(m=h.n()).done;){var w=m.value,g=w.dataset.ampContentBreakpoint;g="default"===g?null:parseInt(g),d.bannerId in y||(y[d.bannerId]=new Ye(t,l.breakpointType)),y[d.bannerId].addContent(g,w)}}catch(t){h.e(t)}finally{h.f()}}}catch(t){v.e(t)}finally{v.f()}return a._positionData=l,cr(or(a),sr,p),cr(or(a),fr,y),a.setState(c.value,c.info),a}return e=i,(n=[{key:"fingerprints",get:function(){return ur(this,sr)}},{key:"getCurrenBreakpoint",value:function(t){var e=ur(this,fr)[t]||null;if(null===e)return null;if(ur(this,pr))return e.content?e.content.breakpoint:null;var n,r=Zn(e.contents);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("none"!==getComputedStyle(o.data).display)return o.breakpoint}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"isExternal",value:function(){return!0}},{key:"delegateResponsiveBehaviour",value:function(){if(!ur(this,pr)){cr(this,pr,!0);var t,e=Zn(this.element.querySelectorAll("style"));try{for(e.s();!(t=e.n()).done;)t.value.remove()}catch(t){e.e(t)}finally{e.f()}this.redrawIfNeeded()}}},{key:"redrawIfNeeded",value:function(){if(ur(this,pr))for(var t in ur(this,fr)){var e=ur(this,fr)[t];if(e.needRedraw()){var n,r=e.content,o=Zn(e.contents);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.data.style.display=i===r?"block":"none"}}catch(t){o.e(t)}finally{o.f()}}}}}])&&er(e.prototype,n),r&&er(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ee);function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==vr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===vr(i)?i:String(i)),r)}var o,i}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hr(t);if(e){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(i,t);var e,n,r,o=mr(i);function i(t,e,n,r,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e,n,r,a)}return e=i,(n=[{key:"fingerprints",get:function(){throw new Error("Property EmbedBanner.fingerprints is not readable.")}},{key:"getCurrenBreakpoint",value:function(t){throw new Error("Method EmbedBanner.getCurrenBreakpoint() is not readable.")}},{key:"isEmbed",value:function(){return!0}},{key:"updatePositionData",value:function(t){for(var e=this.positionData,n=0,r=["id","name","rotationSeconds","displayType","breakpointType","dimensions"];n<r.length;n++){var o=r[n];o in t&&(e[o]=t[o])}}}])&&br(e.prototype,n),r&&br(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ee);function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function Sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===gr(i)?i:String(i)),r)}var o,i}function Er(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function jr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Tr(t,e,"set"),n),n}function Tr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var kr=new WeakMap,Or=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Er(this,kr,{writable:!0,value:void 0}),jr(this,kr,e-1)}var e,n,r;return e=t,(n=[{key:"getNextIdentifier",value:function(){var t,e;return jr(this,kr,(t=function(t,e){return e.get?e.get.call(t):e.value}(e=this,Tr(e,kr,"get")),++t))}}])&&Sr(e.prototype,n),r&&Sr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pr(t){if(t instanceof HTMLElement)return t;if("string"!=typeof t)throw new TypeError("Element must be instance of HTMLElement or String");var e;if(!((e="#"===t.charAt(0)?document.getElementById(t.slice(1)):document.querySelector(t))instanceof HTMLElement))throw new TypeError("Selector "+t+" is invalid.");return e}function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function Ar(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==_r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===_r(i)?i:String(i)),r)}var o,i}function Ir(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Mr(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,xr(t,e,"get"))}function Cr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,xr(t,e,"set"),n),n}function xr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Dr=new WeakMap,Wr=new WeakMap,Br=new WeakMap,Fr=new WeakMap,Ur=new WeakMap,Lr=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ir(this,Dr,{writable:!0,value:void 0}),Ir(this,Wr,{writable:!0,value:void 0}),Ir(this,Br,{writable:!0,value:void 0}),Ir(this,Fr,{writable:!0,value:void 0}),Ir(this,Ur,{writable:!0,value:[]}),Cr(this,Dr,e),Cr(this,Wr,n),Cr(this,Br,r),Cr(this,Fr,new Or),this.STATE=te}var e,n,r;return e=t,n=[{key:"addExternalBanner",value:function(t){(t=Pr(t)).setAttribute("data-amp-attached","");var e=new yr(Mr(this,Wr),Mr(this,Dr),Mr(this,Fr).getNextIdentifier(),t);return Mr(this,Ur).push(e),e}},{key:"addManagedBanner",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===Mr(this,Br))throw new Error("Unable to add managed banner, renderer is not provided.");(t=Pr(t)).setAttribute("data-amp-attached","");var o=new Hn(Mr(this,Wr),Mr(this,Br),Mr(this,Dr),Mr(this,Fr).getNextIdentifier(),t,e,n,r);return Mr(this,Ur).push(o),o}},{key:"addEmbedBanner",value:function(t,e,n){(t=Pr(t)).setAttribute("data-amp-attached","");var r=new wr(Mr(this,Dr),Mr(this,Fr).getNextIdentifier(),t,e,n);return Mr(this,Ur).push(r),r}},{key:"removeBanner",value:function(t){var e=Mr(this,Ur).length;return Cr(this,Ur,Mr(this,Ur).filter((function(e){return e!==t}))),e!==Mr(this,Ur).length}},{key:"getBannersByState",value:function(t){var e=t.state,n=t.managed,r=void 0===n||n,o=t.external,i=void 0===o||o,a=t.embed,u=void 0===a||a;return Mr(this,Ur).filter((function(t){return t instanceof Ee&&t.state===e&&!(t instanceof Hn&&!r||t instanceof yr&&!i||t instanceof wr&&!u)}))}},{key:"getBannerByFingerprint",value:function(t){var e,n=t instanceof ke?t.value:t,r=Ar(Mr(this,Ur));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!(o instanceof wr)){var i,a=Ar(o.fingerprints);try{for(a.s();!(i=a.n()).done;)if(i.value.value===n)return o}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"getBannerByUid",value:function(t){var e,n=Ar(Mr(this,Ur));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.uid===t)return r}}catch(t){n.e(t)}finally{n.f()}return null}}],n&&Rr(e.prototype,n),r&&Rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==zr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===zr(i)?i:String(i)),r)}var o,i}function Hr(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Gr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,qr(t,e,"set"),n),n}function qr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Vr=new WeakMap,Yr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Hr(this,Vr,{writable:!0,value:void 0}),Gr(this,Vr,e)}var e,n,r;return e=t,r=[{key:"fromCurrentWindow",value:function(){return new t((function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}))}}],(n=[{key:"width",get:function(){return(t=this,e=Vr,function(t,e){return e.get?e.get.call(t):e.value}(t,qr(t,e,"get"))).call(this);var t,e}}])&&$r(e.prototype,n),r&&$r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}function Jr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Kr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Kr(i)?i:String(i)),r)}var o,i}function Zr(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function to(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,no(t,e,"get"))}function eo(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,no(t,e,"set"),n),n}function no(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ro=new WeakMap,oo=new WeakMap,io=new WeakMap,ao=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Zr(this,ro,{writable:!0,value:void 0}),Zr(this,oo,{writable:!0,value:void 0}),Zr(this,io,{writable:!0,value:void 0}),eo(this,ro,new Or),eo(this,oo,{}),eo(this,io,{})}var e,n,r;return e=t,n=[{key:"subscribe",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("function"!=typeof e)throw new TypeError("Listener must be of type function.");var i="idx_"+to(this,ro).getNextIdentifier();return to(this,oo)[t]=to(this,oo)[t]||{},to(this,oo)[t][i]={callback:e,scope:r,priority:o},t in to(this,io)&&delete to(this,io)[t],function(){t in to(n,oo)&&i in to(n,oo)[t]&&delete to(n,oo)[t][i]}}},{key:"dispatch",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o,i=Jr(this.getSortedListeners(t));try{for(i.s();!(o=i.n()).done;){var a,u=o.value;(a=u.callback).call.apply(a,[u.scope].concat(n))}}catch(t){i.e(t)}finally{i.f()}}},{key:"reset",value:function(){eo(this,oo,{})}},{key:"getSortedListeners",value:function(t){if(t in to(this,io))return to(this,io)[t];var e=Object.values(to(this,oo)[t]||{}).sort((function(t,e){return t.priority>e.priority?-1:t.priority<e.priority?1:0}));return to(this,io)[t]=e}}],n&&Qr(e.prototype,n),r&&Qr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),uo=n(1106);function co(t){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(t)}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===co(i)?i:String(i)),r)}var o,i}function so(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function fo(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,yo(t,e,"get"))}function po(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,yo(t,e,"set"),n),n}function yo(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var vo=new WeakMap,bo=new WeakMap,mo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),so(this,vo,{writable:!0,value:void 0}),so(this,bo,{writable:!0,value:void 0}),po(this,vo,e),po(this,bo,{})}var e,n,r;return e=t,(n=[{key:"getTemplate",value:function(t){if(t in fo(this,bo))return fo(this,bo)[t];if(!(t in fo(this,vo)))throw new Error('Template with type "'.concat(t,'" not found.'));return fo(this,bo)[t]=uo(fo(this,vo)[t])}}])&&lo(e.prototype,n),r&&lo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ho(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ho(i)?i:String(i)),r)}var o,i}function go(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function So(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Eo(t,e,"set"),n),n}function Eo(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var jo=new WeakMap,To=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),go(this,jo,{writable:!0,value:void 0}),So(this,jo,new mo(e))}var e,n,r;return e=t,(n=[{key:"render",value:function(t){return(e=this,n=jo,function(t,e){return e.get?e.get.call(t):e.value}(e,Eo(e,n,"get"))).getTemplate(t.positionData.displayType)({banner:t,data:t.bannerData});var e,n}}])&&wo(e.prototype,n),r&&wo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ko(t){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(t)}function Oo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oo(Object(n),!0).forEach((function(e){_o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _o(t,e,n){return(e=Io(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ao(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return No(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function No(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Io(r.key),r)}}function Io(t){var e=function(t,e){if("object"!==ko(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ko(e)?e:String(e)}var Mo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"create",value:function(t,e,n,r,o,i){var a=[];for(var u in o)a.push({pixels:parseInt(u),ratio:o[u]});a=a.sort((function(t,e){return e.pixels-t.pixels}));var c=function(t){var e,n=getComputedStyle(t),o=(t.offsetWidth-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))-(parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)))*(t.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))-(parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))),i=Ao(a);try{for(i.s();!(e=i.n()).done;){var u=e.value;if(o>=u.pixels)return u.ratio}}catch(t){i.e(t)}finally{i.f()}return r};return new IntersectionObserver((function(r){var o,a=[],u={},l={},s=Ao(r);try{for(s.s();!(o=s.n()).done;){var f=o.value,p=f.target.dataset.ampBannerFingerprint,y=t.getBannerByFingerprint(p);if(y){var v=n[p];if(v){var b={fingerprint:v.fingerprint,element:f.target,banner:y};if(a.push(Po(Po({},b),{},{entry:f})),!v.alreadySeen){var d=f.intersectionRatio>=c(f.target);u[p]=!(p in u)||!u[p].isIntersecting&&d?{fingerprintArgs:b,fingerprintMetadata:v,isIntersecting:d}:u[p]}if(!v.alreadyFullySeen){var m=.99<=f.intersectionRatio;l[p]=!(p in l)||!l[p].isFullyIntersecting&&m?{fingerprintArgs:b,fingerprintMetadata:v,isFullyIntersecting:m}:l[p]}}}}}catch(t){s.e(t)}finally{s.f()}for(var h=function(){var t=g[w],n=t.fingerprintArgs,r=t.fingerprintMetadata,o=t.isIntersecting;o&&!r.alreadySeen&&null===r.firstTimeSeenTimeoutId?r.firstTimeSeenTimeoutId=setTimeout((function(){r.alreadySeen=!0,e.dispatch(re.ON_BANNER_FIRST_TIME_SEEN,n)}),i):o||null===r.firstTimeSeenTimeoutId||(clearTimeout(r.firstTimeSeenTimeoutId),r.firstTimeSeenTimeoutId=null)},w=0,g=Object.values(u);w<g.length;w++)h();for(var S=function(){var t=j[E],n=t.fingerprintArgs,r=t.fingerprintMetadata,o=t.isFullyIntersecting;o&&!r.alreadyFullySeen&&null===r.firstTimeFullySeenTimeoutId?r.firstTimeFullySeenTimeoutId=setTimeout((function(){r.alreadyFullySeen=!0,e.dispatch(re.ON_BANNER_FIRST_TIME_FULLY_SEEN,n)}),i):o||null===r.firstTimeFullySeenTimeoutId||(clearTimeout(r.firstTimeFullySeenTimeoutId),r.firstTimeFullySeenTimeoutId=null)},E=0,j=Object.values(l);E<j.length;E++)S();for(var T=0,k=a;T<k.length;T++){var O=k[T];e.dispatch(re.ON_BANNER_INTERSECTION_CHANGED,O)}}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,.99]})}}],(n=null)&&Ro(e.prototype,n),r&&Ro(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function xo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Do(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Do(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Co(i)?i:String(i)),r)}var o,i}function Bo(t,e,n){Fo(t,e),e.set(t,n)}function Fo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uo(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Lo(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,$o(t,e,"get"))}function zo(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,$o(t,e,"set"),n),n}function $o(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Ho=new WeakMap,Go=new WeakMap,qo=new WeakMap,Vo=new WeakMap,Yo=new WeakMap,Ko=new WeakSet,Jo=function(){function t(e,n,r){var o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fo(o=this,i=Ko),i.add(o),Bo(this,Ho,{writable:!0,value:void 0}),Bo(this,Go,{writable:!0,value:void 0}),Bo(this,qo,{writable:!0,value:void 0}),Bo(this,Vo,{writable:!0,value:void 0}),Bo(this,Yo,{writable:!0,value:void 0}),zo(this,Ho,!1),zo(this,Go,e),zo(this,qo,n),zo(this,Vo,{}),zo(this,Yo,Mo.create(e,n,Lo(this,Vo),r.defaultIntersectionRatio,r.intersectionRatioMap,r.firstTimeSeenTimeout))}var e,n,r;return e=t,(n=[{key:"start",value:function(){var t=this;if(!Lo(this,Ho)){zo(this,Ho,!0),Lo(this,qo).subscribe(re.ON_BANNER_STATE_CHANGED,(function(e){te.RENDERED!==e.state||e.isEmbed()||Uo(t,Ko,Xo).call(t,e)}),null,-100);var e,n=xo(Lo(this,Go).getBannersByState({state:te.RENDERED,embed:!1}));try{for(n.s();!(e=n.n()).done;){var r=e.value;Uo(this,Ko,Xo).call(this,r)}}catch(t){n.e(t)}finally{n.f()}}}}])&&Wo(e.prototype,n),r&&Wo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xo(t){var e,n=this,r=this,o=xo(t.element.querySelectorAll("[data-amp-banner-fingerprint]"));try{var i=function(){var t=e.value,o=t.dataset.ampBannerFingerprint;o in Lo(n,Vo)||(Lo(n,Vo)[o]={fingerprint:ke.createFromValue(o),alreadySeen:!1,alreadyFullySeen:!1,firstTimeSeenTimeoutId:null,firstTimeFullySeenTimeoutId:null}),void 0===t.dataset.ampBannerFingerprintObserved&&(t.dataset.ampBannerFingerprintObserved="true",Lo(n,Yo).observe(t));var i,a=xo(t.getElementsByTagName("a"));try{for(a.s();!(i=a.n()).done;){var u=i.value;void 0===u.dataset.ampClickingAttached&&(u.dataset.ampClickingAttached="true",u.addEventListener("click",(function(t){var e=Lo(r,Vo)[o];if(e){var n=Lo(r,Go).getBannerByFingerprint(o);if(n){var i={fingerprint:e.fingerprint,element:this.closest("[data-amp-banner-fingerprint]"),banner:n,target:this,clickEvent:t};e.alreadySeen||(e.alreadySeen=!0,Lo(r,qo).dispatch(re.ON_BANNER_FIRST_TIME_SEEN,i)),Lo(r,qo).dispatch(re.ON_BANNER_LINK_CLICKED,i)}else console.warn('Unable to invoke an event "amp:banner:link-clicked" because the banner for fingerprint "'.concat(o,'" not found.'))}else console.warn('Unable to invoke an event "amp:banner:link-clicked" because the fingerprint "'.concat(o,'" not managed.'))})))}}catch(t){a.e(t)}finally{a.f()}};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qo(i)?i:String(i)),r)}var o,i}var ti=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"BANNER_LOADED",get:function(){return"amp:banner:loaded"}},{key:"BANNER_DISPLAYED",get:function(){return"amp:banner:displayed"}},{key:"BANNER_FULLY_DISPLAYED",get:function(){return"amp:banner:fully-displayed"}},{key:"BANNER_CLICKED",get:function(){return"amp:banner:clicked"}},{key:"EVENTS",get:function(){return[t.BANNER_LOADED,t.BANNER_DISPLAYED,t.BANNER_FULLY_DISPLAYED,t.BANNER_CLICKED]}}],(n=null)&&Zo(e.prototype,n),r&&Zo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(n),!0).forEach((function(e){oi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oi(t,e,n){return(e=ci(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ii(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ai(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ai(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ai(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ci(r.key),r)}}function ci(t){var e=function(t,e){if("object"!==ei(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ei(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ei(e)?e:String(e)}function li(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function si(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,pi(t,e,"get"))}function fi(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,pi(t,e,"set"),n),n}function pi(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var yi=new WeakMap,vi=new WeakMap,bi=new WeakMap,di=new WeakMap,mi=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),li(this,yi,{writable:!0,value:void 0}),li(this,vi,{writable:!0,value:void 0}),li(this,bi,{writable:!0,value:void 0}),li(this,di,{writable:!0,value:void 0}),fi(this,yi,e),fi(this,vi,n),fi(this,bi,r),fi(this,di,!1)}var e,n,r;return e=t,(n=[{key:"attach",value:function(){if(!si(this,di)){fi(this,di,!0);var t=si(this,vi),e=si(this,bi),n=si(this,yi);if(n.hasAnyReceiver()){var r=function(t,n){var r=n.getCurrenBreakpoint(t.bannerId);return r=null===r?"default":"".concat("min"===n.positionData.breakpointType?">=":"<=").concat(r),{channel_code:e,banner_id:t.bannerId,banner_name:t.bannerName,position_id:t.positionId,position_code:t.positionCode,position_name:t.positionName,campaign_id:t.campaignId,campaign_code:t.campaignCode,campaign_name:t.campaignName,breakpoint:r}};n.isEventEnabled(ti.BANNER_LOADED)&&t.subscribe(re.ON_BANNER_STATE_CHANGED,(function(t){if(!t.isEmbed()&&te.RENDERED===t.state&&1===t.stateCounter){var e,o=ii(t.fingerprints);try{for(o.s();!(e=o.n()).done;){var i=e.value;n.send(ti.BANNER_LOADED,r(i,t))}}catch(t){o.e(t)}finally{o.f()}}})),n.isEventEnabled(ti.BANNER_DISPLAYED)&&t.subscribe(re.ON_BANNER_FIRST_TIME_SEEN,(function(t){var e=t.fingerprint,o=t.banner;n.send(ti.BANNER_DISPLAYED,r(e,o))})),n.isEventEnabled(ti.BANNER_FULLY_DISPLAYED)&&t.subscribe(re.ON_BANNER_FIRST_TIME_FULLY_SEEN,(function(t){var e=t.fingerprint,o=t.banner;n.send(ti.BANNER_FULLY_DISPLAYED,r(e,o))})),n.isEventEnabled(ti.BANNER_CLICKED)&&t.subscribe(re.ON_BANNER_LINK_CLICKED,(function(t){var e=t.fingerprint,o=t.banner,i=t.target;n.send(ti.BANNER_CLICKED,ri(ri({},r(e,o)),{},{link:i.href||""}))}))}}}}])&&ui(e.prototype,n),r&&ui(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),hi=!1;const wi=function(t,e){if(!("plausible"in window)||"function"!=typeof window.plausible)return!hi&&console.warn("Unable to send metrics to Plausible because the function plausible() does not occur in the window."),void(hi=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.plausible(t,{props:e})};var gi=!1;const Si=function(t,e){if(!("gtag"in window)||"function"!=typeof window.gtag)return!gi&&console.warn("Unable to send metrics to Google Analytics because the function gtag() does not occur in the window."),void(gi=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.gtag("event",t,e)};function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function ji(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ti(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ei(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ei(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ei(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ki=!1;const Oi=function(t,e){if(!("dataLayer"in window))return!ki&&console.warn("Unable to send metrics to GTM because the dataLayer does not occur in the window."),void(ki=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.dataLayer.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ji(Object(n),!0).forEach((function(e){Ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({event:t},e))},Pi=function(t,e){console.log("Sending metrics.",{eventName:t,eventArgs:e})};function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}function Ai(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ni(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==_i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===_i(i)?i:String(i)),r)}var o,i}function Ii(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Mi(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,xi(t,e,"get"))}function Ci(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,xi(t,e,"set"),n),n}function xi(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Di=new WeakMap,Wi=new WeakMap,Bi=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ii(this,Di,{writable:!0,value:void 0}),Ii(this,Wi,{writable:!0,value:void 0}),Ci(this,Di,Array.isArray(e)?e:[e]),Ci(this,Wi,n)}var e,n,r;return e=t,r=[{key:"createFromReceivers",value:function(e,n){if(!e)return new t([],n);var r,o=[],i=Ai(e=Array.isArray(e)?e:[e]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("function"!=typeof a)switch(a){case"plausible":o.push(wi);break;case"gtag":o.push(Si);break;case"gtm":o.push(Oi);break;case"debug":o.push(Pi);break;default:console.warn("Unable to send metrics to a receiver of unknown type",a)}else o.push(a)}}catch(t){i.e(t)}finally{i.f()}return new t(o,n)}}],(n=[{key:"hasAnyReceiver",value:function(){return Mi(this,Di).length}},{key:"isEventEnabled",value:function(t){return-1!==ti.EVENTS.indexOf(t)&&-1===Mi(this,Wi).indexOf(t)}},{key:"send",value:function(t,e){if(this.isEventEnabled(t)){var n,r=Ai(Mi(this,Di));try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(t){r.e(t)}finally{r.f()}}}}])&&Ri(e.prototype,n),r&&Ri(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Fi(t){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Fi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Fi(i)?i:String(i)),r)}var o,i}function Li(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function zi(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Hi(t,e,"get"))}function $i(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Hi(t,e,"set"),n),n}function Hi(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Gi=new WeakMap,qi=new WeakMap,Vi=function(){function t(e){var n=e.origins,r=void 0===n?[]:n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Li(this,Gi,{writable:!0,value:void 0}),Li(this,qi,{writable:!0,value:void 0}),$i(this,qi,new ao),$i(this,Gi,r)}var e,n,r;return e=t,n=[{key:"on",value:function(t,e){zi(this,qi).subscribe(t,e)}},{key:"send",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";t.postMessage({message:e,data:n},r)}},{key:"listen",value:function(){var t=this;window.addEventListener("message",(function(e){if(!(0<zi(t,Gi).length&&-1===zi(t,Gi).indexOf(e.origin)||"object"!==Fi(e.data))&&"message"in e.data&&"data"in e.data){var n=e.data,r=n.message,o={data:n.data,origin:e.origin};t._beforeDispatch(r,o)&&zi(t,qi).dispatch(r,o)}}),!1)}},{key:"_beforeDispatch",value:function(){return!0}}],n&&Ui(e.prototype,n),r&&Ui(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Ki(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ji(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ji(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ji(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Yi(i)?i:String(i)),r)}var o,i}function Qi(t,e){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qi(t,e)}function Zi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ea(t);if(e){var o=ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}(this,n)}}function ta(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ea(t){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ea(t)}function na(t,e){oa(t,e),e.add(t)}function ra(t,e,n){oa(t,e),e.set(t,n)}function oa(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ia(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ca(t,e,"get"))}function aa(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ua(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ca(t,e,"set"),n),n}function ca(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var la=new WeakMap,sa=new WeakMap,fa=new WeakMap,pa=new WeakMap,ya=new WeakMap,va=new WeakSet,ba=new WeakSet,da=new WeakSet,ma=new WeakSet,ha=new WeakSet,wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qi(t,e)}(i,t);var e,n,r,o=Zi(i);function i(t){var e,n=t.origin,r=t.connectionData,a=t.bannerManager,u=t.metricsSender;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),na(ta(e=o.call(this,{origins:[n]})),ha),na(ta(e),ma),na(ta(e),da),na(ta(e),ba),na(ta(e),va),ra(ta(e),la,{writable:!0,value:void 0}),ra(ta(e),sa,{writable:!0,value:void 0}),ra(ta(e),fa,{writable:!0,value:void 0}),ra(ta(e),pa,{writable:!0,value:void 0}),ra(ta(e),ya,{writable:!0,value:[]}),ua(ta(e),la,n),ua(ta(e),sa,r),ua(ta(e),fa,a),ua(ta(e),pa,u);var c={};for(var l in c.adjustHeight=aa(ta(e),va,ga),c.stateChanged=aa(ta(e),ba,Sa),c.linkClicked=aa(ta(e),da,Ea),c.metrics=aa(ta(e),ma,ja),c)e.on(l,c[l].bind(ta(e)));return window.addEventListener("resize",(function(){var t,n=Ki(ia(ta(e),fa).getBannersByState({state:ia(ta(e),fa).STATE.RENDERED,managed:!1,external:!1,embed:!0}));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.sendToBanner(r,"windowResized",{windowWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})}}catch(t){n.e(t)}finally{n.f()}})),e}return e=i,(n=[{key:"connectBanner",value:function(t){var e=this;t.element.addEventListener("load",(function(){var n=ia(e,sa);n.uid=t.uid,n.windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e.sendToBanner(t,"connect",n)}))}},{key:"sendToBanner",value:function(t,e,n){this.send(t.element.contentWindow,e,n,ia(this,la))}},{key:"_beforeDispatch",value:function(t,e){var n=e.data.uid;if(-1===ia(this,ya).indexOf(n)){var r=aa(this,ha,Ta).call(this,n);r&&(r.element.style.visibility="visible",ia(this,ya).push(n))}return!0}}])&&Xi(e.prototype,n),r&&Xi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Vi);function ga(t){var e=t.data,n=aa(this,ha,Ta).call(this,e.uid);n&&(n.element.style.height=e.height+"px")}function Sa(t){var e=t.data,n=aa(this,ha,Ta).call(this,e.uid);null!==n&&("positionData"in e&&n.updatePositionData(e.positionData),n.setState(e.state,"[embed]: ".concat(e.stateInfo)))}function Ea(t){var e=t.data,n=e.href,r=e.target;"_blank"===r?window.open(n,r):window.location.href=n}function ja(t){var e=t.data,n=e.eventName,r=e.eventArgs;ia(this,pa).hasAnyReceiver()&&ia(this,pa).isEventEnabled(n)&&ia(this,pa).send(n,r)}function Ta(t){var e=ia(this,fa).getBannerByUid(t);return e instanceof wr?e:(console.warn("Error in communication with embed banner. Embed banner with UID ".concat(t," not attached.")),null)}function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function Oa(t){return function(t){if(Array.isArray(t))return Aa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _a(t,e){if(t){if("string"==typeof t)return Aa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(t,e):void 0}}function Aa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ka(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ka(i)?i:String(i)),r)}var o,i}function Ra(t,e,n){Ia(t,e),e.set(t,n)}function Ia(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ma(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,xa(t,e,"get"))}function Ca(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,xa(t,e,"set"),n),n}function xa(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Da=new WeakMap,Wa=new WeakMap,Ba=new WeakMap,Fa=new WeakMap,Ua=new WeakMap,La=new WeakMap,za=new WeakMap,$a=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,qa=new WeakMap,Va=new WeakSet,Ya=function(){function t(e,n){var r,o,i=this;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ia(r=this,o=Va),o.add(r),Ra(this,Da,{writable:!0,value:void 0}),Ra(this,Wa,{writable:!0,value:void 0}),Ra(this,Ba,{writable:!0,value:void 0}),Ra(this,Fa,{writable:!0,value:void 0}),Ra(this,Ua,{writable:!0,value:void 0}),Ra(this,La,{writable:!0,value:null}),Ra(this,za,{writable:!0,value:void 0}),Ra(this,$a,{writable:!0,value:void 0}),Ra(this,Ha,{writable:!0,value:void 0}),Ra(this,Ga,{writable:!0,value:void 0}),Ra(this,qa,{writable:!0,value:void 0}),this.EVENTS=re,Ca(this,Da,e),Ca(this,Wa,n=function(t){var e=p({method:"GET",url:null,version:1,channel:null,locale:null,resources:{},origin:null,template:y,interaction:{defaultIntersectionRatio:.5,intersectionRatioMap:{},firstTimeSeenTimeout:1e3},metrics:{receiver:null,disabledEvents:[]}},t);if("string"!=typeof e.method||!(e.method.toUpperCase()in{GET:1,POST:1}))throw new Error('The option "method" must be one of these ["GET", "POST"], '.concat(e.method," passed."));if(e.method=e.method.toUpperCase(),"string"!=typeof e.url)throw new Error('The option "url" is required and must be a valid URL, '.concat(e.url," passed."));if("number"!=typeof e.version)throw new Error('The option "version" must be a number, '.concat(e.version," passed."));if("string"!=typeof e.channel)throw new Error('The option "channel" is required and must be a string, '.concat(e.channel," passed."));if(null!==e.locale&&"string"!=typeof e.locale)throw new Error('The option "locale" must be a string, '.concat(e.locale," passed."));if("object"!==d(e.resources))throw new Error('The option "resources" must be an object of that describes resources, '.concat(e.resources," passed."));if(null!==e.origin&&"string"!=typeof e.origin)throw new Error('The option "origin" must be a valid URL, '.concat(e.origin," passed."));if("object"!==d(e.template))throw new Error('The option "template" must be an object of the format { single: string, random: string, multiple: string }, '.concat(e.template," passed."));for(var n=0,r=Object.entries(e.template);n<r.length;n++){var o=v(r[n],2),i=o[0],a=o[1];if("string"!=typeof a)throw new Error('The option "template.'.concat(i,'" must be a string (lodash template), ').concat(a," passed."))}if("object"!==d(e.interaction))throw new Error('The option "interaction" must be an object of the format { intersectionRatio: int|float, firstTimeSeenTimeout: int }, '.concat(e.interaction," passed."));if("number"!=typeof e.interaction.defaultIntersectionRatio||.1>e.interaction.defaultIntersectionRatio||1<e.interaction.defaultIntersectionRatio)throw new Error('The option "interaction.defaultIntersectionRatio" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "'.concat(e.interaction.defaultIntersectionRatio,'" passed.'));if(e.interaction.defaultIntersectionRatio=m(e.interaction.defaultIntersectionRatio,"interaction.defaultIntersectionRatio"),"object"!==d(e.interaction.intersectionRatioMap))throw new Error('The option "interaction.intersectionRatioMap" must be an object with an integer keys (pixels) and valid ratios as values, '.concat(e.interaction.intersectionRatioMap," passed."));for(var u=0,c=Object.entries(e.interaction.intersectionRatioMap);u<c.length;u++){var l=v(c[u],2),s=l[0],f=l[1];if(Number(s).toString()!==s)throw new Error('The key "interaction.intersectionRatioMap.'.concat(s,'" must be an integer.'));if("number"!=typeof f||.1>f||1<f)throw new Error('The option "interaction.intersectionRatioMap.'.concat(s,'" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "').concat(e.interaction.intersectionRatioMap[s],'" passed.'));e.interaction.intersectionRatioMap[s]=m(f,"interaction.intersectionRatioMap."+s)}if(!Number.isInteger(e.interaction.firstTimeSeenTimeout)||500>e.interaction.firstTimeSeenTimeout)throw new Error('The option "interaction.firstTimeSeenTimeout" must be a int with a minimum value of 500, "'.concat(e.interaction.firstTimeSeenTimeout,'" passed.'));if("object"!==d(e.metrics))throw new Error('The option "metrics" must be an object of the format { receiver: null|string|function|array<string|function>, disabledEvents: array<string> }, '.concat(e.metrics," passed."));if(null!==e.metrics.receiver&&-1===["string","function"].indexOf(d(e.metrics.receiver))&&!Array.isArray(e.metrics.receiver))throw new Error('The option "metrics.receiver" must be a null or a string or a function or an array of strings|functions, "'.concat(e.metrics.receiver,'" passed.'));if(Array.isArray(e.metrics.receiver)){for(var b in e.metrics.receiver)if(-1===["string","function"].indexOf(d(e.metrics.receiver[b])))throw new Error('The option "metrics.receiver.'.concat(b,'" must be a string or a function, "').concat(e.metrics.receiver[b],'" passed.'))}else e.metrics.receiver=null!==e.metrics.receiver?[e.metrics.receiver]:[];if(!Array.isArray(e.metrics.disabledEvents))throw new Error('The option "metrics.disabledEvents" must an array of strings (event names), "'.concat(e.metrics.disabledEvents,'" passed.'));for(var h in e.metrics.disabledEvents)if("string"!=typeof e.metrics.disabledEvents[h])throw new Error('The option "metrics.disabledEvents.'.concat(h,'" must be a string, "').concat(e.metrics.disabledEvents[h],'" passed.'));return e}(n)),Ca(this,Ba,new ao),Ca(this,Fa,new Bt(n.method,n.url,n.version,n.channel)),Ca(this,Ua,new Xt(n.url,n.version,n.channel)),Ca(this,za,new Lr(Ma(this,Ba),Yr.fromCurrentWindow(),new To(n.template))),Ca(this,$a,new Jo(Ma(this,za),Ma(this,Ba),n.interaction)),Ca(this,Ha,Bi.createFromReceivers(n.metrics.receiver,n.metrics.disabledEvents)),Ca(this,Ga,new mi(Ma(this,Ha),Ma(this,Ba),n.channel)),Ca(this,qa,new wa({origin:n.url,connectionData:{extendedConfig:{interaction:n.interaction}},bannerManager:Ma(this,za),metricsSender:Ma(this,Ha)})),this.setLocale(n.locale),Ma(this,Fa).origin=n.origin,n.resources)Ma(this,Fa).addDefaultResource(a,n.resources[a]),Ma(this,Ua).addDefaultResource(a,n.resources[a]);window.addEventListener("resize",(function(){var t,e=Pa(Ma(i,za).getBannersByState({state:Ma(i,za).STATE.RENDERED,managed:!0,external:!0,embed:!1}));try{for(e.s();!(t=e.n()).done;){t.value.redrawIfNeeded()}}catch(t){e.e(t)}finally{e.f()}})),Ma(this,qa).listen(),Ma(this,Ga).attach(),Ma(this,$a).start()}var e,n,r;return e=t,n=[{key:"version",get:function(){return Ma(this,Da)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ma(this,Ba).subscribe(t,e,n)}},{key:"setLocale",value:function(t){Ma(this,Fa).locale=t,Ma(this,Ua).locale=t}},{key:"setGateway",value:function(t){if(!function(t){return t instanceof g}(t))throw new TypeError("Argument gateway mut be instance of AbstractGateway.");Ca(this,La,t)}},{key:"getGateway",value:function(){return null===Ma(this,La)&&this.setGateway(new Z),Ma(this,La)}},{key:"createBanner",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"managed";if(t=Pr(t),"embed"===o){var i=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(this,Va,Ka).call(this,t,e,n,r),a=Ma(this,za).addEmbedBanner(i,e,r);return Ma(this,qa).connectBanner(a),t.insertAdjacentElement("afterend",i),t.remove(),a}return Ma(this,za).addManagedBanner(t,e,n,r)}},{key:"attachBanners",value:function(){var t,e=Pa((arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-amp-banner]:not([data-amp-attached])"));try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n.dataset.ampBanner;if(r){var o=void 0;if("ampBannerExternal"in n.dataset)o=Ma(this,za).addExternalBanner(n);else{var i=Xn.parseResources(n),a=Xn.parseOptions(n),u=n.dataset.ampMode||"managed";o=this.createBanner(n,r,i,a,u)}Ma(this,Ba).dispatch(this.EVENTS.ON_BANNER_ATTACHED,o)}else console.warn("Unable to attach a banner to the element ",n,' because the attribute "data-amp-banner" has an empty value.')}}catch(t){e.e(t)}finally{e.f()}}},{key:"fetch",value:function(){var t=this,e=Ma(this,za).getBannersByState({state:Ma(this,za).STATE.NEW,managed:!0,external:!1,embed:!1});if(e.length){var n,r=Ma(this,Fa).create(),o=Pa(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.addPosition(i.position,i.resources,"1"!==i.options.get("omit-default-resources","0").toString())}}catch(t){o.e(t)}finally{o.f()}Ma(this,Ba).dispatch(this.EVENTS.ON_BEFORE_FETCH),this.getGateway().fetch(r,(function(n){var r,o=n.data,i=Pa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.position in o&&"banners"in o[a.position]&&Object.values(o[a.position].banners).length){var u=o[a.position];Array.isArray(u.banners)||(u.banners=Object.values(u.banners)),"embed"!==u.mode?a.setResponseData(u):(t.createBanner(a.element,a.position,a.rawResources,a.options.options,u.mode),Ma(t,za).removeBanner(a))}else a.setState(Ma(t,za).STATE.NOT_FOUND,"Banner not found in fetched response.")}}catch(t){i.e(t)}finally{i.f()}Ma(t,Ba).dispatch(t.EVENTS.ON_FETCH_SUCCESS,n)}),(function(n){var r,o=Pa(e);try{for(o.s();!(r=o.n()).done;)r.value.setState(Ma(t,za).STATE.ERROR,"Request on api failed.")}catch(t){o.e(t)}finally{o.f()}Ma(t,Ba).dispatch(t.EVENTS.ON_FETCH_ERROR,n)}))}}}],n&&Na(e.prototype,n),r&&Na(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ka(t,e,n,r){var o=document.createElement("iframe"),i="cv=".concat(encodeURIComponent(this.version.semver)),a=t.dataset.ampEmbedSrc||Ma(this,Ua).create(e,n,r);return a+=-1===a.indexOf("?")?"?".concat(i):"&".concat(i),Oa(t.attributes).map((function(t){var e=t.name,n=t.value;o.setAttribute(e,n)})),o.width="100%",o.height="100%",o.allowFullscreen=!0,o.scrolling="no",o.style.border="none",o.style.overflow="hidden",o.style.background="transparent",o.style.visibility="hidden",o.src=a,o.setAttribute("allowtransparency","true"),"lazy"===r.loading&&(o.loading="lazy"),o}function Ja(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qa(t){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(t)}var Za=function(t,e){var n=Math.round(10*t)/10;return n!==t&&console.warn('The value for the option "'.concat(e,'" has been rounded to ').concat(n," (originally ").concat(t,").")),n};function tu(t){var e=p({interaction:{defaultIntersectionRatio:.5,intersectionRatioMap:{},firstTimeSeenTimeout:1e3}},t);if("object"!==Qa(e.interaction))throw new Error('The option "interaction" must be an object of the format { intersectionRatio: int|float, firstTimeSeenTimeout: int }, '.concat(e.interaction," passed."));if("number"!=typeof e.interaction.defaultIntersectionRatio||.1>e.interaction.defaultIntersectionRatio||1<e.interaction.defaultIntersectionRatio)throw new Error('The option "interaction.defaultIntersectionRatio" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "'.concat(e.interaction.defaultIntersectionRatio,'" passed.'));if(e.interaction.defaultIntersectionRatio=Za(e.interaction.defaultIntersectionRatio,"interaction.defaultIntersectionRatio"),"object"!==Qa(e.interaction.intersectionRatioMap))throw new Error('The option "interaction.intersectionRatioMap" must be an object with an integer keys (pixels) and valid ratios as values, '.concat(e.interaction.intersectionRatioMap," passed."));for(var n=0,r=Object.entries(e.interaction.intersectionRatioMap);n<r.length;n++){var o=Ja(r[n],2),i=o[0],a=o[1];if(Number(i).toString()!==i)throw new Error('The key "interaction.intersectionRatioMap.'.concat(i,'" must be an integer.'));if("number"!=typeof a||.1>a||1<a)throw new Error('The option "interaction.intersectionRatioMap.'.concat(i,'" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "').concat(e.interaction.intersectionRatioMap[i],'" passed.'));e.interaction.intersectionRatioMap[i]=Za(a,"interaction.intersectionRatioMap."+i)}if(!Number.isInteger(e.interaction.firstTimeSeenTimeout)||500>e.interaction.firstTimeSeenTimeout)throw new Error('The option "interaction.firstTimeSeenTimeout" must be a int with a minimum value of 500, "'.concat(e.interaction.firstTimeSeenTimeout,'" passed.'));return e}function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function nu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ru(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==eu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===eu(i)?i:String(i)),r)}var o,i}function iu(t,e){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iu(t,e)}function au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cu(t);if(e){var o=cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uu(t)}(this,n)}}function uu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(t)}function lu(t,e){fu(t,e),e.add(t)}function su(t,e,n){fu(t,e),e.set(t,n)}function fu(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pu(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,bu(t,e,"get"))}function yu(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function vu(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,bu(t,e,"set"),n),n}function bu(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var du=new WeakMap,mu=new WeakMap,hu=new WeakMap,wu=new WeakMap,gu=new WeakSet,Su=new WeakSet,Eu=new WeakSet,ju=new WeakSet,Tu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(i,t);var e,n,r,o=au(i);function i(t){var e,n=t.clientEventBus,r=t.origin,a=void 0===r?void 0:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),lu(uu(e=o.call(this,{origins:void 0!==a?[a]:[]})),ju),lu(uu(e),Eu),lu(uu(e),Su),lu(uu(e),gu),su(uu(e),du,{writable:!0,value:void 0}),su(uu(e),mu,{writable:!0,value:void 0}),su(uu(e),hu,{writable:!0,value:void 0}),su(uu(e),wu,{writable:!0,value:void 0}),vu(uu(e),du,n),vu(uu(e),mu,a),vu(uu(e),hu,null),vu(uu(e),wu,[]);var u={};u.connect=yu(uu(e),gu,ku);var c={};for(var l in c[re.ON_BANNER_STATE_CHANGED]=[yu(uu(e),Su,Ou),0],c[re.ON_BANNER_LINK_CLICKED]=[yu(uu(e),Eu,Pu),-100],c)pu(uu(e),du).subscribe(l,c[l][0].bind(uu(e)),null,c[l][1]);for(var s in u)e.on(s,u[s].bind(uu(e)));return e}return e=i,(n=[{key:"sendToParent",value:function(t,e){null!==pu(this,hu)?(e.uid=pu(this,hu),this.send(window.parent,t,e,pu(this,mu)||"*")):pu(this,wu).push({message:t,data:e})}}])&&ou(e.prototype,n),r&&ou(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Vi);function ku(t){var e=this,n=t.data;if(null===pu(this,hu)){var r=n.uid;vu(this,hu,r);var o=void 0,i=function(){var t=document.body.scrollHeight;o!==t&&(o=t,e.sendToParent("adjustHeight",{height:t}))};i(),setInterval(i,100),yu(this,ju,_u).call(this)}else console.warn("The frame is already connected to the parent under the UID ".concat(pu(this,hu),"."))}function Ou(t){if(te.NEW!==t.state){var e={state:t.state,stateInfo:t.stateInfo};1===t.stateCounter&&(e.positionData=t.positionData.toObject()),this.sendToParent("stateChanged",e)}}function Pu(t){var e=t.target;t.clickEvent.preventDefault(),this.sendToParent("linkClicked",{href:e.href,target:e.target||null})}function _u(){var t,e=nu(pu(this,wu));try{for(e.s();!(t=e.n()).done;){var n=t.value;this.sendToParent(n.message,n.data)}}catch(t){e.e(t)}finally{e.f()}vu(this,wu,[])}function Au(t){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(t)}function Nu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ru(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ru(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Au(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Au(i)?i:String(i)),r)}var o,i}function Mu(t,e){xu(t,e),e.add(t)}function Cu(t,e,n){xu(t,e),e.set(t,n)}function xu(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Du(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Wu(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Fu(t,e,"get"))}function Bu(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Fu(t,e,"set"),n),n}function Fu(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Uu=new WeakMap,Lu=new WeakMap,zu=new WeakMap,$u=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,qu=new WeakMap,Vu=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,Ju=new WeakMap,Xu=new WeakSet,Qu=new WeakSet,Zu=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Mu(this,Qu),Mu(this,Xu),Cu(this,Uu,{writable:!0,value:void 0}),Cu(this,Lu,{writable:!0,value:void 0}),Cu(this,zu,{writable:!0,value:void 0}),Cu(this,$u,{writable:!0,value:void 0}),Cu(this,Hu,{writable:!0,value:void 0}),Cu(this,Gu,{writable:!0,value:void 0}),Cu(this,qu,{writable:!0,value:void 0}),Cu(this,Vu,{writable:!0,value:void 0}),Cu(this,Yu,{writable:!0,value:void 0}),Cu(this,Ku,{writable:!0,value:void 0}),Cu(this,Ju,{writable:!0,value:null}),this.EVENTS=re,Bu(this,Uu,e),Bu(this,Lu,function(t){return p({channel:null},t)}(n)),Bu(this,zu,tu({})),Bu(this,zu,null),Bu(this,$u,new ao),Bu(this,Hu,new Lr(Wu(this,$u),new Yr((function(){return Wu(r,Ju)||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})))),Bu(this,Gu,new Tu({clientEventBus:Wu(this,$u)})),Bu(this,Ku,!1),Bu(this,qu,null),Bu(this,Vu,new Bi([Du(this,Xu,tc).bind(this)],[])),Bu(this,Yu,new mi(Wu(this,Vu),Wu(this,$u),Wu(this,Lu).channel)),Wu(this,Gu).on("connect",(function(t){var e=t.data;Bu(r,zu,tu(e.extendedConfig)),Bu(r,Ju,e.windowWidth),Bu(r,qu,new Jo(Wu(r,Hu),Wu(r,$u),Wu(r,zu).interaction)),Du(r,Qu,ec).call(r),Wu(r,qu).start()})),Wu(this,Gu).on("windowResized",(function(t){var e=t.data;Bu(r,Ju,e.windowWidth),Du(r,Qu,ec).call(r)})),Wu(this,Gu).listen(),Wu(this,Yu).attach()}var e,n,r;return e=t,n=[{key:"version",get:function(){return Wu(this,Uu)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Wu(this,$u).subscribe(t,e,n)}},{key:"attachBanner",value:function(){if(Wu(this,Ku))throw new Error("Method attachBanner() should be called only once.");var t=document.querySelector("[data-amp-banner]:not([data-amp-attached])");if(t){var e=Wu(this,Hu).addExternalBanner(t);Bu(this,Ku,!0),window.self!==window.top&&e.delegateResponsiveBehaviour(),Wu(this,$u).dispatch(this.EVENTS.ON_BANNER_ATTACHED,e)}else console.warn("No banner not found in the embed client.")}}],n&&Iu(e.prototype,n),r&&Iu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tc(t,e){Wu(this,Gu).sendToParent("metrics",{eventName:t,eventArgs:e})}function ec(){var t,e=Nu(Wu(this,Hu).getBannersByState({state:te.RENDERED}));try{for(e.s();!(t=e.n()).done;){t.value.redrawIfNeeded()}}catch(t){e.e(t)}finally{e.f()}}function nc(t){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(t)}function rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==nc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===nc(i)?i:String(i)),r)}var o,i}var oc="1.5.0",ic=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ya(new f(oc,"standard@".concat(oc)),t)}},{key:"createEmbed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Zu(new f(oc,"embed@".concat(oc)),t)}},{key:"version",get:function(){return oc}}],(n=null)&&rc(e.prototype,n),r&&rc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()})(),AMPClientFactory=r.default})();