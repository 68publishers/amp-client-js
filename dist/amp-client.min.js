var AMPClientFactory;(()=>{var e={7217:(e,t,n)=>{var r=n(3702),i=n(80),s=n(4739),a=n(8655),o=n(1175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=o,e.exports=c},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},7805:(e,t,n)=>{var r=n(3360),i=n(5288);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},6547:(e,t,n)=>{var r=n(3360),i=n(5288),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];s.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9344:(e,t,n)=>{var r=n(3805),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},2552:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5250:(e,t,n)=>{var r=n(7217),i=n(7805),s=n(6649),a=n(2824),o=n(3805),c=n(7241),u=n(4974);e.exports=function e(t,n,l,d,p){t!==n&&s(n,(function(s,c){if(p||(p=new r),o(s))a(t,n,c,l,e,d,p);else{var h=d?d(u(t,c),s,c+"",t,n,p):void 0;void 0===h&&(h=s),i(t,c,h)}}),c)}},2824:(e,t,n)=>{var r=n(7805),i=n(3290),s=n(1961),a=n(3007),o=n(5529),c=n(2428),u=n(6449),l=n(3693),d=n(3656),p=n(1882),h=n(3805),f=n(1331),m=n(7167),g=n(4974),b=n(9884);e.exports=function(e,t,n,v,y,E,w){var _=g(e,n),T=g(t,n),N=w.get(T);if(N)r(e,n,N);else{var R=E?E(_,T,n+"",e,t,w):void 0,S=void 0===R;if(S){var B=u(T),A=!B&&d(T),x=!B&&!A&&m(T);R=T,B||A||x?u(_)?R=_:l(_)?R=a(_):A?(S=!1,R=i(T,!0)):x?(S=!1,R=s(T,!0)):R=[]:f(T)||c(T)?(R=_,c(_)?R=b(_):h(_)&&!p(_)||(R=o(T))):S=!1}S&&(w.set(T,R),y(R,T,v,E,w),w.delete(T)),r(e,n,R)}}},4552:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},9302:(e,t,n)=>{var r=n(3488),i=n(6757),s=n(2865);e.exports=function(e,t){return s(i(e,t,r),e+"")}},514:(e,t,n)=>{var r=n(4932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:(e,t,n)=>{var r=n(6547),i=n(3360);e.exports=function(e,t,n,s){var a=!n;n||(n={});for(var o=-1,c=t.length;++o<c;){var u=t[o],l=s?s(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?i(n,u,l):r(n,u,l)}return n}},999:(e,t,n)=>{var r=n(9302),i=n(6800);e.exports=function(e){return r((function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(s--,a):void 0,o&&i(n[0],n[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++r<s;){var c=n[r];c&&e(t,c,r,a)}return t}))}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var c=a[e?o:++i];if(!1===n(s[c],c,s))break}return t}}},3258:(e,t,n)=>{var r=n(5288),i=Object.prototype,s=i.hasOwnProperty;e.exports=function(e,t,n,a){return void 0===e||r(e,i[n])&&!s.call(a,n)?t:e}},3243:(e,t,n)=>{var r=n(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},1599:(e,t,n)=>{var r=n(4552)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},1911:e=>{var t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+t[e]}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},6110:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},5529:(e,t,n)=>{var r=n(9344),i=n(8879),s=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},6800:e=>{e.exports=function(){return!1}},5527:e=>{e.exports=function(){return!1}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6757:(e,t,n)=>{var r=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,a=-1,o=i(s.length-t,0),c=Array(o);++a<o;)c[a]=s[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=s[a];return u[t]=n(c),r(e,this,u)}}},4491:e=>{e.exports=/<%-([\s\S]+?)%>/g},4459:e=>{e.exports=/<%([\s\S]+?)%>/g},3681:e=>{e.exports=/<%=([\s\S]+?)%>/g},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},2865:e=>{e.exports=function(e){return e}},1200:(e,t,n)=>{var r=n(1791),i=n(999),s=n(7241),a=i((function(e,t,n,i){r(t,s(t),e,i)}));e.exports=a},8385:(e,t,n)=>{var r=n(1033),i=n(9302),s=n(3546),a=i((function(e,t){try{return r(e,void 0,t)}catch(e){return s(e)?e:new Error(e)}}));e.exports=a},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},4425:(e,t,n)=>{var r=n(1599),i=n(3222),s=/[&<>"']/g,a=RegExp(s.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(s,r):e}},3488:e=>{e.exports=function(e){return e}},2428:e=>{e.exports=function(){return!1}},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},3693:(e,t,n)=>{var r=n(4894),i=n(346);e.exports=function(e){return i(e)&&r(e)}},3656:e=>{e.exports=function(){return!1}},3546:(e,t,n)=>{var r=n(2552),i=n(346),s=n(1331);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!s(e)}},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1331:(e,t,n)=>{var r=n(2552),i=n(8879),s=n(346),a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},7167:e=>{e.exports=function(){return!1}},5950:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},7241:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},5364:(e,t,n)=>{var r=n(5250),i=n(999)((function(e,t,n){r(e,t,n)}));e.exports=i},872:(e,t,n)=>{var r=n(1200),i=n(8385),s=n(514),a=n(3258),o=n(1911),c=n(3546),u=n(6800),l=n(5950),d=n(3681),p=n(7025),h=n(3222),f=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/[()=,{}\[\]\/\s]/,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/($^)/,E=/['\n\r\u2028\u2029\\]/g,w=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var _=p.imports._.templateSettings||p;n&&u(e,t,n)&&(t=void 0),e=h(e),t=r({},t,_,a);var T,N,R=r({},t.imports,_.imports,a),S=l(R),B=s(R,S),A=0,x=t.interpolate||y,O="__p += '",I=RegExp((t.escape||y).source+"|"+x.source+"|"+(x===d?v:y).source+"|"+(t.evaluate||y).source+"|$","g"),M=w.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(I,(function(t,n,r,i,s,a){return r||(r=i),O+=e.slice(A,a).replace(E,o),n&&(T=!0,O+="' +\n__e("+n+") +\n'"),s&&(N=!0,O+="';\n"+s+";\n__p += '"),r&&(O+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),A=a+t.length,t})),O+="';\n";var D=w.call(t,"variable")&&t.variable;if(D){if(b.test(D))throw new Error("Invalid `variable` option passed into `_.template`")}else O="with (obj) {\n"+O+"\n}\n";O=(N?O.replace(f,""):O).replace(m,"$1").replace(g,"$1;"),O="function("+(D||"obj")+") {\n"+(D?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(T?", __e = _.escape":"")+(N?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+O+"return __p\n}";var C=i((function(){return Function(S,M+"return "+O).apply(void 0,B)}));if(C.source=O,c(C))throw C;return C}},7025:(e,t,n)=>{var r=n(4425),i={escape:n(4491),evaluate:n(4459),interpolate:n(3681),variable:"",imports:{_:{escape:r}}};e.exports=i},9884:(e,t,n)=>{var r=n(1791),i=n(7241);e.exports=function(e){return r(e,i(e))}},3222:e=>{e.exports=function(e){return e}},9306:(e,t,n)=>{"use strict";var r=n(4901),i=n(6823),s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not a function")}},3506:(e,t,n)=>{"use strict";var r=n(3925),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s("Can't set "+i(e)+" as a prototype")}},679:(e,t,n)=>{"use strict";var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},8551:(e,t,n)=>{"use strict";var r=n(34),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not an object")}},9617:(e,t,n)=>{"use strict";var r=n(5397),i=n(5610),s=n(6198),a=function(e){return function(t,n,a){var o=r(t),c=s(o);if(0===c)return!e&&-1;var u,l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=o[l++])!=u)return!0}else for(;c>l;l++)if((e||l in o)&&o[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4527:(e,t,n)=>{"use strict";var r=n(3724),i=n(4376),s=TypeError,a=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(i(e)&&!a(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},2195:(e,t,n)=>{"use strict";var r=n(9504),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},6955:(e,t,n)=>{"use strict";var r=n(2140),i=n(4901),s=n(2195),a=n(8227)("toStringTag"),o=Object,c="Arguments"===s(function(){return arguments}());e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),a))?n:c?s(t):"Object"===(r=s(t))&&i(t.callee)?"Arguments":r}},7740:(e,t,n)=>{"use strict";var r=n(9297),i=n(5031),s=n(7347),a=n(4913);e.exports=function(e,t,n){for(var o=i(t),c=a.f,u=s.f,l=0;l<o.length;l++){var d=o[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},6699:(e,t,n)=>{"use strict";var r=n(3724),i=n(4913),s=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6840:(e,t,n)=>{"use strict";var r=n(4901),i=n(4913),s=n(283),a=n(9433);e.exports=function(e,t,n,o){o||(o={});var c=o.enumerable,u=void 0!==o.name?o.name:t;if(r(n)&&s(n,u,o),o.global)c?e[t]=n:a(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},9433:(e,t,n)=>{"use strict";var r=n(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4606:(e,t,n)=>{"use strict";var r=n(6823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},3724:(e,t,n)=>{"use strict";var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(e,t,n)=>{"use strict";var r=n(4576),i=n(34),s=r.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},6837:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},5002:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:(e,t,n)=>{"use strict";var r=n(4576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},9519:(e,t,n)=>{"use strict";var r,i,s=n(4576),a=n(2839),o=s.process,c=s.Deno,u=o&&o.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6193:(e,t,n)=>{"use strict";var r=n(9504),i=Error,s=r("".replace),a=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=s(e,o,"");return e}},6518:(e,t,n)=>{"use strict";var r=n(4576),i=n(7347).f,s=n(6699),a=n(6840),o=n(9433),c=n(7740),u=n(2796);e.exports=function(e,t){var n,l,d,p,h,f=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[f]||o(f,{}):r[f]&&r[f].prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(h=i(n,l))&&h.value:n[l],!u(m?l:f+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&s(p,"sham",!0),a(n,l,p,e)}}},9039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},616:(e,t,n)=>{"use strict";var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:(e,t,n)=>{"use strict";var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:(e,t,n)=>{"use strict";var r=n(3724),i=n(9297),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=i(s,"name"),c=o&&"something"===function(){}.name,u=o&&(!r||r&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:u}},6706:(e,t,n)=>{"use strict";var r=n(9504),i=n(9306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},9504:(e,t,n)=>{"use strict";var r=n(616),i=Function.prototype,s=i.call,a=r&&i.bind.bind(s,s);e.exports=r?a:function(e){return function(){return s.apply(e,arguments)}}},7751:(e,t,n)=>{"use strict";var r=n(4576),i=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},5966:(e,t,n)=>{"use strict";var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},4576:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(e,t,n)=>{"use strict";var r=n(9504),i=n(8981),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},421:e=>{"use strict";e.exports={}},5917:(e,t,n)=>{"use strict";var r=n(3724),i=n(9039),s=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7055:(e,t,n)=>{"use strict";var r=n(9504),i=n(9039),s=n(2195),a=Object,o=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?o(e,""):a(e)}:a},3167:(e,t,n)=>{"use strict";var r=n(4901),i=n(34),s=n(2967);e.exports=function(e,t,n){var a,o;return s&&r(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&s(e,o),e}},3706:(e,t,n)=>{"use strict";var r=n(9504),i=n(4901),s=n(7629),a=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},1181:(e,t,n)=>{"use strict";var r,i,s,a=n(8622),o=n(4576),c=n(34),u=n(6699),l=n(9297),d=n(7629),p=n(6119),h=n(421),f="Object already initialized",m=o.TypeError,g=o.WeakMap;if(a||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw new m(f);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},s=function(e){return b.has(e)}}else{var v=p("state");h[v]=!0,r=function(e,t){if(l(e,v))throw new m(f);return t.facade=e,u(e,v,t),t},i=function(e){return l(e,v)?e[v]:{}},s=function(e){return l(e,v)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},4376:(e,t,n)=>{"use strict";var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:(e,t,n)=>{"use strict";var r=n(9039),i=n(4901),s=/#|\.prototype\./,a=function(e,t){var n=c[o(e)];return n===l||n!==u&&(i(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},4117:e=>{"use strict";e.exports=function(e){return null==e}},34:(e,t,n)=>{"use strict";var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3925:(e,t,n)=>{"use strict";var r=n(34);e.exports=function(e){return r(e)||null===e}},6395:e=>{"use strict";e.exports=!1},757:(e,t,n)=>{"use strict";var r=n(7751),i=n(4901),s=n(1625),a=n(7040),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,o(e))}},6198:(e,t,n)=>{"use strict";var r=n(8014);e.exports=function(e){return r(e.length)}},283:(e,t,n)=>{"use strict";var r=n(9504),i=n(9039),s=n(4901),a=n(9297),o=n(3724),c=n(350).CONFIGURABLE,u=n(3706),l=n(1181),d=l.enforce,p=l.get,h=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),b=r([].join),v=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,n){"Symbol("===m(h(t),0,7)&&(t="["+g(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=b(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return s(this)&&p(this).source||u(this)}),"toString")},741:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},2603:(e,t,n)=>{"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4913:(e,t,n)=>{"use strict";var r=n(3724),i=n(5917),s=n(8686),a=n(8551),o=n(6969),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=r?s?function(e,t,n){if(a(e),t=o(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=l(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=o(t),a(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:(e,t,n)=>{"use strict";var r=n(3724),i=n(9565),s=n(8773),a=n(6980),o=n(5397),c=n(6969),u=n(9297),l=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(s.f,e,t),e[t])}},8480:(e,t,n)=>{"use strict";var r=n(1828),i=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},3717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},1625:(e,t,n)=>{"use strict";var r=n(9504);e.exports=r({}.isPrototypeOf)},1828:(e,t,n)=>{"use strict";var r=n(9504),i=n(9297),s=n(5397),a=n(9617).indexOf,o=n(421),c=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,l=[];for(n in r)!i(o,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},8773:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2967:(e,t,n)=>{"use strict";var r=n(6706),i=n(34),s=n(7750),a=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return s(n),a(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},4270:(e,t,n)=>{"use strict";var r=n(9565),i=n(4901),s=n(34),a=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&i(n=e.toString)&&!s(o=r(n,e)))return o;if(i(n=e.valueOf)&&!s(o=r(n,e)))return o;if("string"!==t&&i(n=e.toString)&&!s(o=r(n,e)))return o;throw new a("Can't convert object to primitive value")}},5031:(e,t,n)=>{"use strict";var r=n(7751),i=n(9504),s=n(8480),a=n(3717),o=n(8551),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=a.f;return n?c(t,n(e)):t}},7750:(e,t,n)=>{"use strict";var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},6119:(e,t,n)=>{"use strict";var r=n(5745),i=n(3392),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},7629:(e,t,n)=>{"use strict";var r=n(6395),i=n(4576),s=n(9433),a="__core-js_shared__",o=e.exports=i[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.40.0",mode:r?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(e,t,n)=>{"use strict";var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},4495:(e,t,n)=>{"use strict";var r=n(9519),i=n(9039),s=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:(e,t,n)=>{"use strict";var r=n(1291),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5397:(e,t,n)=>{"use strict";var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},1291:(e,t,n)=>{"use strict";var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},8014:(e,t,n)=>{"use strict";var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8981:(e,t,n)=>{"use strict";var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},2777:(e,t,n)=>{"use strict";var r=n(9565),i=n(34),s=n(757),a=n(5966),o=n(4270),c=n(8227),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||s(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},6969:(e,t,n)=>{"use strict";var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2140:(e,t,n)=>{"use strict";var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},655:(e,t,n)=>{"use strict";var r=n(6955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:(e,t,n)=>{"use strict";var r=n(9504),i=0,s=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+s,36)}},7040:(e,t,n)=>{"use strict";var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(e,t,n)=>{"use strict";var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:(e,t,n)=>{"use strict";var r=n(4576),i=n(4901),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},8227:(e,t,n)=>{"use strict";var r=n(4576),i=n(5745),s=n(9297),a=n(3392),o=n(4495),c=n(7040),u=r.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return s(l,e)||(l[e]=o&&s(u,e)?u[e]:d("Symbol."+e)),l[e]}},4114:(e,t,n)=>{"use strict";var r=n(6518),i=n(8981),s=n(6198),a=n(4527),o=n(6837);r({target:"Array",proto:!0,arity:1,forced:n(9039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=s(t),r=arguments.length;o(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return a(t,n),n}})},3609:(e,t,n)=>{"use strict";var r=n(6518),i=n(8981),s=n(6198),a=n(4527),o=n(4606),c=n(6837);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=s(t),r=arguments.length;if(r){c(n+r);for(var u=n;u--;){var l=u+r;u in t?t[l]=t[u]:o(t,l)}for(var d=0;d<r;d++)t[d]=arguments[d]}return a(t,n+r)}})},4979:(e,t,n)=>{"use strict";var r=n(6518),i=n(4576),s=n(7751),a=n(6980),o=n(4913).f,c=n(9297),u=n(679),l=n(3167),d=n(2603),p=n(5002),h=n(6193),f=n(3724),m=n(6395),g="DOMException",b=s("Error"),v=s(g),y=function(){u(this,E);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new v(t,n),i=new b(t);return i.name=g,o(r,"stack",a(1,h(i.stack,1))),l(r,this,y),r},E=y.prototype=v.prototype,w="stack"in new b(g),_="stack"in new v(1,2),T=v&&f&&Object.getOwnPropertyDescriptor(i,g),N=!(!T||T.writable&&T.configurable),R=w&&!N&&!_;r({global:!0,constructor:!0,forced:m||R},{DOMException:R?y:v});var S=s(g),B=S.prototype;if(B.constructor!==S)for(var A in m||o(B,"constructor",a(1,S)),p)if(c(p,A)){var x=p[A],O=x.s;c(S,O)||o(S,O,a(6,x.c))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.d(r,{default:()=>Ce});var e={};n.r(e),n.d(e,{exclude:()=>M,extract:()=>S,parse:()=>B,parseUrl:()=>x,pick:()=>I,stringify:()=>A,stringifyUrl:()=>O});const t=JSON.parse('{"rE":"1.8.0-beta.3"}');class i{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get semver(){return this.#e}get full(){return this.#t}}n(4114);var s=n(5364);const a={single:'\n    <% if(null !== data.content) { %>\n        <div class="amp-banner amp-banner--single"\n             data-amp-banner-fingerprint="<%= data.fingerprint %>">\n    \n            <% if(\'img\' === data.content.type) { %>\n                <a class="amp-banner__content amp-banner__content--img"\n                   href="<%= data.content.href %>"\n                   <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                    <picture>\n                        <% (data.content.sources || []).forEach(function(source) { %>\n                            <source type="<%= source.type %>"\n                                    srcset="<%= source.srcset %>"\n                                    sizes="<%- data.content.sizes %>">\n                        <% }); %>\n                        <img srcset="<%= data.content.srcset %>"\n                             src="<%= data.content.src %>"\n                             sizes="<%- data.content.sizes %>"\n                             alt="<%- data.content.alt %>"\n                             <% if(null !== data.content.dimensions.width) { %>width="<%- data.content.dimensions.width %>"<% } %>\n                             <% if(null !== data.content.dimensions.height) { %>height="<%- data.content.dimensions.height %>"<% } %>\n                             <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                             <% var loading; if(loading = banner.options.evaluate(\'loading\', 0)) { %>loading="<%- loading %>"<% } %>\n                             <% var fetchPriority; if(fetchPriority = banner.options.evaluate(\'fetchpriority\', 0)) { %>fetchpriority="<%- fetchPriority %>"<% } %>>\n                    </picture>\n                </a>\n            <% } else if (\'html\' === data.content.type) { %>\n                <div class="amp-banner__content amp-banner__content--html">\n                    <%= data.content.html %>\n                </div>\n            <% } %>\n    \n        </div>\n    <% } %>\n',random:'\n    <% if(null !== data.content) { %>\n        <div class="amp-banner amp-banner--random"\n             data-amp-banner-fingerprint="<%= data.fingerprint %>">\n    \n            <% if(\'img\' === data.content.type) { %>\n                <a class="amp-banner__content amp-banner__content--img"\n                   href="<%= data.content.href %>"\n                   <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                    <picture>\n                        <% (data.content.sources || []).forEach(function(source) { %>\n                            <source type="<%= source.type %>"\n                                    srcset="<%= source.srcset %>"\n                                    sizes="<%- data.content.sizes %>">\n                        <% }); %>\n                        <img srcset="<%= data.content.srcset %>"\n                             src="<%= data.content.src %>"\n                             sizes="<%- data.content.sizes %>"\n                             alt="<%- data.content.alt %>"\n                             <% if(null !== data.content.dimensions.width) { %>width="<%- data.content.dimensions.width %>"<% } %>\n                             <% if(null !== data.content.dimensions.height) { %>height="<%- data.content.dimensions.height %>"<% } %>\n                             <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                             <% var loading; if(loading = banner.options.evaluate(\'loading\', 0)) { %>loading="<%- loading %>"<% } %>\n                             <% var fetchPriority; if(fetchPriority = banner.options.evaluate(\'fetchpriority\', 0)) { %>fetchpriority="<%- fetchPriority %>"<% } %>>\n                    </picture>\n                </a>\n            <% } else if (\'html\' === data.content.type) { %>\n                <div class="amp-banner__content amp-banner__content--html">\n                    <%= data.content.html %>\n                </div>\n            <% } %>\n    \n        </div>\n    <% } %>\n',multiple:'\n    <% if(data.length) { %>\n        <div class="amp-banner amp-banner--multiple">\n            <div class="amp-banner__list">\n                <% for (index in data) { var b = data[index]; %>\n                    <div class="amp-banner__item"\n                         data-amp-banner-fingerprint="<%= b.fingerprint %>">\n    \n                        <% if(\'img\' === b.content.type) { %>\n                            <a class="amp-banner__content amp-banner__content--img"\n                               href="<%= b.content.href %>"\n                               <% if(null !== b.content.target) { %>target="<%- b.content.target %>"<% } %>>\n                                <picture>\n                                    <% (b.content.sources || []).forEach(function(source) { %>\n                                        <source type="<%= source.type %>"\n                                                srcset="<%= source.srcset %>"\n                                                sizes="<%- b.content.sizes %>">\n                                    <% }); %>\n                                    <img srcset="<%= b.content.srcset %>"\n                                         src="<%= b.content.src %>"\n                                         sizes="<%- b.content.sizes %>"\n                                         alt="<%- b.content.alt %>"\n                                         <% if(null !== b.content.dimensions.width) { %>width="<%- b.content.dimensions.width %>"<% } %>\n                                         <% if(null !== b.content.dimensions.height) { %>height="<%- b.content.dimensions.height %>"<% } %>\n                                         <% if(\'\' !== b.content.title) { %>title="<%- b.content.title %>"<% } %>\n                                         <% var loading; if(loading = banner.options.evaluate(\'loading\', index)) { %>loading="<%- loading %>"<% } %>\n                                         <% var fetchPriority; if(fetchPriority = banner.options.evaluate(\'fetchpriority\', index)) { %>fetchpriority="<%- fetchPriority %>"<% } %>>\n                                </picture>\n                            </a>\n                        <% } else if (\'html\' === b.content.type) { %>\n                            <div class="amp-banner__content amp-banner__content--html">\n                                <%= b.content.html %>\n                            </div>\n                        <% } %>\n    \n                    </div>\n                <% } %>\n            </div>\n        </div>\n    <% } %>\n'},o=(e,t)=>{const n=Math.round(10*e)/10;return n!==e&&console.warn(`The value for the option "${t}" has been rounded to ${n} (originally ${e}).`),n};class c{constructor(){if(this.constructor===c)throw new TypeError("Can not construct abstract class AbstractGateway.");if(this.fetch===c.prototype.fetch)throw new TypeError("Please implement abstract method ::fetch().")}fetch(e,t){throw new TypeError("Do not call abstract method ::fetch() from child.")}}const u="%[a-f0-9]{2}",l=new RegExp("("+u+")|([^%]+?)","gi"),d=new RegExp("("+u+")+","gi");function p(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],p(n),p(r))}function h(e){try{return decodeURIComponent(e)}catch{let t=e.match(l)||[];for(let n=1;n<t.length;n++)t=(e=p(t,n).join("")).match(l)||[];return e}}function f(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=d.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const e=h(n[0]);e!==n[0]&&(t[n[0]]=e)}n=d.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const n of r)e=e.replace(new RegExp(n,"g"),t[n]);return e}(e)}}function m(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const n=e.indexOf(t);return-1===n?[]:[e.slice(0,n),e.slice(n+t.length)]}function g(e,t){const n={};if(Array.isArray(t))for(const r of t){const t=Object.getOwnPropertyDescriptor(e,r);t?.enumerable&&Object.defineProperty(n,r,t)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);if(i.enumerable){t(r,e[r],e)&&Object.defineProperty(n,r,i)}}return n}const b=e=>null==e,v=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),y=Symbol("encodeFragmentIdentifier");function E(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function w(e,t){return t.encode?t.strict?v(e):encodeURIComponent(e):e}function _(e,t){return t.decode?f(e):e}function T(e){return Array.isArray(e)?e.sort():"object"==typeof e?T(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function N(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function R(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function S(e){const t=(e=N(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function B(e,t){E((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t}).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==r[e]?r[e]=[...r[e],n]:r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[...r[e],n]:r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),s="string"==typeof n&&!i&&_(n,e).includes(e.arrayFormatSeparator);n=s?_(n,e):n;const a=i||s?n.split(e.arrayFormatSeparator).map((t=>_(t,e))):null===n?n:_(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i)return void(r[t]=n?_(n,e):n);const s=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>_(t,e)));void 0!==r[t]?r[t]=[...r[t],...s]:r[t]=s};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[...[n[e]].flat(),t]:n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;const e=t.decode?i.replace(/\+/g," "):i;let[s,a]=m(e,"=");void 0===s&&(s=e),a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:_(a,t),n(_(s,t),a,r)}for(const[e,n]of Object.entries(r))if("object"==typeof n&&null!==n)for(const[e,r]of Object.entries(n))n[e]=R(r,t);else r[e]=R(n,t);return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=T(n):e[t]=n,e}),Object.create(null))}function A(e,t){if(!e)return"";E((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);const n=n=>t.skipNull&&b(e[n])||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[w(t,e),"[",i,"]"].join("")]:[...n,[w(t,e),"[",w(i,e),"]=",w(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[w(t,e),"[]"].join("")]:[...n,[w(t,e),"[]=",w(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[w(t,e),":list="].join("")]:[...n,[w(t,e),":list=",w(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[w(n,e),t,w(i,e)].join("")]:[[r,w(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,w(t,e)]:[...n,[w(t,e),"=",w(r,e)].join("")]}}(t),i={};for(const[t,r]of Object.entries(e))n(t)||(i[t]=r);const s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map((n=>{const i=e[n];return void 0===i?"":null===i?w(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?w(n,t)+"[]":i.reduce(r(n),[]).join("&"):w(n,t)+"="+w(i,t)})).filter((e=>e.length>0)).join("&")}function x(e,t){t={decode:!0,...t};let[n,r]=m(e,"#");return void 0===n&&(n=e),{url:n?.split("?")?.[0]??"",query:B(S(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:_(r,t)}:{}}}function O(e,t){t={encode:!0,strict:!0,[y]:!0,...t};const n=N(e.url).split("?")[0]||"";let r=A({...B(S(e.url),{sort:!1}),...e.query},t);r&&(r=`?${r}`);let i=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);if(e.fragmentIdentifier){const r=new URL(n);r.hash=e.fragmentIdentifier,i=t[y]?r.hash:`#${e.fragmentIdentifier}`}return`${n}${r}${i}`}function I(e,t,n){n={parseFragmentIdentifier:!0,[y]:!1,...n};const{url:r,query:i,fragmentIdentifier:s}=x(e,n);return O({url:r,query:g(i,t),fragmentIdentifier:s},n)}function M(e,t,n){return I(e,Array.isArray(t)?e=>!t.includes(e):(e,n)=>!t(e,n),n)}const D=e;class C extends c{fetch(e,t,n){const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(XMLHttpRequest.DONE!==r.readyState||0===r.status)return!1;const e=JSON.parse(r.responseText);200<=r.status&&300>r.status?t(e):n(e)},r.onerror=()=>{n({status:"error",data:{code:r.status,error:r.statusText||"unknown"}})};let i=e.endpoint;"GET"===e.method&&(i+=`?${D.stringify(e.parameters)}`),r.open(e.method,i,!0),r.overrideMimeType("application/json"),r.setRequestHeader("Accept","application/json");for(let t of e.headers)r.setRequestHeader(t.name,t.value);r.send("POST"===e.method?JSON.stringify(e.parameters):null)}}class j{#n;#r;constructor(e,t){this.#n=e,this.#r=this.#i(t)}get name(){return this.#n}get value(){return this.#r}withValues(e){return new j(this.name,this.#i(e).concat(this.value).filter(((e,t,n)=>n.indexOf(e)===t)))}#i(e){return Array.isArray(e)?e:[e]}}class L{#s;#a;#o;#c;#u;#l;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.#s=e,this.#a=t,this.#o=n,this.#c={},this.#u=r,this.#l=i}addPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.#c;if(e in r)throw new Error('Position "'+e+'" already exists.');r[e]={},n&&this.addPositionResources(e,this.#u),this.addPositionResources(e,t)}addPositionResources(e,t){for(let n in t)this.addPositionResource(e,t[n])}addPositionResource(e,t){if(!(t instanceof j))throw new TypeError("Argument resource must be instance of Resource class.");const n=this.#c;if(!(e in n))throw new Error('Missing position "'+e+'".');const r=n[e];t.name in r?r[t.name]=r[t.name].withValues(t.value):r[t.name]=t}get method(){return this.#s}get endpoint(){return this.#a}get locale(){return this.#o}get parameters(){const e=this.#d(this.#c),t={query:"GET"===this.method?JSON.stringify(e):e};return null!==this.locale&&(t.locale=this.locale),t}get headers(){return this.#l}#d=e=>{const t={};for(let n in e){t[n]={};for(let r in e[n]){const i=e[n][r].value.filter((e=>""!==e));i.length&&(t[n][r]=i)}}return t}}class k{#s;#a;#o;#u;#p;constructor(e,t,n,r){this.#s=e,this.#a=`${t}/api/v${n}/content/${encodeURIComponent(r)}`,this.#o=null,this.#u=[],this.#p=null}set locale(e){this.#o=e}set origin(e){this.#p=e}addDefaultResource(e,t){this.#u.push(new j(e,t))}create(){const e=[];return"string"==typeof this.#p&&""!==this.#p&&e.push({name:"X-Amp-Origin",value:this.#p}),new L(this.#s,this.#a,this.#o,this.#u,e)}}class P{#a;#o;#u;constructor(e,t,n){this.#a=`${e}/api/v${t}/preview/position/${encodeURIComponent(n)}`,this.#o=null,this.#u={}}set locale(e){this.#o=e}addDefaultResource(e,t){const n=this.#u,r=new j(e,t);r.name in n?n[r.name]=n[r.name].withValues(r.value):n[r.name]=r}create(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"1"!==(r["omit-default-resources"]||"0").toString()?t={...this.#u}:(t={},delete r["omit-default-resources"]);for(let e in n){const r=new j(e,n[e]);r.name in t?t[r.name]=t[r.name].withValues(r.value):t[r.name]=r}let i={};for(let e in t){t[e].value.filter((e=>""!==e)).length&&(i[e]=t[e].value)}i=JSON.stringify(i);const s=JSON.stringify(r),a={};"{}"!==i&&(a.resources=i),"{}"!==s&&(a.options=s),null!==this.#o&&(a.locale=this.#o);const o=D.stringify(a);return`${this.#a}/${encodeURIComponent(e)}${""!==o?"?"+o:""}`}}class F{static get NEW(){return"NEW"}static get RENDERED(){return"RENDERED"}static get NOT_FOUND(){return"NOT_FOUND"}static get ERROR(){return"ERROR"}static get CLOSED(){return"CLOSED"}static get STATES(){return[F.NEW,F.RENDERED,F.NOT_FOUND,F.ERROR,F.CLOSED]}}class ${static get ON_BANNER_ATTACHED(){return"amp:banner:attached"}static get ON_BANNER_STATE_CHANGED(){return"amp:banner:state-changed"}static get ON_BANNER_INTERSECTION_CHANGED(){return"amp:banner:intersection-changed"}static get ON_BANNER_FIRST_TIME_SEEN(){return"amp:banner:first-time-seen"}static get ON_BANNER_FIRST_TIME_FULLY_SEEN(){return"amp:banner:first-time-fully-seen"}static get ON_BANNER_LINK_CLICKED(){return"amp:banner:link-clicked"}static get ON_BANNER_BEFORE_CLOSE(){return"amp:banner:before-close"}static get ON_BANNER_AFTER_CLOSE(){return"amp:banner:after-close"}static get ON_BANNER_MUTATED(){return"amp:banner:mutated"}static get ON_BEFORE_FETCH(){return"amp:fetch:before"}static get ON_FETCH_ERROR(){return"amp:fetch:error"}static get ON_FETCH_SUCCESS(){return"amp:fetch:success"}}class U{constructor(e){let{id:t,code:n,name:r,rotationSeconds:i,displayType:s,breakpointType:a}=e;this.id=t,this.code=n,this.name=r,this.rotationSeconds=i,this.displayType=s,this.breakpointType=a}static createInitial(e){return new U({id:null,code:e,name:null,rotationSeconds:0,displayType:null,breakpointType:null})}isSingle(){return"single"===this.displayType}isRandom(){return"random"===this.displayType}isMultiple(){return"multiple"===this.displayType}toObject(){return{id:this.id,code:this.code,name:this.name,rotationSeconds:this.rotationSeconds,displayType:this.displayType,breakpointType:this.breakpointType}}}const W=/^(?:(?<INTERVAL_FROM>\d+)-(?<INTERVAL_TO>\d+):|(?<EQ>\d+):|<(?<LT>\d+):|<=(?<LTE>\d+):|>(?<GT>\d+):|>=(?<GTE>\d+):)?(?<VALUE>[^:\s]+)$/,H={};function q(e,t){const n=function(e){if(e in H)return H[e];const t=e.split(",").map((e=>e.trim())),n=[];for(let e=0;e<t.length;e++){const r=t[e].match(W);if(null===r||void 0===r.groups||void 0===r.groups.VALUE)continue;let i;switch(!0){case void 0!==r.groups.INTERVAL_FROM&&void 0!==r.groups.INTERVAL_TO:i={from:parseInt(r.groups.INTERVAL_FROM),to:parseInt(r.groups.INTERVAL_TO),matches:function(e){return e>=this.from&&e<=this.to}};break;case void 0!==r.groups.EQ:i={eq:parseInt(r.groups.EQ),matches:function(e){return e===this.eq}};break;case void 0!==r.groups.LT:i={lt:parseInt(r.groups.LT),matches:function(e){return e<this.lt}};break;case void 0!==r.groups.LTE:i={lte:parseInt(r.groups.LTE),matches:function(e){return e<=this.lte}};break;case void 0!==r.groups.GT:i={gt:parseInt(r.groups.GT),matches:function(e){return e>this.gt}};break;case void 0!==r.groups.GTE:i={gte:parseInt(r.groups.GTE),matches:function(e){return e>=this.gte}};break;default:i={matches:function(){return!0}}}i&&(i.matches=i.matches.bind(i),i.value=r.groups.VALUE,n.push(i))}const r={rules:n,cache:{}};return r.evaluate=function(e){Number.isInteger(e)||(e=parseInt(e));const t=`i_${e}`;if(t in this.cache)return this.cache[t];for(let n=0;n<this.rules.length;n++){const r=this.rules[n];if(r.matches(e))return this.cache[t]=r.value}return this.cache[t]=null}.bind(r),H[e]=r,r}(e);return n.evaluate(t)}class G{constructor(e){this.options={},this.options=this.#h({...e})}has(e){return void 0!==this.options[e]}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.options[e]||t}evaluate(e,t){return void 0===this.options[e]?null:q(this.options[e],t)}override(e){this.options={...this.options,...this.#h({...e})}}#h(e){if("loading-offset"in e){const t=e["loading-offset"],n="loading"in e?e.loading:"loading"in this.options?this.options.loading:null,r=null!==n?`>=${t}:${n}`:null;let i='AMP deprecation warning: The banner option "loading-offset" is deprecated and will be removed in some future release.';null!==r&&(i+=` Instead of options {"loading": "${n}", "loading-offset": "${t}"} use an expression based option {"loading": "${r}"}.`),console.warn(i),delete e["loading-offset"],null!==r&&(e.loading=r)}return e}}class V{#f;#m;#g;#b=null;#v=null;#y={};constructor(e,t,n,r,i){if(this.constructor===V)throw new TypeError("Can not construct abstract class Banner.");this.#f=t,this.#m=n,this.#g=new G(i),this._eventBus=e,this._positionData=U.createInitial(r),this.STATE=F}get uid(){return this.#f}get element(){return this.#m}get state(){return this.#b}get stateInfo(){return this.#v}get stateCounter(){return this.#y[this.state]||0}get position(){return this.positionData.code}get positionData(){return this._positionData}get options(){return this.#g}get fingerprints(){return[]}unsetFingerprint(e){}setState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(-1===this.STATE.STATES.indexOf(e))throw new TypeError(`${e} is not valid state.`);this.#b=e,this.#v=t.toString(),this.#y[e]=(this.#y[e]||0)+1,this._eventBus.dispatch($.ON_BANNER_STATE_CHANGED,{banner:this})}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.startsWith("amp:banner:"))throw new Error(`Unable to attach listener on event "${e}" through a banner.`);return this._eventBus.subscribe(e,(function(e){const{banner:r}=e;r===this&&(null!==n?t.call(n,e):t(e))}),this)}getCurrentBreakpoint(e){return null}overrideOptions(e){this.#g.override(e)}redrawIfNeeded(){}isManaged(){return!1}isExternal(){return!1}isEmbed(){return!1}}n(4979);class Q{constructor(e,t){let{bannerId:n,bannerName:r,positionId:i,positionCode:s,positionName:a,campaignId:o,campaignCode:c,campaignName:u}=t;this.value=e,this.bannerId=n,this.bannerName=r,this.positionId=i,this.positionCode=s,this.positionName=a,this.campaignId=o,this.campaignCode=c,this.campaignName=u}static createFromProperties(e){return new Q(btoa(encodeURIComponent(JSON.stringify(e))),e)}static createFromValue(e){return new Q(e,JSON.parse(decodeURIComponent(atob(e))))}toString(){return this.value}}n(3609);class z{#E;#w;constructor(e,t){this.#E=e,this.#w=t}get breakpoint(){return this.#E}get data(){return this.#w}}class Y{#_;#T;#N=[];#R=void 0;#S={min:null,max:null,reset:function(){this.min=this.max=null}};constructor(e,t){this.#_=e,this.#T=t}addContent(e,t){this.#N.push(new z(e,t)),this.#R=void 0}get contents(){return this.#N}get content(){if(void 0!==this.#R&&!this.needRedraw())return this.#R;this.#S.reset();const e=this.#_.width,t=this.#T;let n=null,r=null,i=null;const s=[];this.#B(this.#N,(a=>{let o=a.breakpoint;null!==o?(s.push(o),("min"===t&&e>=o&&(null===i||i<o)||"max"===t&&e<=o&&(null===i||i>o))&&(r=a,i=o,this.#S[t]=o)):n=a})),s.sort(((e,t)=>e-t)),"min"===t?s.unshift(null):s.push(null);const a=s.indexOf(i);return"max"===t&&a-1 in s&&(this.#S.min=s[a-1]+1),"min"===t&&a+1 in s&&(this.#S.max=s[a+1]-1),this.#R=null!==r?r:n}needRedraw(){if(void 0===this.#R)return!0;const e=this.#_.width;return null!==this.#S.min&&e<this.#S.min||null!==this.#S.max&&e>this.#S.max}#B(e,t){for(let n in e)t(e[n],n)}}class K{#w;#N;#A=null;constructor(e,t,n){this.#w=e,this.#N=new Y(n,t);for(let e of this.#w.contents)"img"!==e.type||"dimensions"in e||(e.dimensions={width:null,height:null}),this.#N.addContent(e.breakpoint,e)}set fingerprint(e){if(!(e instanceof Q))throw new TypeError("The value must be instance of Fingerprint object.");this.#A=e}get fingerprint(){return this.#A}get id(){return this.#w.id}get name(){return this.#w.name||null}get score(){return this.#w.score}get campaign(){return console.warn("Usage of deprecated property `BannerData.campaign`. Please use property `campaignCode` instead."),this.campaignCode()}get campaignId(){return this.#w.campaign_id||null}get campaignCode(){return this.#w.campaign_code||this.#w.campaign||null}get campaignName(){return this.#w.campaign_name||null}get content(){return this.#N.content?.data||null}needRedraw(){return this.#N.needRedraw()}}class J{#x;constructor(e){this.#x=e}get positionCode(){return this.#x.positionData.code}get rotationSeconds(){return this.#x.positionData.rotationSeconds}get displayType(){return this.#x.positionData.displayType}get breakpointType(){return this.#x.positionData.breakpointType}get fingerprints(){return this.#x.fingerprints}get bannerData(){return this.#x.bannerData}}class X{static randomByWeights(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weight";const n={};let r=0;for(let n=0;n<e.length;n++)r+=e[n][t];for(let i=0;i<e.length;i++)n[i]=e[i][t]/r;let i=0,s=Math.random();for(;s>0;)s-=n[i],i++;return i--,e[i]?e[i]:e[0]}}class Z extends V{#_;#O;#I=[];#M;#D=!1;#C=null;#j=[];constructor(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};super(n,r,i,s,arguments.length>7&&void 0!==arguments[7]?arguments[7]:{}),this.#_=e,this.#O=t,this.#M=a;for(let e in a)this.#I.push(new j(e,a[e]));this.setState(this.STATE.NEW,"Banner created.")}set html(e){this.element.innerHTML=e}get resources(){return this.#I}get rawResources(){return this.#M}get data(){return console.warn("Usage of deprecated property `ManagedBanner.data`. Please use property `positionData` for accessing information about a position."),new J(this)}get fingerprints(){let e;try{e=this.bannerData}catch(e){return[]}return null===e?[]:(this.positionData.isMultiple()||(e=[e]),e.map((e=>e.fingerprint)))}get bannerData(){if(null!==this.#C)return this.#C;if(!this.#j.length)return null;let e=null;const t=this.positionData,n=e=>Q.createFromProperties({bannerId:e.id,bannerName:e.name,positionId:t.id,positionCode:t.code,positionName:t.name,campaignId:e.campaignId,campaignCode:e.campaignCode,campaignName:e.campaignName});switch(!0){case t.isSingle():e=this.#j.reduce(((e,t)=>e.score>=t.score?e:t)),e.fingerprint=n(e);break;case t.isRandom():e=X.randomByWeights(this.#j,"score"),e.fingerprint=n(e);break;case t.isMultiple():e=this.#j.sort(((e,t)=>t.score-e.score));for(let t of e)t.fingerprint=n(t);break;default:throw new Error(`Invalid display type ${this.displayType}.`)}return this.#C=e,e}unsetFingerprint(e){const t=e.bannerId,n=this.positionData;if(!!this.#j.filter((e=>e.id===t))[0]){switch(!0){case n.isSingle():this.#j=[],this.#C=null;break;case n.isRandom():this.#C&&this.#C.id===t?(this.#j=[],this.#C=null):this.#j=this.#j.filter((e=>e.id!==t));break;case n.isMultiple():this.#j=this.#j.filter((e=>e.id!==t)),this.#C&&(this.#C=this.#C.filter((e=>e.id!==t)))}0>=this.#j.length?this.setState(this.STATE.CLOSED,"Banner has empty data."):n.isRandom()&&this.redrawIfNeeded()}}setResponseData(e){if(this.#D)throw new Error(`Data for banner on position ${this.position} is already set.`);this._positionData=new U({id:e.position_id||null,code:this._positionData.code,name:e.position_name||null,rotationSeconds:e.rotation_seconds,displayType:e.display_type,breakpointType:e.breakpoint_type}),"options"in e&&this.overrideOptions(e.options);const t=[];for(let n in e.banners||[])t.push(new K(e.banners[n],e.breakpoint_type,this.#_));this.#j=t,this.#D=!0,0>=this.#j.length?this.setState(this.STATE.CLOSED,"Banner has empty data."):this.#L("Banner was successfully rendered.")}getCurrentBreakpoint(e){let t=this.bannerData;t=(Array.isArray(t)?t:t?[t]:[]).find((t=>t.id===e));const n=t&&t.content?t.content.breakpoint:null;return null===n?null:parseInt(n)}isManaged(){return!0}redrawIfNeeded(){this.#k()&&this.#L("Banner was successfully redrawn.")}#L(e){try{this.html=this.#O.render(this)}catch(e){return void this.setState(this.STATE.ERROR,"Render error: "+e.message)}this.setState(this.STATE.RENDERED,e)}#k(){let e=this.bannerData;Array.isArray(e)||(e=[e]);for(let t in e)if(e[t].needRedraw())return!0;return!1}}class ee{static parseResources(e){const t={},n=[].filter.call(e.attributes,(e=>/^data-amp-resource-\S+/.test(e.name)));for(let e of n)e.value&&(t[e.name.slice(18)]=e.value.split(",").map((e=>e.trim())));return t}static parseOptions(e){const t={},n=[].filter.call(e.attributes,(e=>/^data-amp-option-\S+/.test(e.name)));for(let e of n)e.value&&(t[e.name.slice(16)]=e.value.trim());return t}}class te extends V{#P=[];#F={};#$=null;constructor(e,t,n,r){if(!("ampBannerExternal"in r.dataset))throw new Error('Unable to initialize ExternalBanner from element that does not have an attribute "data-amp-external".');const i=JSON.parse(decodeURIComponent(atob(r.dataset.ampBannerExternal)));if(!("state"in i)||!("positionData"in i))throw new Error('Unable to initialize ExternalBanner data attribute "data-amp-external" is malformed.');const s=i.state,a=new U(i.positionData),o=ee.parseOptions(r);super(t,n,r,a.code,o);const c=[],u={},l=r.cloneNode(!0),d=l.querySelectorAll("[data-amp-banner-fingerprint]"),p=d.item(0)?.parentElement;let h=p;for(;null!==h&&h!==l&&h?.parentElement!==l;)h=h.parentElement;for(let t of d){const n=Q.createFromValue(t.dataset.ampBannerFingerprint);c.push(n);for(let r of t.querySelectorAll("[data-amp-content-breakpoint]")){let i=r.dataset.ampContentBreakpoint;i="default"===i?null:parseInt(i),n.bannerId in u||(u[n.bannerId]=new Y(e,a.breakpointType));const s=t.cloneNode(!1);s.insertAdjacentElement("afterbegin",r),u[n.bannerId].addContent(i,{html:s.outerHTML})}}p&&(p.dataset.ampBannerList="true"),p&&(p.innerHTML=""),this._positionData=a,this.#P=c,this.#F=u,this.#$=h,this.#U(!1),this.setState(s.value,s.info)}get fingerprints(){return this.#P}unsetFingerprint(e){this.#P=this.#P.filter((t=>t.value!==e.value));const t=e.bannerId;t in this.#F&&delete this.#F[t],0>=this.#P.length&&this.setState(this.STATE.CLOSED,"Banner has empty data.")}getCurrentBreakpoint(e){const t=this.#F[e]||null;return null===t?null:t.content?.breakpoint||null}isExternal(){return!0}redrawIfNeeded(){this.#U(!0)&&this.setState(this.STATE.RENDERED,"Banner was successfully redrawn.")}#U(e){let t=!e;if(!t)for(let e in this.#F){if(this.#F[e].needRedraw()){t=!0;break}}if(!t)return!1;const n=[];for(let e in this.#F){const t=this.#F[e].content;null!==t&&n.push(t.data.html)}if(0>=n.length)return this.element.innerHTML="",!0;const r=this.#$?this.#$.cloneNode(!0):null;return((null!==r&&void 0===r.dataset.ampBannerList?r.querySelector("[data-amp-banner-list]"):null)??r??this.element).innerHTML=n.join("\n"),null!==r&&(this.element.innerHTML=r.outerHTML),!0}}class ne extends V{#W;#P;constructor(e,t,n,r,i,s){super(e,t,n,i,s),this.#W=r,this.#P=[],this.setState(this.STATE.NEW,"Banner created.")}get iframe(){return this.#W}get fingerprints(){return this.#P}unsetFingerprint(e){this.#P=this.#P.filter((t=>t.value!==e.value)),0>=this.#P.length&&this.setState(this.STATE.CLOSED,"Banner has empty data.")}getCurrentBreakpoint(e){throw new Error("Method EmbedBanner.getCurrentBreakpoint() is not readable.")}isEmbed(){return!0}updatePositionData(e){const t=["id","name","rotationSeconds","displayType","breakpointType","dimensions"],n=this.positionData;for(let r of t)r in e&&(n[r]=e[r])}updateFingerprints(e){this.#P=e.map((e=>e instanceof Q?e:Q.createFromValue(e)))}}class re{#H;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.#H=e-1}getNextIdentifier(){return++this.#H}}function ie(e,t){if(e instanceof t.HTMLElement)return e;if("string"!=typeof e)throw new TypeError("Element must be instance of HTMLElement or String");let n;if(n="#"===e.charAt(0)?document.getElementById(e.slice(1)):document.querySelector(e),!(n instanceof t.HTMLElement))throw new TypeError("Selector "+e+" is invalid.");return n}class se{#q;#_;#G;#V;#j=[];#Q;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.#q=e,this.#_=t,this.#G=n,this.#V=new re,this.#Q=new MutationObserver((e=>{for(const t of e){if(!(t.target instanceof HTMLElement))continue;const e=t.target.closest("[data-amp-attached]")?.dataset?.ampAttached,n=void 0!==e?this.getBannerByUid(parseInt(e)):null;n&&this.#q.dispatch($.ON_BANNER_MUTATED,{banner:n,mutation:t})}})),this.STATE=F}addExternalBanner(e){e=ie(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:window);const t=this.#V.getNextIdentifier();e.setAttribute("data-amp-attached",t);const n=new te(this.#_,this.#q,t,e);return this.#z(e),this.#j.push(n),n}addManagedBanner(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;if(null===this.#G)throw new Error("Unable to add managed banner, renderer is not provided.");e=ie(e,i);const s=this.#V.getNextIdentifier();e.setAttribute("data-amp-attached",s);const a=new Z(this.#_,this.#G,this.#q,s,e,t,n,r);return this.#z(e),this.#j.push(a),a}addEmbedBanner(e,t,n,r){e=ie(e,window),t=ie(t,window);const i=this.#V.getNextIdentifier();e.setAttribute("data-amp-attached",i);const s=new ne(this.#q,i,e,t,n,r);return this.#z(e),this.#j.push(s),s}removeBanner(e){const t=this.#j.length;return this.#j=this.#j.filter((t=>t!==e)),t!==this.#j.length}getBannersByState(e){let{state:t,managed:n=!0,external:r=!0,embed:i=!0}=e;return this.#j.filter((e=>e instanceof V&&e.state===t&&!(e instanceof Z&&!n||e instanceof te&&!r||e instanceof ne&&!i)))}getBannerByFingerprint(e){const t=e instanceof Q?e.value:e;for(let e of this.#j)if(!(e instanceof ne))for(let n of e.fingerprints)if(n.value===t)return e;return null}getBannerByUid(e){for(let t of this.#j)if(t.uid===e)return t;return null}#z(e){e._ampBannerMutationsObserved||(this.#Q.observe(e,{subtree:!0,childList:!0,characterData:!1,attributes:!0,attributeFilter:["data-amp-banner-close"]}),e._ampBannerMutationsObserved=!0)}}class ae{#Y;constructor(e){this.#Y=e}static fromCurrentWindow(){return new ae((()=>document.documentElement.clientWidth||document.body.clientWidth))}get width(){return this.#Y()}}class oe{#K;#J;#X;#Z=null;constructor(e){let{storage:t,key:n,maxItems:r,onExternalChange:i}=e;switch(t){case"localStorage":"localStorage"in window?t=window.localStorage:(console.warn("LocalStorage is not accessible in the window, fallback to memoryStorage."),t=this.#ee());break;case"sessionStorage":"sessionStorage"in window?t=window.sessionStorage:(console.warn("SessionStorage is not accessible in the window, fallback to memoryStorage."),t=this.#ee());break;default:"memoryStorage"!==t&&console.warn(`Unknown storage "${t}", fallback to memoryStorage.`),t=this.#ee()}this.#K=t,this.#J=n,this.#X=r,i&&this.#K instanceof Storage&&window.addEventListener("storage",(e=>{if(null!==e.key&&this.#J!==e.key)return;const t=this.#Z||[],n=null!==e.newValue&&""!==e.newValue?e.newValue.split(","):[],r=n.filter((e=>!t.includes(e)));this.#Z=n,0<r.length&&i(r)}))}persist(e,t){const n=this.#te(),r=n.indexOf(e);let i=!1;t&&-1===r?(n.push(e),i=!0):t||-1===r||(n.splice(r,1),i=!0),i&&(n.length>this.#X&&n.splice(n.length-this.#X),this.#Z=n,this.#ne())}isClosed(e){return-1!==this.#te().indexOf(e)}#te(){if(null!==this.#Z)return this.#Z;const e=this.#K.getItem(this.#J),t=null!==e&&""!==e?e.split(","):[];return this.#Z=t}#ne(){null!==this.#Z&&this.#K.setItem(this.#J,this.#Z.join(","))}#ee(){const e={items:{}};return e.setItem=function(e,t){this.items[e]=t}.bind(e),e.getItem=function(e){return e in this.items?this.items[e]:null}.bind(e),e}}class ce{#re;#q;#ie;#se;constructor(e){let{bannerManager:t,eventBus:n,config:r={storage:"memoryStorage",key:"amp-closed-banners",maxItems:500},frameMessenger:i}=e;this.#re=t,this.#q=n,this.#ie=i;const{storage:s,key:a,maxItems:o}=r;this.#se=new oe({storage:s,key:a,maxItems:o,onExternalChange:e=>{e.forEach((e=>this.closeBanner(e)))}}),this.#ie&&this.#ie.on("bannerClosed",(e=>{let{data:t}=e;const{uid:n,bannerId:r,fingerprint:i}=t,s=this.#re.getBannerByUid(n);s instanceof ne&&(this.#se.persist(r,!0),s.unsetFingerprint(i))}))}attachUi(){const e=e=>{let{banner:t,button:n}=e;n._ampCloseActionAttached||(n._ampCloseActionAttached=!0,n.addEventListener("click",(e=>{e.preventDefault();const r=n.closest("[data-amp-banner-fingerprint]");if(!r)return;const i=r.dataset.ampBannerFingerprint,s=t.fingerprints;for(let e=0;e<s.length;e++){const t=s[e];t.value===i&&this.closeBanner(t.bannerId)}})))};this.#q.subscribe($.ON_BANNER_STATE_CHANGED,(t=>{let{banner:n}=t;n.state===n.STATE.RENDERED?Array.from(n.element.querySelectorAll("[data-amp-banner-close]")).forEach((t=>{e({banner:n,button:t})})):n.state===n.STATE.CLOSED&&(n.element.innerHTML="")}),null,-100),this.#q.subscribe($.ON_BANNER_MUTATED,(t=>{let{banner:n,mutation:r}=t;n.state===n.STATE.RENDERED&&(0<r.addedNodes.length&&Array.from(n.element.querySelectorAll("[data-amp-banner-close]")).forEach((t=>{e({banner:n,button:t})})),r.attributeName&&e({banner:n,button:r.target}))}))}isClosed(e){return this.#se.isClosed(e)}closeBanner(e){const t=this.#re.getBannersByState({state:this.#re.STATE.RENDERED});for(let n=0;n<t.length;n++){const r=t[n],i=r.fingerprints.filter((t=>t.bannerId===e))[0];if(void 0===i)continue;if(r instanceof ne)return void(this.#ie&&this.#ie.sendToBanner(r,"closeBanner",{bannerId:e}));const s=r.element.querySelector(`[data-amp-banner-fingerprint="${i.value}"]`);if(!s)continue;let a=e=>e.remove();const o=e=>a=e;this.#q.dispatch($.ON_BANNER_BEFORE_CLOSE,{fingerprint:i,element:s,banner:r,setOperation:o}),Promise.resolve(a(s)).then((()=>{this.#se.persist(e,!0),this.#q.dispatch($.ON_BANNER_AFTER_CLOSE,{fingerprint:i,element:s,banner:r}),r.unsetFingerprint(i)}))}}}class ue{#ae;#oe;#ce;constructor(){this.#ae=new re,this.#oe={},this.#ce={}}subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("function"!=typeof t)throw new TypeError("Listener must be of type function.");const i="idx_"+this.#ae.getNextIdentifier();return this.#oe[e]=this.#oe[e]||{},this.#oe[e][i]={callback:t,scope:n,priority:r},e in this.#ce&&delete this.#ce[e],()=>{e in this.#oe&&i in this.#oe[e]&&delete this.#oe[e][i]}}dispatch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let t of this.getSortedListeners(e))null!==t.scope?t.callback.call(t.scope,...n):t.callback(...n)}reset(){this.#oe={}}getSortedListeners(e){if(e in this.#ce)return this.#ce[e];const t=Object.values(this.#oe[e]||{}).sort(((e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:0));return this.#ce[e]=t}}var le=n(872);class de{#ue;#le;constructor(e){this.#ue=e,this.#le={}}getTemplate(e){if(e in this.#le)return this.#le[e];if(!(e in this.#ue))throw new Error(`Template with type "${e}" not found.`);return this.#le[e]=le(this.#ue[e])}}class pe{#de;constructor(e){this.#de=new de(e)}render(e){let t=e.bannerData;return t=Array.isArray(t)?t.filter((e=>null!==e.content)):t,this.#de.getTemplate(e.positionData.displayType)({banner:e,data:t})}}class he{static create(e,t,n,r,i,s){let a=[];for(let e in i)a.push({pixels:parseInt(e),ratio:i[e]});a=a.sort(((e,t)=>t.pixels-e.pixels));const o=e=>{const t=getComputedStyle(e),n=(e.offsetWidth-(parseFloat(t.paddingLeft)+parseFloat(t.paddingRight))-(parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)))*(e.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))-(parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)));for(let e of a)if(n>=e.pixels)return e.ratio;return r};return new IntersectionObserver((r=>{const i=[];let a={},c={};for(let t of r){const r=t.target.dataset.ampBannerFingerprint,s=e.getBannerByFingerprint(r);if(!s)continue;const u=n[r];if(!u)continue;const l={fingerprint:u.fingerprint,element:t.target,banner:s};if(i.push({...l,entry:t}),!u.alreadySeen){const e=t.intersectionRatio>=o(t.target);a[r]=!(r in a)||!a[r].isIntersecting&&e?{fingerprintArgs:l,fingerprintMetadata:u,isIntersecting:e}:a[r]}if(!u.alreadyFullySeen){const e=.99<=t.intersectionRatio;c[r]=!(r in c)||!c[r].isFullyIntersecting&&e?{fingerprintArgs:l,fingerprintMetadata:u,isFullyIntersecting:e}:c[r]}}for(let e of Object.values(a)){const{fingerprintArgs:n,fingerprintMetadata:r,isIntersecting:i}=e;i&&!r.alreadySeen&&null===r.firstTimeSeenTimeoutId?r.firstTimeSeenTimeoutId=setTimeout((()=>{r.alreadySeen=!0,t.dispatch($.ON_BANNER_FIRST_TIME_SEEN,n)}),s):i||null===r.firstTimeSeenTimeoutId||(clearTimeout(r.firstTimeSeenTimeoutId),r.firstTimeSeenTimeoutId=null)}for(let e of Object.values(c)){const{fingerprintArgs:n,fingerprintMetadata:r,isFullyIntersecting:i}=e;i&&!r.alreadyFullySeen&&null===r.firstTimeFullySeenTimeoutId?r.firstTimeFullySeenTimeoutId=setTimeout((()=>{r.alreadyFullySeen=!0,t.dispatch($.ON_BANNER_FIRST_TIME_FULLY_SEEN,n)}),s):i||null===r.firstTimeFullySeenTimeoutId||(clearTimeout(r.firstTimeFullySeenTimeoutId),r.firstTimeFullySeenTimeoutId=null)}for(let e of i)t.dispatch($.ON_BANNER_INTERSECTION_CHANGED,e)}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,.99]})}}class fe{#pe;#re;#q;#P;#he;constructor(e,t,n){this.#pe=!1,this.#re=e,this.#q=t,this.#P={},this.#he=he.create(e,t,this.#P,n.defaultIntersectionRatio,n.intersectionRatioMap,n.firstTimeSeenTimeout)}start(){if(this.#pe)return;this.#pe=!0,this.#q.subscribe($.ON_BANNER_STATE_CHANGED,(e=>{let{banner:t}=e;F.RENDERED!==t.state||t.isEmbed()||this.#fe(t)}),null,-100),this.#q.subscribe($.ON_BANNER_MUTATED,(e=>{let{banner:t,mutation:n}=e;F.RENDERED===t.state&&!t.isEmbed()&&0<n.addedNodes.length&&this.#fe(t)}));const e=this.#re.getBannersByState({state:F.RENDERED,embed:!1});for(let t of e)this.#fe(t)}#fe(e){const t=this,n=e.element.querySelectorAll("[data-amp-banner-fingerprint]");for(let e of n){const n=e.dataset.ampBannerFingerprint;n in this.#P||(this.#P[n]={fingerprint:Q.createFromValue(n),alreadySeen:!1,alreadyFullySeen:!1,firstTimeSeenTimeoutId:null,firstTimeFullySeenTimeoutId:null}),e._ampBannerFingerprintObserved||(e._ampBannerFingerprintObserved=!0,this.#he.observe(e));const r=e.getElementsByTagName("a");for(let e of r)e._ampClickingMetricsAttached||(e._ampClickingMetricsAttached=!0,e.addEventListener("click",(function(e){const r=t.#P[n];if(!r)return void console.warn(`Unable to invoke an event "amp:banner:link-clicked" because the fingerprint "${n}" not managed.`);const i=t.#re.getBannerByFingerprint(n);if(!i)return void console.warn(`Unable to invoke an event "amp:banner:link-clicked" because the banner for fingerprint "${n}" not found.`);const s={fingerprint:r.fingerprint,element:this.closest("[data-amp-banner-fingerprint]"),banner:i,target:this,clickEvent:e};r.alreadySeen||(r.alreadySeen=!0,t.#q.dispatch($.ON_BANNER_FIRST_TIME_SEEN,s)),t.#q.dispatch($.ON_BANNER_LINK_CLICKED,s)})))}}}class me{static get BANNER_LOADED(){return"amp:banner:loaded"}static get BANNER_DISPLAYED(){return"amp:banner:displayed"}static get BANNER_FULLY_DISPLAYED(){return"amp:banner:fully-displayed"}static get BANNER_CLICKED(){return"amp:banner:clicked"}static get BANNER_CLOSED(){return"amp:banner:closed"}static get EVENTS(){return[me.BANNER_LOADED,me.BANNER_DISPLAYED,me.BANNER_FULLY_DISPLAYED,me.BANNER_CLICKED,me.BANNER_CLOSED]}}class ge{constructor(e){const t={channel_code:"channel_code",banner_id:"banner_id",banner_name:"banner_name",position_id:"position_id",position_code:"position_code",position_name:"position_name",campaign_id:"campaign_id",campaign_code:"campaign_code",campaign_name:"campaign_name",breakpoint:"breakpoint",link:"link"};if("params"in e)for(let n in e.params)n in t&&"string"==typeof e.params[n]&&(t[n]=e.params[n]);const n="extraParams"in e&&"object"==typeof e.extraParams?e.extraParams:{},r={},i=e=>({name:e,enabled:!0,params:{...t},extraParams:{...n}});if(r[me.BANNER_LOADED]=i(me.BANNER_LOADED),r[me.BANNER_DISPLAYED]=i(me.BANNER_DISPLAYED),r[me.BANNER_FULLY_DISPLAYED]=i(me.BANNER_FULLY_DISPLAYED),r[me.BANNER_CLICKED]=i(me.BANNER_CLICKED),r[me.BANNER_CLOSED]=i(me.BANNER_CLOSED),"events"in e)for(let t in e.events){const n=e.events[t];if(!0!==n&&t in r)if(!1!==n)if("string"!=typeof n){if("object"==typeof n){if("name"in n&&"string"==typeof n.name&&(r[t].name=n.name),"params"in n&&"object"==typeof n.params)for(let e in n.params)e in r[t].params&&"string"==typeof n.params[e]&&(r[t].params[e]=n.params[e]);"extraParams"in n&&"object"==typeof n.extraParams&&(r[t].extraParams={...r[t].extraParams,...n.extraParams})}}else r[t].name=n;else r[t].enabled=!1}this.events=r}}class be{#me;#q;#ge;#be;#ve={started:!1,events:[],cleanup:[]};constructor(e,t,n){this.#me=e,this.#q=t,this.#ge=n,this.#be=!1}collectBeforeAttach(){if(this.#ve.started||this.#be)return;this.#ve.started=!0;const e=this.#q,t=new ge({}),n=t.events[me.BANNER_LOADED],r=t.events[me.BANNER_DISPLAYED],i=t.events[me.BANNER_FULLY_DISPLAYED],s=t.events[me.BANNER_CLICKED],a=t.events[me.BANNER_CLOSED];this.#ve.cleanup.push(e.subscribe($.ON_BANNER_STATE_CHANGED,(e=>{let{banner:t}=e;if(!t.isEmbed()&&F.RENDERED===t.state&&1===t.stateCounter)for(let e of t.fingerprints)this.#ve.events.push({name:me.BANNER_LOADED,params:this.#ye({event:n,fingerprint:e,banner:t})})}))),this.#ve.cleanup.push(e.subscribe($.ON_BANNER_FIRST_TIME_SEEN,(e=>{let{fingerprint:t,banner:n}=e;this.#ve.events.push({name:me.BANNER_DISPLAYED,params:this.#ye({event:r,fingerprint:t,banner:n})})}))),this.#ve.cleanup.push(e.subscribe($.ON_BANNER_FIRST_TIME_FULLY_SEEN,(e=>{let{fingerprint:t,banner:n}=e;this.#ve.events.push({name:me.BANNER_FULLY_DISPLAYED,params:this.#ye({event:i,fingerprint:t,banner:n})})}))),this.#ve.cleanup.push(e.subscribe($.ON_BANNER_LINK_CLICKED,(e=>{let{fingerprint:t,banner:n,target:r}=e;const i=this.#ye({event:s,fingerprint:t,banner:n});i[s.params.link]=r.href||"",this.#ve.events.push({name:me.BANNER_CLICKED,params:i})}))),this.#ve.cleanup.push(e.subscribe($.ON_BANNER_AFTER_CLOSE,(e=>{let{fingerprint:t,banner:n}=e;this.#ve.events.push({name:me.BANNER_CLOSED,params:this.#ye({event:a,fingerprint:t,banner:n})})})))}attach(e){if(this.#be)return;this.#be=!0;const t=this.#q,n=this.#me;if(!n.hasAnyReceiver())return void this.#Ee();const r=e.events[me.BANNER_LOADED],i=e.events[me.BANNER_DISPLAYED],s=e.events[me.BANNER_FULLY_DISPLAYED],a=e.events[me.BANNER_CLICKED],o=e.events[me.BANNER_CLOSED];if(this.#ve.started){for(let t in this.#ve.events){const{name:r,params:i}=this.#ve.events[t],s=e.events[r];if(!s.enabled)continue;const a={};for(let e in i)a[s.params[e]]=i[e];n.send(s.name,{...a,...s.extraParams})}this.#Ee()}r.enabled&&t.subscribe($.ON_BANNER_STATE_CHANGED,(e=>{let{banner:t}=e;if(!t.isEmbed()&&F.RENDERED===t.state&&1===t.stateCounter)for(let e of t.fingerprints)n.send(r.name,this.#ye({event:r,fingerprint:e,banner:t}))})),i.enabled&&t.subscribe($.ON_BANNER_FIRST_TIME_SEEN,(e=>{let{fingerprint:t,banner:r}=e;n.send(i.name,this.#ye({event:i,fingerprint:t,banner:r}))})),s.enabled&&t.subscribe($.ON_BANNER_FIRST_TIME_FULLY_SEEN,(e=>{let{fingerprint:t,banner:r}=e;n.send(s.name,this.#ye({event:s,fingerprint:t,banner:r}))})),a.enabled&&t.subscribe($.ON_BANNER_LINK_CLICKED,(e=>{let{fingerprint:t,banner:r,target:i}=e;const s=this.#ye({event:a,fingerprint:t,banner:r});s[a.params.link]=i.href||"",n.send(a.name,s)})),o.enabled&&t.subscribe($.ON_BANNER_AFTER_CLOSE,(e=>{let{fingerprint:t,banner:r}=e;n.send(o.name,this.#ye({event:o,fingerprint:t,banner:r}))}))}#ye=e=>{let{event:t,fingerprint:n,banner:r}=e,i=r.getCurrentBreakpoint(n.bannerId);i=null===i?"default":`${"min"===r.positionData.breakpointType?">=":"<="}${i}`;const s={};return s[t.params.channel_code]=this.#ge,s[t.params.banner_id]=n.bannerId,s[t.params.banner_name]=n.bannerName,s[t.params.position_id]=n.positionId,s[t.params.position_code]=n.positionCode,s[t.params.position_name]=n.positionName,s[t.params.campaign_id]=n.campaignId,s[t.params.campaign_code]=n.campaignCode,s[t.params.campaign_name]=n.campaignName,s[t.params.breakpoint]=i,{...s,...t.extraParams}};#Ee(){for(let e in this.#ve.cleanup)this.#ve.cleanup[e]();this.#ve.events=[],this.#ve.cleanup=[]}}let ve=!1;const ye=(e,t)=>{if(!("plausible"in window)||"function"!=typeof window.plausible)return!ve&&console.warn("Unable to send metrics to Plausible because the function plausible() does not occur in the window."),void(ve=!0);Object.keys(t).forEach((e=>null===t[e]&&delete t[e])),window.plausible(e,{props:t})};let Ee=!1;const we=(e,t)=>{if(!("gtag"in window)||"function"!=typeof window.gtag)return!Ee&&console.warn("Unable to send metrics to Google Analytics because the function gtag() does not occur in the window."),void(Ee=!0);Object.keys(t).forEach((e=>null===t[e]&&delete t[e])),window.gtag("event",e,t)};let _e=!1;const Te=(e,t)=>{if(!("dataLayer"in window))return!_e&&console.warn("Unable to send metrics to GTM because the dataLayer does not occur in the window."),void(_e=!0);Object.keys(t).forEach((e=>null===t[e]&&delete t[e])),window.dataLayer.push({event:e,...t})},Ne=(e,t)=>{console.log("Sending metrics.",{eventName:e,eventArgs:t})};class Re{#we;constructor(e){this.#we=Array.isArray(e)?e:[e]}static createFromReceivers(e){if(!e)return new Re([]);e=Array.isArray(e)?e:[e];const t=[];for(let n of e)if("function"!=typeof n)switch(n){case"plausible":t.push(ye);break;case"gtag":t.push(we);break;case"gtm":t.push(Te);break;case"debug":t.push(Ne);break;default:console.warn("Unable to send metrics to a receiver of unknown type",n)}else t.push(n);return new Re(t)}hasAnyReceiver(){return this.#we.length}send(e,t){for(let n of this.#we)n(e,t)}}class Se{#_e;#q;constructor(e){let{origins:t=[]}=e;this.#q=new ue,this.#_e=t}on(e,t){this.#q.subscribe(e,t)}send(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";e.postMessage({message:t,data:n},r)}listen(){window.addEventListener("message",(e=>{if(0<this.#_e.length&&-1===this.#_e.indexOf(e.origin)||"object"!=typeof e.data||!("message"in e.data)||!("data"in e.data))return;const{message:t,data:n}=e.data,r={data:n,origin:e.origin};this._beforeDispatch(t,r)&&this.#q.dispatch(t,r)}),!1)}_beforeDispatch(){return!0}}class Be extends Se{#p;#Te;#re;#me;#Ne=[];constructor(e){let{origin:t,connectionData:n,bannerManager:r,metricsSender:i}=e;super({origins:[t]}),this.#p=t,this.#Te=n,this.#re=r,this.#me=i;const s={};s.adjustHeight=this.#Re,s.stateChanged=this.#Se,s.linkClicked=this.#Be,s.metrics=this.#Ae;for(let e in s)this.on(e,s[e].bind(this));window.addEventListener("resize",(()=>{const e=this.#re.getBannersByState({state:this.#re.STATE.RENDERED,managed:!1,external:!1,embed:!0});for(let t of e)this.sendToBanner(t,"windowResized",{windowWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})}))}connectBanner(e){e.iframe.addEventListener("load",(()=>{const t=this.#Te;t.uid=e.uid,t.windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.sendToBanner(e,"connect",t)}))}sendToBanner(e,t,n){this.send(e.iframe.contentWindow,t,n,this.#p)}_beforeDispatch(e,t){let{data:n}=t;const{uid:r}=n;if(-1===this.#Ne.indexOf(r)){const e=this.#xe(r);e&&(e.iframe.style.visibility="visible",this.#Ne.push(r))}return!0}#Re(e){let{data:t}=e;const n=this.#xe(t.uid);n&&(n.iframe.style.height=t.height+"px")}#Se(e){let{data:t}=e;const n=this.#xe(t.uid);null!==n&&("positionData"in t&&n.updatePositionData(t.positionData),"fingerprints"in t&&n.updateFingerprints(t.fingerprints),n.setState(t.state,`[embed]: ${t.stateInfo}`))}#Be(e){let{data:t}=e;const{href:n,target:r}=t;"_blank"===r?window.open(n,r):window.location.href=n}#Ae(e){let{data:t}=e;const{eventName:n,eventArgs:r}=t;this.#me.hasAnyReceiver()&&this.#me.send(n,r)}#xe(e){const t=this.#re.getBannerByUid(e);return t instanceof ne?t:(console.warn(`Error in communication with embed banner. Embed banner with UID ${e} not attached.`),null)}}class Ae{#Oe;#Ie;#q;#Me;#De;#Ce=null;#re;#je;#Le;#me;#ke;#ie;constructor(e,t){this.EVENTS=$,this.#Oe=e,this.#Ie=t=function(e){const t=s({method:"GET",url:null,version:1,channel:null,locale:null,resources:{},origin:null,template:a,interaction:{defaultIntersectionRatio:.5,intersectionRatioMap:{},firstTimeSeenTimeout:1e3},metrics:{receiver:null,events:{},params:{},extraParams:{}},closing:{storage:"memoryStorage",key:"amp-closed-banners",maxItems:500}},e);if("string"!=typeof t.method||!(t.method.toUpperCase()in{GET:1,POST:1}))throw new Error(`The option "method" must be one of these ["GET", "POST"], ${t.method} passed.`);if(t.method=t.method.toUpperCase(),"string"!=typeof t.url)throw new Error(`The option "url" is required and must be a valid URL, ${t.url} passed.`);if("number"!=typeof t.version)throw new Error(`The option "version" must be a number, ${t.version} passed.`);if("string"!=typeof t.channel)throw new Error(`The option "channel" is required and must be a string, ${t.channel} passed.`);if(null!==t.locale&&"string"!=typeof t.locale)throw new Error(`The option "locale" must be a string, ${t.locale} passed.`);if("object"!=typeof t.resources)throw new Error(`The option "resources" must be an object of that describes resources, ${t.resources} passed.`);if(null!==t.origin&&"string"!=typeof t.origin)throw new Error(`The option "origin" must be a valid URL, ${t.origin} passed.`);if("object"!=typeof t.template)throw new Error(`The option "template" must be an object of the format { single: string, random: string, multiple: string }, ${t.template} passed.`);for(const[e,n]of Object.entries(t.template))if("string"!=typeof n)throw new Error(`The option "template.${e}" must be a string (lodash template), ${n} passed.`);if("object"!=typeof t.interaction)throw new Error(`The option "interaction" must be an object of the format { intersectionRatio: int|float, firstTimeSeenTimeout: int }, ${t.interaction} passed.`);if("number"!=typeof t.interaction.defaultIntersectionRatio||.1>t.interaction.defaultIntersectionRatio||1<t.interaction.defaultIntersectionRatio)throw new Error(`The option "interaction.defaultIntersectionRatio" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "${t.interaction.defaultIntersectionRatio}" passed.`);if(t.interaction.defaultIntersectionRatio=o(t.interaction.defaultIntersectionRatio,"interaction.defaultIntersectionRatio"),"object"!=typeof t.interaction.intersectionRatioMap)throw new Error(`The option "interaction.intersectionRatioMap" must be an object with an integer keys (pixels) and valid ratios as values, ${t.interaction.intersectionRatioMap} passed.`);for(const[e,n]of Object.entries(t.interaction.intersectionRatioMap)){if(Number(e).toString()!==e)throw new Error(`The key "interaction.intersectionRatioMap.${e}" must be an integer.`);if("number"!=typeof n||.1>n||1<n)throw new Error(`The option "interaction.intersectionRatioMap.${e}" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "${t.interaction.intersectionRatioMap[e]}" passed.`);t.interaction.intersectionRatioMap[e]=o(n,"interaction.intersectionRatioMap."+e)}if(!Number.isInteger(t.interaction.firstTimeSeenTimeout)||500>t.interaction.firstTimeSeenTimeout)throw new Error(`The option "interaction.firstTimeSeenTimeout" must be a int with a minimum value of 500, "${t.interaction.firstTimeSeenTimeout}" passed.`);if("object"!=typeof t.metrics)throw new Error(`The option "metrics" must be an object of the format { receiver: null|string|function|array<string|function>, events: object, params: object }, ${t.metrics} passed.`);if(null!==t.metrics.receiver&&-1===["string","function"].indexOf(typeof t.metrics.receiver)&&!Array.isArray(t.metrics.receiver))throw new Error(`The option "metrics.receiver" must be a null or a string or a function or an array of strings|functions, "${t.metrics.receiver}" passed.`);if(Array.isArray(t.metrics.receiver)){for(let e in t.metrics.receiver)if(-1===["string","function"].indexOf(typeof t.metrics.receiver[e]))throw new Error(`The option "metrics.receiver.${e}" must be a string or a function, "${t.metrics.receiver[e]}" passed.`)}else t.metrics.receiver=null!==t.metrics.receiver?[t.metrics.receiver]:[];if("object"!=typeof t.metrics.events)throw new Error(`The option "metrics.event" must be an object of the format { *: string|false|{ name?: string, params?: { *: string }, extraParams?: { *: scalar } } }, ${JSON.stringify(t.metrics.events)} passed.`);if("object"!=typeof t.metrics.params)throw new Error(`The option "metrics.params" must be an object of the format { *: string }, ${JSON.stringify(t.metrics.params)} passed.`);if("object"!=typeof t.metrics.extraParams)throw new Error(`The option "metrics.extraParams" must be an object of the format { *: scalar }, ${JSON.stringify(t.metrics.params)} passed.`);if("object"!=typeof t.closing||"string"!=typeof t.closing.storage||"string"!=typeof t.closing.key||!Number.isInteger(t.closing.maxItems)||1>t.closing.maxItems)throw new Error(`The option "closing" must be an object of the format { storage: "memoryStorage"|"localStorage"|"sessionStorage", key: string, maxItems: integer<1, max> }, ${JSON.stringify(t.closing)} passed.`);return t}(t),this.#q=new ue,this.#Me=new k(t.method,t.url,t.version,t.channel),this.#De=new P(t.url,t.version,t.channel),this.#re=new se(this.#q,ae.fromCurrentWindow(),new pe(t.template)),this.#je=new fe(this.#re,this.#q,t.interaction),this.#me=Re.createFromReceivers(t.metrics.receiver),this.#ke=new be(this.#me,this.#q,t.channel),this.#ie=new Be({origin:t.url,connectionData:{extendedConfig:{interaction:t.interaction,metrics:{events:t.metrics.events,params:t.metrics.params,extraParams:t.metrics.extraParams}}},bannerManager:this.#re,metricsSender:this.#me}),this.#Le=new ce({bannerManager:this.#re,eventBus:this.#q,config:{storage:t.closing.storage,key:t.closing.key,maxItems:t.closing.maxItems},frameMessenger:this.#ie}),this.setLocale(t.locale),this.#Me.origin=t.origin;for(let e in t.resources)this.#Me.addDefaultResource(e,t.resources[e]),this.#De.addDefaultResource(e,t.resources[e]);window.addEventListener("resize",(()=>{const e=this.#re.getBannersByState({state:this.#re.STATE.RENDERED,managed:!0,external:!0,embed:!1});for(let t of e)t.redrawIfNeeded()})),this.#ie.listen(),this.#ke.attach(new ge({events:t.metrics.events,params:t.metrics.params,extraParams:t.metrics.extraParams})),this.#je.start(),this.#Le.attachUi()}get version(){return this.#Oe}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.#q.subscribe(e,t,n)}setLocale(e){this.#Me.locale=e,this.#De.locale=e}setGateway(e){if(!function(e){return e instanceof c}(e))throw new TypeError("Argument gateway mut be instance of AbstractGateway.");this.#Ce=e}getGateway(){return null===this.#Ce&&this.setGateway(new C),this.#Ce}createBanner(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"managed",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window;if(e=ie(e,s),"embed"===i){const i=this.#Pe(e,t,n,r),s=this.#re.addEmbedBanner(e,i,t,r);return this.#ie.connectBanner(s),e.insertAdjacentElement("beforeend",i),s}return this.#re.addManagedBanner(e,t,n,r,s)}closeBanner(e){this.#Le.closeBanner(e)}attachBanners(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const n=e.querySelectorAll("[data-amp-banner]:not([data-amp-attached])");for(let e of n){const n=e.dataset.ampBanner;if(!n){console.warn("Unable to attach a banner to the element ",e,' because the attribute "data-amp-banner" has an empty value.');continue}let r;if("ampBannerExternal"in e.dataset)r=this.#re.addExternalBanner(e,t);else{const i=ee.parseResources(e),s=ee.parseOptions(e),a=e.dataset.ampMode||"managed";r=this.createBanner(e,n,i,s,a,t)}this.#q.dispatch(this.EVENTS.ON_BANNER_ATTACHED,{banner:r})}}fetch(){const e=this.#re.getBannersByState({state:this.#re.STATE.NEW,managed:!0,external:!1,embed:!1});if(!e.length)return;const t=this.#Me.create();for(let n of e)t.addPosition(n.position,n.resources,"1"!==n.options.get("omit-default-resources","0").toString());this.#q.dispatch(this.EVENTS.ON_BEFORE_FETCH),this.getGateway().fetch(t,(t=>{const n=t.data;for(let t of e){if(!(t.position in n)||!("banners"in n[t.position])||!Object.values(n[t.position].banners).length){t.setState(this.#re.STATE.NOT_FOUND,"Banner not found in fetched response.");continue}const e=n[t.position],r=Array.isArray(e.banners)?e.banners:Object.values(e.banners),i=[];for(let e=0;e<r.length;e++){const t=r[e];t.id&&!this.#Le.isClosed(t.id)&&i.push(t)}e.banners=i,"embed"===e.mode&&0<e.banners.length?("options"in e&&t.overrideOptions(e.options),this.createBanner(t.element,t.position,t.rawResources,t.options.options,e.mode),this.#re.removeBanner(t)):t.setResponseData(e)}this.#q.dispatch(this.EVENTS.ON_FETCH_SUCCESS,{response:t})}),(t=>{for(let t of e)t.setState(this.#re.STATE.ERROR,"Request on api failed.");this.#q.dispatch(this.EVENTS.ON_FETCH_ERROR,{response:t})}))}#Pe(e,t,n,r){const i=document.createElement("iframe"),s=`cv=${encodeURIComponent(this.version.semver)}`,a=new G(r);let o=e.dataset.ampEmbedSrc||this.#De.create(t,n,a.options);o+=-1===o.indexOf("?")?`?${s}`:`&${s}`,i.width="100%",i.height="100%",i.allowFullscreen=!0,i.scrolling="no",i.style.border="none",i.style.overflow="hidden",i.style.background="transparent",i.style.visibility="hidden",i.setAttribute("allowtransparency","true");const c=a.evaluate("loading",0),u=a.evaluate("fetchpriority",0);return null!==c&&(i.loading=c),null!==u&&i.setAttribute("fetchpriority",u),[...e.attributes].map((e=>{let{name:t,value:n}=e;return t.startsWith("data-iframe-")&&i.setAttribute(t.substring(12),n)})),i.src=o,i}}const xe=(e,t)=>{const n=Math.round(10*e)/10;return n!==e&&console.warn(`The value for the option "${t}" has been rounded to ${n} (originally ${e}).`),n};function Oe(e){const t=s({interaction:{defaultIntersectionRatio:.5,intersectionRatioMap:{},firstTimeSeenTimeout:1e3},metrics:{events:{},params:{},extraParams:{}}},e);if("object"!=typeof t.interaction)throw new Error(`The option "interaction" must be an object of the format { intersectionRatio: int|float, firstTimeSeenTimeout: int }, ${t.interaction} passed.`);if("number"!=typeof t.interaction.defaultIntersectionRatio||.1>t.interaction.defaultIntersectionRatio||1<t.interaction.defaultIntersectionRatio)throw new Error(`The option "interaction.defaultIntersectionRatio" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "${t.interaction.defaultIntersectionRatio}" passed.`);if(t.interaction.defaultIntersectionRatio=xe(t.interaction.defaultIntersectionRatio,"interaction.defaultIntersectionRatio"),"object"!=typeof t.interaction.intersectionRatioMap)throw new Error(`The option "interaction.intersectionRatioMap" must be an object with an integer keys (pixels) and valid ratios as values, ${t.interaction.intersectionRatioMap} passed.`);for(const[e,n]of Object.entries(t.interaction.intersectionRatioMap)){if(Number(e).toString()!==e)throw new Error(`The key "interaction.intersectionRatioMap.${e}" must be an integer.`);if("number"!=typeof n||.1>n||1<n)throw new Error(`The option "interaction.intersectionRatioMap.${e}" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "${t.interaction.intersectionRatioMap[e]}" passed.`);t.interaction.intersectionRatioMap[e]=xe(n,"interaction.intersectionRatioMap."+e)}if(!Number.isInteger(t.interaction.firstTimeSeenTimeout)||500>t.interaction.firstTimeSeenTimeout)throw new Error(`The option "interaction.firstTimeSeenTimeout" must be a int with a minimum value of 500, "${t.interaction.firstTimeSeenTimeout}" passed.`);if("object"!=typeof t.metrics)throw new Error(`The option "metrics" must be an object of the format { events: object, params: object }, ${JSON.stringify(t.metrics)} passed.`);if("object"!=typeof t.metrics.events)throw new Error(`The option "metrics.event" must be an object of the format { *: string|false|{ name?: string, params?: { *: string }, extraParams?: { *: scalar } } }, ${JSON.stringify(t.metrics.events)} passed.`);if("object"!=typeof t.metrics.params)throw new Error(`The option "metrics.params" must be an object of the format { *: string }, ${JSON.stringify(t.metrics.params)} passed.`);if("object"!=typeof t.metrics.extraParams)throw new Error(`The option "metrics.extraParams" must be an object of the format { *: scalar }, ${JSON.stringify(t.metrics.params)} passed.`);return t}class Ie extends Se{#Fe;#Le;#p;#f;#$e;constructor(e){let{clientEventBus:t,closingManager:n,origin:r}=e;super({origins:void 0!==r?[r]:[]}),this.#Fe=t,this.#Le=n,this.#p=r,this.#f=null,this.#$e=[];const i={};i.connect=this.#Ue,i.closeBanner=this.#We;const s={};s[$.ON_BANNER_STATE_CHANGED]=[this.#He,0],s[$.ON_BANNER_LINK_CLICKED]=[this.#qe,-100],s[$.ON_BANNER_AFTER_CLOSE]=[this.#Ge,0];for(let e in s)this.#Fe.subscribe(e,s[e][0].bind(this),null,s[e][1]);for(let e in i)this.on(e,i[e].bind(this))}sendToParent(e,t){null!==this.#f?(t.uid=this.#f,this.send(window.parent,e,t,this.#p||"*")):this.#$e.push({message:e,data:t})}#Ue(e){let{data:t}=e;if(null!==this.#f)return void console.warn(`The frame is already connected to the parent under the UID ${this.#f}.`);const{uid:n}=t;let r;this.#f=n;const i=()=>{const e=document.body.scrollHeight;r!==e&&(r=e,this.sendToParent("adjustHeight",{height:e}))};i(),setInterval(i,100),this.#Ve()}#We(e){let{data:t}=e;const{bannerId:n}=t;n&&this.#Le.closeBanner(n)}#He(e){let{banner:t}=e;if(F.NEW===t.state)return;const n={state:t.state,stateInfo:t.stateInfo};1===t.stateCounter&&(n.positionData=t.positionData.toObject(),n.fingerprints=t.fingerprints.map((e=>e.value))),this.sendToParent("stateChanged",n)}#qe(e){let{target:t,clickEvent:n}=e;n.preventDefault(),this.sendToParent("linkClicked",{href:t.href,target:t.target||null})}#Ge(e){let{fingerprint:t}=e;this.sendToParent("bannerClosed",{bannerId:t.bannerId,fingerprint:t.value})}#Ve(){for(let e of this.#$e)this.sendToParent(e.message,e.data);this.#$e=[]}}class Me{#Oe;#Qe;#ze;#q;#re;#ie;#je;#Le;#me;#ke;#be;#Ye=null;constructor(e,t){this.EVENTS=$,this.#Oe=e,this.#Qe=function(e){return s({channel:null},e)}(t),this.#ze=Oe({}),this.#ze=null,this.#q=new ue,this.#re=new se(this.#q,new ae((()=>this.#Ye||document.documentElement.clientWidth||document.body.clientWidth))),this.#Le=new ce({bannerManager:this.#re,eventBus:this.#q}),this.#ie=new Ie({clientEventBus:this.#q,closingManager:this.#Le}),this.#be=!1,this.#je=null,this.#me=new Re([this.#Ke.bind(this)]),this.#ke=new be(this.#me,this.#q,this.#Qe.channel),this.#ie.on("connect",(e=>{let{data:t}=e;this.#ze=Oe(t.extendedConfig),this.#Ye=t.windowWidth,this.#je=new fe(this.#re,this.#q,this.#ze.interaction),this.#Je(),this.#ke.attach(new ge(this.#ze.metrics)),this.#je.start()})),this.#ie.on("windowResized",(e=>{let{data:t}=e;this.#Ye=t.windowWidth,this.#Je()})),this.#ie.listen(),this.#ke.collectBeforeAttach(),this.#Le.attachUi()}get version(){return this.#Oe}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.#q.subscribe(e,t,n)}attachBanner(){if(this.#be)throw new Error("Method attachBanner() should be called only once.");const e=document.querySelector("[data-amp-banner]:not([data-amp-attached])");if(!e)return void console.warn("No banner found in the embed client.");const t=this.#re.addExternalBanner(e);this.#be=!0,this.#q.dispatch(this.EVENTS.ON_BANNER_ATTACHED,{banner:t})}#Ke(e,t){this.#ie.sendToParent("metrics",{eventName:e,eventArgs:t})}#Je(){for(let e of this.#re.getBannersByState({state:F.RENDERED}))e.redrawIfNeeded()}}const De=t.rE;class Ce{static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ae(new i(De,`standard@${De}`),e)}static createEmbed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Me(new i(De,`embed@${De}`),e)}static get version(){return De}}})(),AMPClientFactory=r.default})();