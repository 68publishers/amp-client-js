var AMPClientFactory;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{AMPClientFactory:()=>da});var n={};t.r(n),t.d(n,{exclude:()=>q,extract:()=>L,parse:()=>U,parseUrl:()=>$,pick:()=>G,stringify:()=>z,stringifyUrl:()=>H});const r=JSON.parse('{"i8":"1.5.0-beta.0"}');function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function a(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function u(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,l(t,e,"get"))}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,l(t,e,"set"),n),n}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var s=new WeakMap,f=new WeakMap,p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s,{writable:!0,value:void 0}),a(this,f,{writable:!0,value:void 0}),c(this,s,e),c(this,f,n)}var e,n,r;return e=t,(n=[{key:"semver",get:function(){return u(this,s)}},{key:"full",get:function(){return u(this,f)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const y=_.merge,b={single:'\n    <div class="amp-banner amp-banner--single"\n         data-amp-banner-fingerprint="<%= data.fingerprint %>">\n\n        <% if(\'img\' === data.content.type) { %>\n            <a class="amp-banner__content amp-banner__content--img"\n               href="<%= data.content.href %>"\n               <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                <picture>\n                    <% (data.content.sources || []).forEach(function(source) { %>\n                        <source type="<%= source.type %>"\n                                srcset="<%= source.srcset %>"\n                                sizes="<%- data.content.sizes %>">\n                    <% }); %>\n                    <img srcset="<%= data.content.srcset %>"\n                         src="<%= data.content.src %>"\n                         sizes="<%- data.content.sizes %>"\n                         alt="<%- data.content.alt %>"\n                         <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                         <% if(banner.options.has(\'loading\')) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                </picture>\n            </a>\n        <% } else if (\'html\' === data.content.type) { %>\n            <div class="amp-banner__content amp-banner__content--html">\n                <%= data.content.html %>\n            </div>\n        <% } %>\n\n    </div>\n',random:'\n    <div class="amp-banner amp-banner--random"\n         data-amp-banner-fingerprint="<%= data.fingerprint %>">\n\n        <% if(\'img\' === data.content.type) { %>\n            <a class="amp-banner__content amp-banner__content--img"\n               href="<%= data.content.href %>"\n               <% if(null !== data.content.target) { %>target="<%- data.content.target %>"<% } %>>\n                <picture>\n                    <% (data.content.sources || []).forEach(function(source) { %>\n                        <source type="<%= source.type %>"\n                                srcset="<%= source.srcset %>"\n                                sizes="<%- data.content.sizes %>">\n                    <% }); %>\n                    <img srcset="<%= data.content.srcset %>"\n                         src="<%= data.content.src %>"\n                         sizes="<%- data.content.sizes %>"\n                         alt="<%- data.content.alt %>"\n                         <% if(\'\' !== data.content.title) { %>title="<%- data.content.title %>"<% } %>\n                         <% if(banner.options.has(\'loading\')) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                </picture>\n            </a>\n        <% } else if (\'html\' === data.content.type) { %>\n            <div class="amp-banner__content amp-banner__content--html">\n                <%= data.content.html %>\n            </div>\n        <% } %>\n\n    </div>\n',multiple:'\n    <div class="amp-banner amp-banner--multiple">\n        <div class="amp-banner__list">\n            <% for (index in data) { var b = data[index]; %>\n                <div class="amp-banner__item"\n                     data-amp-banner-fingerprint="<%= b.fingerprint %>">\n\n                    <% if(\'img\' === b.content.type) { %>\n                        <a class="amp-banner__content amp-banner__content--img"\n                           href="<%= b.content.href %>"\n                           <% if(null !== b.content.target) { %>target="<%- b.content.target %>"<% } %>>\n                            <picture>\n                                <% (b.content.sources || []).forEach(function(source) { %>\n                                    <source type="<%= source.type %>"\n                                            srcset="<%= source.srcset %>"\n                                            sizes="<%- b.content.sizes %>">\n                                <% }); %>\n                                <img srcset="<%= b.content.srcset %>"\n                                     src="<%= b.content.src %>"\n                                     sizes="<%- b.content.sizes %>"\n                                     alt="<%- b.content.alt %>"\n                                     <% if(\'\' !== b.content.title) { %>title="<%- b.content.title %>"<% } %>\n                                     <% if(banner.options.has(\'loading\') && index >= parseInt(banner.options.get(\'loading-offset\', 0))) { %>loading="<%- banner.options.get(\'loading\') %>"<% } %>>\n                            </picture>\n                        </a>\n                    <% } else if (\'html\' === b.content.type) { %>\n                        <div class="amp-banner__content amp-banner__content--html">\n                            <%= b.content.html %>\n                        </div>\n                    <% } %>\n\n                </div>\n            <% } %>\n        </div>\n    </div>\n'};function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var h=function(t,e){var n=Math.round(10*t)/10;return n!==t&&console.warn('The value for the option "'.concat(e,'" has been rounded to ').concat(n," (originally ").concat(t,").")),n};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===w(i)?i:String(i)),r)}var o,i}var S=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new TypeError("Can not construct abstract class AbstractGateway.");if(this.fetch===t.prototype.fetch)throw new TypeError("Please implement abstract method ::fetch().")}var e,n,r;return e=t,(n=[{key:"fetch",value:function(t,e){throw new TypeError("Do not call abstract method ::fetch() from child.")}}])&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const E="%[a-f0-9]{2}",T=new RegExp("("+E+")|([^%]+?)","gi"),k=new RegExp("("+E+")+","gi");function j(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],j(n),j(r))}function O(t){try{return decodeURIComponent(t)}catch{let e=t.match(T)||[];for(let n=1;n<e.length;n++)e=(t=j(e,n).join("")).match(T)||[];return t}}function P(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return function(t){const e={"%FE%FF":"��","%FF%FE":"��"};let n=k.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const t=O(n[0]);t!==n[0]&&(e[n[0]]=t)}n=k.exec(t)}e["%C2"]="�";const r=Object.keys(e);for(const n of r)t=t.replace(new RegExp(n,"g"),e[n]);return t}(t)}}function N(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===t||""===e)return[];const n=t.indexOf(e);return-1===n?[]:[t.slice(0,n),t.slice(n+e.length)]}function A(t,e){const n={};if(Array.isArray(e))for(const r of e){const e=Object.getOwnPropertyDescriptor(t,r);e?.enumerable&&Object.defineProperty(n,r,e)}else for(const r of Reflect.ownKeys(t)){const o=Object.getOwnPropertyDescriptor(t,r);if(o.enumerable){e(r,t[r],t)&&Object.defineProperty(n,r,o)}}return n}const R=t=>null==t,I=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),C=Symbol("encodeFragmentIdentifier");function M(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function D(t,e){return e.encode?e.strict?I(t):encodeURIComponent(t):t}function B(t,e){return e.decode?P(t):t}function W(t){return Array.isArray(t)?t.sort():"object"==typeof t?W(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function F(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function x(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function L(t){const e=(t=F(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function U(t,e){M((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"colon-list-separator":return(t,n,r)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const o="string"==typeof n&&n.includes(t.arrayFormatSeparator),i="string"==typeof n&&!o&&B(n,t).includes(t.arrayFormatSeparator);n=i?B(n,t):n;const a=o||i?n.split(t.arrayFormatSeparator).map((e=>B(e,t))):null===n?n:B(n,t);r[e]=a};case"bracket-separator":return(e,n,r)=>{const o=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!o)return void(r[e]=n?B(n,t):n);const i=null===n?[]:n.split(t.arrayFormatSeparator).map((e=>B(e,t)));void 0!==r[e]?r[e]=[...r[e],...i]:r[e]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[...[n[t]].flat(),e]:n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){if(""===o)continue;const t=e.decode?o.replace(/\+/g," "):o;let[i,a]=N(t,"=");void 0===i&&(i=t),a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:B(a,e),n(B(i,e),a,r)}for(const[t,n]of Object.entries(r))if("object"==typeof n&&null!==n)for(const[t,r]of Object.entries(n))n[t]=x(r,e);else r[t]=x(n,e);return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=W(n):t[e]=n,t}),Object.create(null))}function z(t,e){if(!t)return"";M((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const n=n=>e.skipNull&&R(t[n])||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[D(e,t),"[",o,"]"].join("")]:[...n,[D(e,t),"[",D(o,t),"]=",D(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[D(e,t),"[]"].join("")]:[...n,[D(e,t),"[]=",D(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[D(e,t),":list="].join("")]:[...n,[D(e,t),":list=",D(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[D(n,t),e,D(o,t)].join("")]:[[r,D(o,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,D(e,t)]:[...n,[D(e,t),"=",D(r,t)].join("")]}}(e),o={};for(const[e,r]of Object.entries(t))n(e)||(o[e]=r);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map((n=>{const o=t[n];return void 0===o?"":null===o?D(n,e):Array.isArray(o)?0===o.length&&"bracket-separator"===e.arrayFormat?D(n,e)+"[]":o.reduce(r(n),[]).join("&"):D(n,e)+"="+D(o,e)})).filter((t=>t.length>0)).join("&")}function $(t,e){e={decode:!0,...e};let[n,r]=N(t,"#");return void 0===n&&(n=t),{url:n?.split("?")?.[0]??"",query:U(L(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:B(r,e)}:{}}}function H(t,e){e={encode:!0,strict:!0,[C]:!0,...e};const n=F(t.url).split("?")[0]||"";let r=z({...U(L(t.url),{sort:!1}),...t.query},e);r&&(r=`?${r}`);let o=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);if(t.fragmentIdentifier){const r=new URL(n);r.hash=t.fragmentIdentifier,o=e[C]?r.hash:`#${t.fragmentIdentifier}`}return`${n}${r}${o}`}function G(t,e,n){n={parseFragmentIdentifier:!0,[C]:!1,...n};const{url:r,query:o,fragmentIdentifier:i}=$(t,n);return H({url:r,query:A(o,e),fragmentIdentifier:i},n)}function q(t,e,n){return G(t,Array.isArray(e)?t=>!e.includes(t):(t,n)=>!e(t,n),n)}const Y=n;function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function K(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(i,t);var e,n,r,o=Z(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"fetch",value:function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(XMLHttpRequest.DONE!==r.readyState||0===r.status)return!1;var t=JSON.parse(r.responseText);200<=r.status&&300>r.status?e(t):n(t)},r.onerror=function(){n({status:"error",data:{code:r.status,error:r.statusText||"unknown"}})};var o=t.endpoint;"GET"===t.method&&(o+="?".concat(Y.stringify(t.parameters))),r.open(t.method,o,!0),r.overrideMimeType("application/json"),r.setRequestHeader("Accept","application/json");var i,a=K(t.headers);try{for(a.s();!(i=a.n()).done;){var u=i.value;r.setRequestHeader(u.name,u.value)}}catch(t){a.e(t)}finally{a.f()}r.send("POST"===t.method?JSON.stringify(t.parameters):null)}}])&&X(e.prototype,n),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(S);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===nt(i)?i:String(i)),r)}var o,i}function ot(t,e,n){it(t,e),e.set(t,n)}function it(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function at(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,lt(t,e,"get"))}function ut(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ct(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,lt(t,e,"set"),n),n}function lt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var st=new WeakMap,ft=new WeakMap,pt=new WeakSet,yt=function(){function t(e,n){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),it(r=this,o=pt),o.add(r),ot(this,st,{writable:!0,value:void 0}),ot(this,ft,{writable:!0,value:void 0}),ct(this,st,e),ct(this,ft,ut(this,pt,bt).call(this,n))}var e,n,r;return e=t,(n=[{key:"name",get:function(){return at(this,st)}},{key:"value",get:function(){return at(this,ft)}},{key:"withValues",value:function(e){return new t(this.name,ut(this,pt,bt).call(this,e).concat(this.value).filter((function(t,e,n){return n.indexOf(t)===e})))}}])&&rt(e.prototype,n),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function bt(t){return Array.isArray(t)?t:[t]}function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==mt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===mt(i)?i:String(i)),r)}var o,i}function dt(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ht(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,gt(t,e,"get"))}function wt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,gt(t,e,"set"),n),n}function gt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var St=new WeakMap,Et=new WeakMap,Tt=new WeakMap,kt=new WeakMap,jt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,Nt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,St,{writable:!0,value:void 0}),dt(this,Et,{writable:!0,value:void 0}),dt(this,Tt,{writable:!0,value:void 0}),dt(this,kt,{writable:!0,value:void 0}),dt(this,jt,{writable:!0,value:void 0}),dt(this,Ot,{writable:!0,value:void 0}),dt(this,Pt,{writable:!0,value:function(t){var e,n,r=Object.assign({},t);for(e in r)for(n in r[e])r[e][n]=r[e][n].value;return r}}),wt(this,St,e),wt(this,Et,n),wt(this,Tt,r),wt(this,kt,{}),wt(this,jt,o),wt(this,Ot,i)}var e,n,r;return e=t,n=[{key:"addPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ht(this,kt);if(t in n)throw new Error('Position "'+t+'" already exists.');n[t]={},this.addPositionResources(t,ht(this,jt)),this.addPositionResources(t,e)}},{key:"addPositionResources",value:function(t,e){for(var n in e)this.addPositionResource(t,e[n])}},{key:"addPositionResource",value:function(t,e){if(!(e instanceof yt))throw new TypeError("Argument resource must be instance of Resource class.");var n=ht(this,kt);if(!(t in n))throw new Error('Missing position "'+t+'".');var r=n[t];e.name in r?r[e.name]=r[e.name].withValues(e.value):r[e.name]=e}},{key:"method",get:function(){return ht(this,St)}},{key:"endpoint",get:function(){return ht(this,Et)}},{key:"locale",get:function(){return ht(this,Tt)}},{key:"parameters",get:function(){var t=ht(this,Pt).call(this,ht(this,kt)),e={query:"GET"===this.method?JSON.stringify(t):t};return null!==this.locale&&(e.locale=this.locale),e}},{key:"headers",get:function(){return ht(this,Ot)}}],n&&vt(e.prototype,n),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==At(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===At(i)?i:String(i)),r)}var o,i}function Rt(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function It(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Mt(t,e,"get"))}function Ct(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Mt(t,e,"set"),n),n}function Mt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Dt=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,Ft=new WeakMap,xt=new WeakMap,Lt=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rt(this,Dt,{writable:!0,value:void 0}),Rt(this,Bt,{writable:!0,value:void 0}),Rt(this,Wt,{writable:!0,value:void 0}),Rt(this,Ft,{writable:!0,value:void 0}),Rt(this,xt,{writable:!0,value:void 0}),Ct(this,Dt,e),Ct(this,Bt,"".concat(n,"/api/v").concat(r,"/content/").concat(encodeURIComponent(o))),Ct(this,Wt,null),Ct(this,Ft,[]),Ct(this,xt,null)}var e,n,r;return e=t,(n=[{key:"locale",set:function(t){Ct(this,Wt,t)}},{key:"origin",set:function(t){Ct(this,xt,t)}},{key:"addDefaultResource",value:function(t,e){It(this,Ft).push(new yt(t,e))}},{key:"create",value:function(){var t=[];return"string"==typeof It(this,xt)&&""!==It(this,xt)&&t.push({name:"X-Amp-Origin",value:It(this,xt)}),new Nt(It(this,Dt),It(this,Bt),It(this,Wt),It(this,Ft),t)}}])&&_t(e.prototype,n),r&&_t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ut(i)?i:String(i)),r)}var o,i}function $t(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ht(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,qt(t,e,"get"))}function Gt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,qt(t,e,"set"),n),n}function qt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Yt=new WeakMap,Vt=new WeakMap,Kt=new WeakMap,Jt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,Yt,{writable:!0,value:void 0}),$t(this,Vt,{writable:!0,value:void 0}),$t(this,Kt,{writable:!0,value:void 0}),Gt(this,Yt,"".concat(e,"/preview/position/").concat(encodeURIComponent(n))),Gt(this,Vt,null),Gt(this,Kt,{})}var e,n,r;return e=t,n=[{key:"locale",set:function(t){Gt(this,Vt,t)}},{key:"addDefaultResource",value:function(t,e){var n=Ht(this,Kt),r=new yt(t,e);r.name in n?n[r.name]=n[r.name].withValues(r.value):n[r.name]=r}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ht(this,Kt);for(var o in e){var i=new yt(o,e[o]);i.name in r?r[i.name]=r[i.name].withValues(i.value):r[i.name]=i}var a={};for(var u in r)a[u]=r[u].value;a=JSON.stringify(a);var c=JSON.stringify(n),l={};"{}"!==a&&(l.resources=a),"{}"!==c&&(l.options=c),null!==Ht(this,Vt)&&(l.locale=Ht(this,Vt));var s=Y.stringify(l);return"".concat(Ht(this,Yt),"/").concat(encodeURIComponent(t)).concat(""!==s?"?"+s:"")}}],n&&zt(e.prototype,n),r&&zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Xt(i)?i:String(i)),r)}var o,i}var Zt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"NEW",get:function(){return"NEW"}},{key:"RENDERED",get:function(){return"RENDERED"}},{key:"NOT_FOUND",get:function(){return"NOT_FOUND"}},{key:"ERROR",get:function(){return"ERROR"}},{key:"STATES",get:function(){return[t.NEW,t.RENDERED,t.NOT_FOUND,t.ERROR]}}],(n=null)&&Qt(e.prototype,n),r&&Qt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==te(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===te(i)?i:String(i)),r)}var o,i}var ne=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"ON_BANNER_ATTACHED",get:function(){return"amp:banner:attached"}},{key:"ON_BANNER_STATE_CHANGED",get:function(){return"amp:banner:state-changed"}},{key:"ON_BANNER_INTERSECTION_CHANGED",get:function(){return"amp:banner:intersection-changed"}},{key:"ON_BANNER_FIRST_TIME_SEEN",get:function(){return"amp:banner:first-time-seen"}},{key:"ON_BANNER_FIRST_TIME_FULLY_SEEN",get:function(){return"amp:banner:first-time-fully-seen"}},{key:"ON_BANNER_LINK_CLICKED",get:function(){return"amp:banner:link-clicked"}},{key:"ON_BEFORE_FETCH",get:function(){return"amp:fetch:before"}},{key:"ON_FETCH_ERROR",get:function(){return"amp:fetch:error"}},{key:"ON_FETCH_SUCCESS",get:function(){return"amp:fetch:success"}}],(n=null)&&ee(e.prototype,n),r&&ee(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===re(i)?i:String(i)),r)}var o,i}var ie=function(){function t(e){var n=e.id,r=e.code,o=e.name,i=e.rotationSeconds,a=e.displayType,u=e.breakpointType;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.code=r,this.name=o,this.rotationSeconds=i,this.displayType=a,this.breakpointType=u}var e,n,r;return e=t,r=[{key:"createInitial",value:function(e){return new t({id:null,code:e,name:null,rotationSeconds:0,displayType:null,breakpointType:null})}}],(n=[{key:"isSingle",value:function(){return"single"===this.displayType}},{key:"isRandom",value:function(){return"random"===this.displayType}},{key:"isMultiple",value:function(){return"multiple"===this.displayType}},{key:"toObject",value:function(){return{id:this.id,code:this.code,name:this.name,rotationSeconds:this.rotationSeconds,displayType:this.displayType,breakpointType:this.breakpointType}}}])&&oe(e.prototype,n),r&&oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ae(i)?i:String(i)),r)}var o,i}var ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}var e,n,r;return e=t,n=[{key:"has",value:function(t){return void 0!==this.options[t]}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.options[t]||e}}],n&&ue(e.prototype,n),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===le(i)?i:String(i)),r)}var o,i}function fe(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function pe(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,be(t,e,"get"))}function ye(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,be(t,e,"set"),n),n}function be(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var me=new WeakMap,ve=new WeakMap,de=new WeakMap,he=new WeakMap,we=new WeakMap,ge=new WeakMap,Se=function(){function t(e,n,r,o,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,me,{writable:!0,value:void 0}),fe(this,ve,{writable:!0,value:void 0}),fe(this,de,{writable:!0,value:void 0}),fe(this,he,{writable:!0,value:null}),fe(this,we,{writable:!0,value:null}),fe(this,ge,{writable:!0,value:{}}),this.constructor===t)throw new TypeError("Can not construct abstract class Banner.");ye(this,me,n),ye(this,ve,r),ye(this,de,new ce(i)),this._eventBus=e,this._positionData=ie.createInitial(o),this.STATE=Zt,this.setState(this.STATE.NEW,"Banner created.")}var e,n,r;return e=t,n=[{key:"uid",get:function(){return pe(this,me)}},{key:"element",get:function(){return pe(this,ve)}},{key:"state",get:function(){return pe(this,he)}},{key:"stateInfo",get:function(){return pe(this,we)}},{key:"stateCounter",get:function(){return pe(this,ge)[this.state]||0}},{key:"position",get:function(){return this.positionData.code}},{key:"positionData",get:function(){return this._positionData}},{key:"options",get:function(){return pe(this,de)}},{key:"fingerprints",get:function(){return[]}},{key:"setState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(-1===this.STATE.STATES.indexOf(t))throw new TypeError("".concat(t," is not valid state."));ye(this,he,t),ye(this,we,e.toString()),pe(this,ge)[t]=(pe(this,ge)[t]||0)+1,this._eventBus.dispatch(ne.ON_BANNER_STATE_CHANGED,this)}},{key:"getCurrenBreakpoint",value:function(t){return null}},{key:"isManaged",value:function(){return!1}},{key:"isExternal",value:function(){return!1}},{key:"isEmbed",value:function(){return!1}}],n&&se(e.prototype,n),r&&se(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ee(i)?i:String(i)),r)}var o,i}var ke=function(){function t(e,n){var r=n.bannerId,o=n.bannerName,i=n.positionId,a=n.positionCode,u=n.positionName,c=n.campaignId,l=n.campaignCode,s=n.campaignName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.bannerId=r,this.bannerName=o,this.positionId=i,this.positionCode=a,this.positionName=u,this.campaignId=c,this.campaignCode=l,this.campaignName=s}var e,n,r;return e=t,r=[{key:"createFromProperties",value:function(e){return new t(btoa(encodeURIComponent(JSON.stringify(e))),e)}},{key:"createFromValue",value:function(e){return new t(e,JSON.parse(decodeURIComponent(atob(e))))}}],(n=[{key:"toString",value:function(){return this.value}}])&&Te(e.prototype,n),r&&Te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===je(i)?i:String(i)),r)}var o,i}function Pe(t,e){Ae(t,e),e.add(t)}function Ne(t,e,n){Ae(t,e),e.set(t,n)}function Ae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Re(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ce(t,e,"get"))}function Ie(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ce(t,e,"set"),n),n}function Ce(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Me=new WeakMap,De=new WeakMap,Be=new WeakMap,We=new WeakMap,Fe=new WeakMap,xe=new WeakSet,Le=new WeakSet,Ue=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,Le),Pe(this,xe),Ne(this,Me,{writable:!0,value:void 0}),Ne(this,De,{writable:!0,value:void 0}),Ne(this,Be,{writable:!0,value:null}),Ne(this,We,{writable:!0,value:null}),Ne(this,Fe,{writable:!0,value:{min:null,max:null,reset:function(){this.min=this.max=null}}}),Ie(this,Me,e),Ie(this,De,n)}var e,n,r;return e=t,(n=[{key:"fingerprint",get:function(){return Re(this,Be)},set:function(t){if(!(t instanceof ke))throw new TypeError("The value must be instance of Fingerprint object.");Ie(this,Be,t)}},{key:"id",get:function(){return Re(this,Me).id}},{key:"name",get:function(){return Re(this,Me).name||null}},{key:"score",get:function(){return Re(this,Me).score}},{key:"campaign",get:function(){return console.warn("Usage of deprecated property `BannerData.campaign`. Please use property `campaignCode` instead."),this.campaignCode()}},{key:"campaignId",get:function(){return Re(this,Me).campaign_id||null}},{key:"campaignCode",get:function(){return Re(this,Me).campaign_code||Re(this,Me).campaign||null}},{key:"campaignName",get:function(){return Re(this,Me).campaign_name||null}},{key:"content",get:function(){var t=this;if(null!==Re(this,We)&&!this.needRedraw())return Re(this,We);Re(this,Fe).reset();var e=_e(this,xe,ze).call(this),n=Re(this,Me).contents,r=Re(this,De),o=null,i=null,a=null,u=[];if(_e(this,Le,$e).call(this,n,(function(n){var c=n.breakpoint;null!==c?(u.push(c),("min"===r&&e>=c&&(null===a||a<c)||"max"===r&&e<=c&&(null===a||a>c))&&(i=n,a=c,Re(t,Fe)[r]=c)):o=n})),null===i&&null===o)throw new Error("Missing content for banner with ID ".concat(this.id));u.sort((function(t,e){return t-e})),"min"===r?u.unshift(null):u.push(null);var c=u.indexOf(a);return"max"===r&&c-1 in u&&(Re(this,Fe).min=u[c-1]),"min"===r&&c+1 in u&&(Re(this,Fe).max=u[c+1]),Ie(this,We,null!==i?i:o)}},{key:"needRedraw",value:function(){if(null===Re(this,We))return!0;var t=_e(this,xe,ze).call(this);return null!==Re(this,Fe).min&&t<Re(this,Fe).min||null!==Re(this,Fe).max&&t>Re(this,Fe).max}}])&&Oe(e.prototype,n),r&&Oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ze(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function $e(t,e){for(var n in t)e(t[n],n)}function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==He(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===He(i)?i:String(i)),r)}var o,i}function qe(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ye(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ke(t,e,"get"))}function Ve(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ke(t,e,"set"),n),n}function Ke(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Je=new WeakMap,Xe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,Je,{writable:!0,value:void 0}),Ve(this,Je,e)}var e,n,r;return e=t,(n=[{key:"positionCode",get:function(){return Ye(this,Je).positionData.code}},{key:"rotationSeconds",get:function(){return Ye(this,Je).positionData.rotationSeconds}},{key:"displayType",get:function(){return Ye(this,Je).positionData.displayType}},{key:"breakpointType",get:function(){return Ye(this,Je).positionData.breakpointType}},{key:"fingerprints",get:function(){return Ye(this,Je).fingerprints}},{key:"bannerData",get:function(){return Ye(this,Je).bannerData}}])&&Ge(e.prototype,n),r&&Ge(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qe(i)?i:String(i)),r)}var o,i}var tn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"randomByWeights",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weight",n={},r=0,o=0;o<t.length;o++)r+=t[o][e];for(var i=0;i<t.length;i++)n[i]=t[i][e]/r;for(var a=0,u=Math.random();u>0;)u-=n[a],a++;return t[--a]?t[a]:t[0]}}],(n=null)&&Ze(e.prototype,n),r&&Ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function nn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==en(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==en(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===en(i)?i:String(i)),r)}var o,i}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ln(t);if(e){var o=ln(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cn(t)}(this,n)}}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function sn(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function fn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,yn(t,e,"get"))}function pn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,yn(t,e,"set"),n),n}function yn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var bn=new WeakMap,mn=new WeakMap,vn=new WeakMap,dn=new WeakMap,hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,t);var e,n,r,o=un(i);function i(t,e,n,r){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),sn(cn(a=o.call(this,t,e,n,r,c)),bn,{writable:!0,value:void 0}),sn(cn(a),mn,{writable:!0,value:!1}),sn(cn(a),vn,{writable:!0,value:null}),sn(cn(a),dn,{writable:!0,value:[]}),pn(cn(a),bn,u),a}return e=i,(n=[{key:"html",set:function(t){this.element.innerHTML=t}},{key:"resources",get:function(){return fn(this,bn)}},{key:"data",get:function(){return console.warn("Usage of deprecated property `ManagedBanner.data`. Please use property `positionData` for accessing information about a position."),new Xe(this)}},{key:"fingerprints",get:function(){var t;try{t=this.bannerData}catch(t){return[]}return this.positionData.isMultiple()||(t=[t]),t.map((function(t){return t.fingerprint}))}},{key:"bannerData",get:function(){if(null!==fn(this,vn))return fn(this,vn);if(!fn(this,dn).length)throw new Error("Banner's data is empty.");var t=null,e=this.positionData,n=function(t){return ke.createFromProperties({bannerId:t.id,bannerName:t.name,positionId:e.id,positionCode:e.code,positionName:e.name,campaignId:t.campaignId,campaignCode:t.campaignCode,campaignName:t.campaignName})};switch(!0){case e.isSingle():(t=fn(this,dn).reduce((function(t,e){return t.score>=e.score?t:e}))).fingerprint=n(t);break;case e.isRandom():(t=tn.randomByWeights(fn(this,dn),"score")).fingerprint=n(t);break;case e.isMultiple():var r,o=nn(t=fn(this,dn).sort((function(t,e){return e.score-t.score})));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.fingerprint=n(i)}}catch(t){o.e(t)}finally{o.f()}break;default:throw new Error("Invalid display type ".concat(this.displayType,"."))}if(null===t)throw new Error("Banner's data is empty.");return pn(this,vn,t),t}},{key:"getCurrenBreakpoint",value:function(t){var e=this.bannerData,n=(e=(Array.isArray(e)?e:[e]).find((function(e){return e.id===t})))&&e.content?e.content.breakpoint:null;return null===n?null:parseInt(n)}},{key:"isManaged",value:function(){return!0}},{key:"setResponseData",value:function(t){if(fn(this,mn))throw new Error("Data for banner on position ".concat(this.position," is already set."));this._positionData=new ie({id:t.position_id||null,code:this._positionData.code,name:t.position_name||null,rotationSeconds:t.rotation_seconds,displayType:t.display_type,breakpointType:t.breakpoint_type});var e=[];for(var n in t.banners||[])e.push(new Ue(t.banners[n],t.breakpoint_type));pn(this,dn,e),pn(this,mn,!0)}},{key:"needRedraw",value:function(){var t=this.bannerData;for(var e in Array.isArray(t)||(t=[t]),t)if(t[e].needRedraw())return!0;return!1}}])&&on(e.prototype,n),r&&on(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Se);function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function gn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===wn(i)?i:String(i)),r)}var o,i}var Tn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseResources",value:function(t){var e,n={},r=[].filter.call(t.attributes,(function(t){return/^data-amp-resource-\S+/.test(t.name)})),o=gn(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.value&&(n[i.name.slice(18)]=i.value.split(",").map((function(t){return t.trim()})))}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"parseOptions",value:function(t){var e,n={},r=gn([].filter.call(t.attributes,(function(t){return/^data-amp-option-\S+/.test(t.name)})));try{for(r.s();!(e=r.n()).done;){var o=e.value;o.value&&(n[o.name.slice(16)]=o.value.trim())}}catch(t){r.e(t)}finally{r.f()}return n}}],(n=null)&&En(e.prototype,n),r&&En(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function jn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return On(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==kn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===kn(i)?i:String(i)),r)}var o,i}function Nn(t,e){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nn(t,e)}function An(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rn(t);if(e){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _n(t)}(this,n)}}function _n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rn(t){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(t)}function In(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Cn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Dn(t,e,"get"))}function Mn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Dn(t,e,"set"),n),n}function Dn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Bn=new WeakMap,Wn=new WeakMap,Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(i,t);var e,n,r,o=An(i);function i(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),!("ampBannerExternal"in n.dataset))throw new Error('Unable to initialize ExternalBanner from element that does not have an attribute "data-amp-external".');var a=JSON.parse(decodeURIComponent(atob(n.dataset.ampBannerExternal)));if(!("state"in a)||!("positionData"in a))throw new Error('Unable to initialize ExternalBanner data attribute "data-amp-external" is malformed.');var u=a.state,c=new ie(a.positionData),l=Tn.parseOptions(n);In(_n(r=o.call(this,t,e,n,c.code,l)),Bn,{writable:!0,value:[]}),In(_n(r),Wn,{writable:!0,value:{}});var s,f=[],p={},y=jn(n.querySelectorAll("[data-amp-banner-fingerprint]"));try{for(y.s();!(s=y.n()).done;){var b=s.value,m=ke.createFromValue(b.dataset.ampBannerFingerprint);f.push(m);var v,d=jn(b.querySelectorAll("[data-amp-content-breakpoint]"));try{for(d.s();!(v=d.n()).done;){var h=v.value,w=h.dataset.ampContentBreakpoint;w="default"===w?null:parseInt(w),m.bannerId in p||(p[m.bannerId]=[]),p[m.bannerId].push({breakpoint:w,element:h})}}catch(t){d.e(t)}finally{d.f()}}}catch(t){y.e(t)}finally{y.f()}return r._positionData=c,Mn(_n(r),Bn,f),Mn(_n(r),Wn,p),r.setState(u.value,u.info),r}return e=i,(n=[{key:"fingerprints",get:function(){return Cn(this,Bn)}},{key:"getCurrenBreakpoint",value:function(t){var e,n=jn(Cn(this,Wn)[t]||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("none"!==getComputedStyle(r.element).display)return r.breakpoint}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"isExternal",value:function(){return!0}}])&&Pn(e.prototype,n),r&&Pn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Se);function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===xn(i)?i:String(i)),r)}var o,i}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Un(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$n(t);if(e){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function $n(t){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$n(t)}var Hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(i,t);var e,n,r,o=zn(i);function i(t,e,n,r,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e,n,r,a)}return e=i,(n=[{key:"fingerprints",get:function(){throw new Error("Property EmbedBanner.fingerprints is not readable.")}},{key:"getCurrenBreakpoint",value:function(t){throw new Error("Method EmbedBanner.getCurrenBreakpoint() is not readable.")}},{key:"isEmbed",value:function(){return!0}},{key:"updatePositionData",value:function(t){for(var e=this.positionData,n=0,r=["id","name","rotationSeconds","displayType","breakpointType"];n<r.length;n++){var o=r[n];o in t&&(e[o]=t[o])}}}])&&Ln(e.prototype,n),r&&Ln(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Se);function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Gn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Gn(i)?i:String(i)),r)}var o,i}function Yn(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Vn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Kn(t,e,"set"),n),n}function Kn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Jn=new WeakMap,Xn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,Jn,{writable:!0,value:void 0}),Vn(this,Jn,e-1)}var e,n,r;return e=t,(n=[{key:"getNextIdentifier",value:function(){var t,e;return Vn(this,Jn,(t=function(t,e){return e.get?e.get.call(t):e.value}(e=this,Kn(e,Jn,"get")),++t))}}])&&qn(e.prototype,n),r&&qn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function Zn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qn(i)?i:String(i)),r)}var o,i}function nr(t,e,n){rr(t,e),e.set(t,n)}function rr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function or(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ur(t,e,"get"))}function ir(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ar(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ur(t,e,"set"),n),n}function ur(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var cr=new WeakMap,lr=new WeakMap,sr=new WeakMap,fr=new WeakSet,pr=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rr(n=this,r=fr),r.add(n),nr(this,cr,{writable:!0,value:void 0}),nr(this,lr,{writable:!0,value:void 0}),nr(this,sr,{writable:!0,value:[]}),ar(this,cr,e),ar(this,lr,new Xn),this.STATE=Zt}var e,n,r;return e=t,n=[{key:"addExternalBanner",value:function(t){(t=ir(this,fr,yr).call(this,t)).setAttribute("data-amp-attached","");var e=new Fn(or(this,cr),or(this,lr).getNextIdentifier(),t);return or(this,sr).push(e),e}},{key:"addManagedBanner",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];for(n in(t=ir(this,fr,yr).call(this,t)).setAttribute("data-amp-attached",""),r)i.push(new yt(n,r[n]));var a=new hn(or(this,cr),or(this,lr).getNextIdentifier(),t,e,i,o);return or(this,sr).push(a),a}},{key:"addEmbedBanner",value:function(t,e,n){(t=ir(this,fr,yr).call(this,t)).setAttribute("data-amp-attached","");var r=new Hn(or(this,cr),or(this,lr).getNextIdentifier(),t,e,n);return or(this,sr).push(r),r}},{key:"getBannersByState",value:function(t){var e=t.state,n=t.managed,r=void 0===n||n,o=t.external,i=void 0===o||o,a=t.embed,u=void 0===a||a;return or(this,sr).filter((function(t){return t instanceof Se&&t.state===e&&!(t instanceof hn&&!r||t instanceof Fn&&!i||t instanceof Hn&&!u)}))}},{key:"getBannerByFingerprint",value:function(t){var e,n=t instanceof ke?t.value:t,r=Zn(or(this,sr));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!(o in Hn)){var i,a=Zn(o.fingerprints);try{for(a.s();!(i=a.n()).done;)if(i.value.value===n)return o}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"getBannerByUid",value:function(t){var e,n=Zn(or(this,sr));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.uid===t)return r}}catch(t){n.e(t)}finally{n.f()}return null}}],n&&er(e.prototype,n),r&&er(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yr(t){if(t instanceof HTMLElement)return t;if("string"!=typeof t)throw new TypeError("Element must be instance of HTMLElement or String");var e;if(!((e="#"===t.charAt(0)?document.getElementById(t.slice(1)):document.querySelector(t))instanceof HTMLElement))throw new TypeError("Selector "+t+" is invalid.");return e}function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function mr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==br(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===br(i)?i:String(i)),r)}var o,i}function hr(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function wr(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Sr(t,e,"get"))}function gr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Sr(t,e,"set"),n),n}function Sr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Er=new WeakMap,Tr=new WeakMap,kr=new WeakMap,jr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hr(this,Er,{writable:!0,value:void 0}),hr(this,Tr,{writable:!0,value:void 0}),hr(this,kr,{writable:!0,value:void 0}),gr(this,Er,new Xn),gr(this,Tr,{}),gr(this,kr,{})}var e,n,r;return e=t,n=[{key:"subscribe",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("function"!=typeof e)throw new TypeError("Listener must be of type function.");var i="idx_"+wr(this,Er).getNextIdentifier();return wr(this,Tr)[t]=wr(this,Tr)[t]||{},wr(this,Tr)[t][i]={callback:e,scope:r,priority:o},t in wr(this,kr)&&delete wr(this,kr)[t],function(){t in wr(n,Tr)&&i in wr(n,Tr)[t]&&delete wr(n,Tr)[t][i]}}},{key:"dispatch",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o,i=mr(this.getSortedListeners(t));try{for(i.s();!(o=i.n()).done;){var a,u=o.value;(a=u.callback).call.apply(a,[u.scope].concat(n))}}catch(t){i.e(t)}finally{i.f()}}},{key:"reset",value:function(){gr(this,Tr,{})}},{key:"getSortedListeners",value:function(t){if(t in wr(this,kr))return wr(this,kr)[t];var e=Object.values(wr(this,Tr)[t]||{}).sort((function(t,e){return t.priority>e.priority?-1:t.priority<e.priority?1:0}));return wr(this,kr)[t]=e}}],n&&dr(e.prototype,n),r&&dr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Or=_.template;function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Pr(i)?i:String(i)),r)}var o,i}function Ar(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function _r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ir(t,e,"get"))}function Rr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ir(t,e,"set"),n),n}function Ir(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Cr=new WeakMap,Mr=new WeakMap,Dr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ar(this,Cr,{writable:!0,value:void 0}),Ar(this,Mr,{writable:!0,value:void 0}),Rr(this,Cr,e),Rr(this,Mr,{})}var e,n,r;return e=t,(n=[{key:"getTemplate",value:function(t){if(t in _r(this,Mr))return _r(this,Mr)[t];if(!(t in _r(this,Cr)))throw new Error('Template with type "'.concat(t,'" not found.'));return _r(this,Mr)[t]=Or(_r(this,Cr)[t])}}])&&Nr(e.prototype,n),r&&Nr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Br(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Br(i)?i:String(i)),r)}var o,i}function Fr(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function xr(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Lr(t,e,"set"),n),n}function Lr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Ur=new WeakMap,zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fr(this,Ur,{writable:!0,value:void 0}),xr(this,Ur,new Dr(e))}var e,n,r;return e=t,(n=[{key:"render",value:function(t){return(e=this,n=Ur,function(t,e){return e.get?e.get.call(t):e.value}(e,Lr(e,n,"get"))).getTemplate(t.positionData.displayType)({banner:t,data:t.bannerData});var e,n}}])&&Wr(e.prototype,n),r&&Wr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $r(t){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(t)}function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(n),!0).forEach((function(e){qr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qr(t,e,n){return(e=Jr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jr(r.key),r)}}function Jr(t){var e=function(t,e){if("object"!==$r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$r(e)?e:String(e)}var Xr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"create",value:function(t,e,n,r,o,i){var a=[];for(var u in o)a.push({pixels:parseInt(u),ratio:o[u]});a=a.sort((function(t,e){return e.pixels-t.pixels}));var c=function(t){var e,n=getComputedStyle(t),o=(t.offsetWidth-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))-(parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)))*(t.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))-(parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))),i=Yr(a);try{for(i.s();!(e=i.n()).done;){var u=e.value;if(o>=u.pixels)return u.ratio}}catch(t){i.e(t)}finally{i.f()}return r};return new IntersectionObserver((function(r){var o,a=[],u={},l={},s=Yr(r);try{for(s.s();!(o=s.n()).done;){var f=o.value,p=f.target.dataset.ampBannerFingerprint,y=t.getBannerByFingerprint(p);if(y){var b=n[p];if(b){var m={fingerprint:b.fingerprint,element:f.target,banner:y};if(a.push(Gr(Gr({},m),{},{entry:f})),!b.alreadySeen){var v=f.intersectionRatio>=c(f.target);u[p]=!(p in u)||!u[p].isIntersecting&&v?{fingerprintArgs:m,fingerprintMetadata:b,isIntersecting:v}:u[p]}if(!b.alreadyFullySeen){var d=1<=f.intersectionRatio;l[p]=!(p in l)||!l[p].isFullyIntersecting&&d?{fingerprintArgs:m,fingerprintMetadata:b,isFullyIntersecting:d}:l[p]}}}}}catch(t){s.e(t)}finally{s.f()}for(var h=function(){var t=g[w],n=t.fingerprintArgs,r=t.fingerprintMetadata,o=t.isIntersecting;o&&!r.alreadySeen&&null===r.firstTimeSeenTimeoutId?r.firstTimeSeenTimeoutId=setTimeout((function(){r.alreadySeen=!0,e.dispatch(ne.ON_BANNER_FIRST_TIME_SEEN,n)}),i):o||null===r.firstTimeSeenTimeoutId||(clearTimeout(r.firstTimeSeenTimeoutId),r.firstTimeSeenTimeoutId=null)},w=0,g=Object.values(u);w<g.length;w++)h();for(var S=function(){var t=T[E],n=t.fingerprintArgs,r=t.fingerprintMetadata,o=t.isFullyIntersecting;o&&!r.alreadyFullySeen&&null===r.firstTimeFullySeenTimeoutId?r.firstTimeFullySeenTimeoutId=setTimeout((function(){r.alreadyFullySeen=!0,e.dispatch(ne.ON_BANNER_FIRST_TIME_FULLY_SEEN,n)}),i):o||null===r.firstTimeFullySeenTimeoutId||(clearTimeout(r.firstTimeFullySeenTimeoutId),r.firstTimeFullySeenTimeoutId=null)},E=0,T=Object.values(l);E<T.length;E++)S();for(var k=0,j=a;k<j.length;k++){var O=j[k];e.dispatch(ne.ON_BANNER_INTERSECTION_CHANGED,O)}}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}}],(n=null)&&Kr(e.prototype,n),r&&Kr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function Zr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return to(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function to(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qr(i)?i:String(i)),r)}var o,i}function no(t,e,n){ro(t,e),e.set(t,n)}function ro(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oo(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function io(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,uo(t,e,"get"))}function ao(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,uo(t,e,"set"),n),n}function uo(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var co=new WeakMap,lo=new WeakMap,so=new WeakMap,fo=new WeakMap,po=new WeakMap,yo=new WeakSet,bo=function(){function t(e,n,r){var o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ro(o=this,i=yo),i.add(o),no(this,co,{writable:!0,value:void 0}),no(this,lo,{writable:!0,value:void 0}),no(this,so,{writable:!0,value:void 0}),no(this,fo,{writable:!0,value:void 0}),no(this,po,{writable:!0,value:void 0}),ao(this,co,!1),ao(this,lo,e),ao(this,so,n),ao(this,fo,{}),ao(this,po,Xr.create(e,n,io(this,fo),r.defaultIntersectionRatio,r.intersectionRatioMap,r.firstTimeSeenTimeout))}var e,n,r;return e=t,(n=[{key:"start",value:function(){var t=this;if(!io(this,co)){ao(this,co,!0),io(this,so).subscribe(ne.ON_BANNER_STATE_CHANGED,(function(e){Zt.RENDERED!==e.state||e.isEmbed()||oo(t,yo,mo).call(t,e)}),null,-100);var e,n=Zr(io(this,lo).getBannersByState({state:Zt.RENDERED,embed:!1}));try{for(n.s();!(e=n.n()).done;){var r=e.value;oo(this,yo,mo).call(this,r)}}catch(t){n.e(t)}finally{n.f()}}}}])&&eo(e.prototype,n),r&&eo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mo(t){var e,n=this,r=this,o=Zr(t.element.querySelectorAll("[data-amp-banner-fingerprint]"));try{var i=function(){var t=e.value,o=t.dataset.ampBannerFingerprint;o in io(n,fo)||(io(n,fo)[o]={fingerprint:ke.createFromValue(o),alreadySeen:!1,alreadyFullySeen:!1,firstTimeSeenTimeoutId:null,firstTimeFullySeenTimeoutId:null}),void 0===t.dataset.ampBannerFingerprintObserved&&Promise.all([].slice.call(t.getElementsByTagName("img")).filter((function(t){return!t.complete})).map((function(t){return new Promise((function(e){t.onload=t.onerror=e}))}))).then((function(){void 0===t.dataset.ampBannerFingerprintObserved&&(t.dataset.ampBannerFingerprintObserved="true",io(n,po).observe(t))}));var i,a=Zr(t.getElementsByTagName("a"));try{for(a.s();!(i=a.n()).done;){var u=i.value;void 0===u.dataset.ampClickingAttached&&(u.dataset.ampClickingAttached="true",u.addEventListener("click",(function(t){var e=io(r,fo)[o];if(e){var n=io(r,lo).getBannerByFingerprint(o);if(n){var i={fingerprint:e.fingerprint,element:this.closest("[data-amp-banner-fingerprint]"),banner:n,target:this,clickEvent:t};e.alreadySeen||(e.alreadySeen=!0,io(r,so).dispatch(ne.ON_BANNER_FIRST_TIME_SEEN,i)),io(r,so).dispatch(ne.ON_BANNER_LINK_CLICKED,i)}else console.warn('Unable to invoke an event "amp:banner:link-clicked" because the banner for fingerprint "'.concat(o,'" not found.'))}else console.warn('Unable to invoke an event "amp:banner:link-clicked" because the fingerprint "'.concat(o,'" not managed.'))})))}}catch(t){a.e(t)}finally{a.f()}};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function ho(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===vo(i)?i:String(i)),r)}var o,i}var wo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"BANNER_LOADED",get:function(){return"amp:banner:loaded"}},{key:"BANNER_DISPLAYED",get:function(){return"amp:banner:displayed"}},{key:"BANNER_FULLY_DISPLAYED",get:function(){return"amp:banner:fully-displayed"}},{key:"BANNER_CLICKED",get:function(){return"amp:banner:clicked"}},{key:"EVENTS",get:function(){return[t.BANNER_LOADED,t.BANNER_DISPLAYED,t.BANNER_FULLY_DISPLAYED,t.BANNER_CLICKED]}}],(n=null)&&ho(e.prototype,n),r&&ho(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function go(t){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(t)}function So(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?So(Object(n),!0).forEach((function(e){To(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function To(t,e,n){return(e=Po(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ko(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Po(r.key),r)}}function Po(t){var e=function(t,e){if("object"!==go(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===go(e)?e:String(e)}function No(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ao(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ro(t,e,"get"))}function _o(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ro(t,e,"set"),n),n}function Ro(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Io=new WeakMap,Co=new WeakMap,Mo=new WeakMap,Do=new WeakMap,Bo=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),No(this,Io,{writable:!0,value:void 0}),No(this,Co,{writable:!0,value:void 0}),No(this,Mo,{writable:!0,value:void 0}),No(this,Do,{writable:!0,value:void 0}),_o(this,Io,e),_o(this,Co,n),_o(this,Mo,r),_o(this,Do,!1)}var e,n,r;return e=t,(n=[{key:"attach",value:function(){if(!Ao(this,Do)){_o(this,Do,!0);var t=Ao(this,Co),e=Ao(this,Mo),n=Ao(this,Io);if(n.hasAnyReceiver()){var r=function(t,n){var r=n.getCurrenBreakpoint(t.bannerId);return r=null===r?"default":"".concat("min"===n.positionData.breakpointType?">=":"<=").concat(r),{channel_code:e,banner_id:t.bannerId,banner_name:t.bannerName,position_id:t.positionId,position_code:t.positionCode,position_name:t.positionName,campaign_id:t.campaignId,campaign_code:t.campaignCode,campaign_name:t.campaignName,breakpoint:r}};n.isEventEnabled(wo.BANNER_LOADED)&&t.subscribe(ne.ON_BANNER_STATE_CHANGED,(function(t){if(!t.isEmbed()&&Zt.RENDERED===t.state&&1===t.stateCounter){var e,o=ko(t.fingerprints);try{for(o.s();!(e=o.n()).done;){var i=e.value;n.send(wo.BANNER_LOADED,r(i,t))}}catch(t){o.e(t)}finally{o.f()}}})),n.isEventEnabled(wo.BANNER_DISPLAYED)&&t.subscribe(ne.ON_BANNER_FIRST_TIME_SEEN,(function(t){var e=t.fingerprint,o=t.banner;n.send(wo.BANNER_DISPLAYED,r(e,o))})),n.isEventEnabled(wo.BANNER_FULLY_DISPLAYED)&&t.subscribe(ne.ON_BANNER_FIRST_TIME_FULLY_SEEN,(function(t){var e=t.fingerprint,o=t.banner;n.send(wo.BANNER_FULLY_DISPLAYED,r(e,o))})),n.isEventEnabled(wo.BANNER_CLICKED)&&t.subscribe(ne.ON_BANNER_LINK_CLICKED,(function(t){var e=t.fingerprint,o=t.banner,i=t.target;n.send(wo.BANNER_CLICKED,Eo(Eo({},r(e,o)),{},{link:i.href||""}))}))}}}}])&&Oo(e.prototype,n),r&&Oo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Wo=!1;const Fo=function(t,e){if(!("plausible"in window)||"function"!=typeof window.plausible)return!Wo&&console.warn("Unable to send metrics to Plausible because the function plausible() does not occur in the window."),void(Wo=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.plausible(t,{props:e})};var xo=!1;const Lo=function(t,e){if(!("gtag"in window)||"function"!=typeof window.gtag)return!xo&&console.warn("Unable to send metrics to Google Analytics because the function gtag() does not occur in the window."),void(xo=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.gtag("event",t,e)};function Uo(t){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(t)}function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Uo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Uo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ho=!1;const Go=function(t,e){if(!("dataLayer"in window))return!Ho&&console.warn("Unable to send metrics to GTM because the dataLayer does not occur in the window."),void(Ho=!0);Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),window.dataLayer.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zo(Object(n),!0).forEach((function(e){$o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({event:t},e))},qo=function(t,e){console.log("Sending metrics.",{eventName:t,eventArgs:e})};function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function Vo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Yo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Yo(i)?i:String(i)),r)}var o,i}function Xo(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Qo(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ti(t,e,"get"))}function Zo(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ti(t,e,"set"),n),n}function ti(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ei=new WeakMap,ni=new WeakMap,ri=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Xo(this,ei,{writable:!0,value:void 0}),Xo(this,ni,{writable:!0,value:void 0}),Zo(this,ei,Array.isArray(e)?e:[e]),Zo(this,ni,n)}var e,n,r;return e=t,r=[{key:"createFromReceivers",value:function(e,n){if(!e)return new t([],n);var r,o=[],i=Vo(e=Array.isArray(e)?e:[e]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("function"!=typeof a)switch(a){case"plausible":o.push(Fo);break;case"gtag":o.push(Lo);break;case"gtm":o.push(Go);break;case"debug":o.push(qo);break;default:console.warn("Unable to send metrics to a receiver of unknown type",a)}else o.push(a)}}catch(t){i.e(t)}finally{i.f()}return new t(o,n)}}],(n=[{key:"hasAnyReceiver",value:function(){return Qo(this,ei).length}},{key:"isEventEnabled",value:function(t){return-1!==wo.EVENTS.indexOf(t)&&-1===Qo(this,ni).indexOf(t)}},{key:"send",value:function(t,e){if(this.isEventEnabled(t)){var n,r=Vo(Qo(this,ei));try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(t){r.e(t)}finally{r.f()}}}}])&&Jo(e.prototype,n),r&&Jo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===oi(i)?i:String(i)),r)}var o,i}function ai(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ui(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,li(t,e,"get"))}function ci(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,li(t,e,"set"),n),n}function li(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var si=new WeakMap,fi=new WeakMap,pi=function(){function t(e){var n=e.origins,r=void 0===n?[]:n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ai(this,si,{writable:!0,value:void 0}),ai(this,fi,{writable:!0,value:void 0}),ci(this,fi,new jr),ci(this,si,r)}var e,n,r;return e=t,n=[{key:"on",value:function(t,e){ui(this,fi).subscribe(t,e)}},{key:"send",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";t.postMessage({message:e,data:n},r)}},{key:"listen",value:function(){var t=this;window.addEventListener("message",(function(e){if(!(0<ui(t,si).length&&-1===ui(t,si).indexOf(e.origin)||"object"!==oi(e.data))&&"message"in e.data&&"data"in e.data){var n=e.data,r=n.message,o=n.data;ui(t,fi).dispatch(r,{data:o,origin:e.origin})}}),!1)}}],n&&ii(e.prototype,n),r&&ii(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===yi(i)?i:String(i)),r)}var o,i}function mi(t,e){return mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mi(t,e)}function vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hi(t);if(e){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return di(t)}(this,n)}}function di(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hi(t)}function wi(t,e){Si(t,e),e.add(t)}function gi(t,e,n){Si(t,e),e.set(t,n)}function Si(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ei(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ji(t,e,"get"))}function Ti(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ki(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ji(t,e,"set"),n),n}function ji(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Oi=new WeakMap,Pi=new WeakMap,Ni=new WeakMap,Ai=new WeakMap,_i=new WeakSet,Ri=new WeakSet,Ii=new WeakSet,Ci=new WeakSet,Mi=new WeakSet,Di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mi(t,e)}(i,t);var e,n,r,o=vi(i);function i(t){var e,n=t.origin,r=t.connectionData,a=t.bannerManager,u=t.metricsSender;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),wi(di(e=o.call(this,{origins:[n]})),Mi),wi(di(e),Ci),wi(di(e),Ii),wi(di(e),Ri),wi(di(e),_i),gi(di(e),Oi,{writable:!0,value:void 0}),gi(di(e),Pi,{writable:!0,value:void 0}),gi(di(e),Ni,{writable:!0,value:void 0}),gi(di(e),Ai,{writable:!0,value:void 0}),ki(di(e),Oi,n),ki(di(e),Pi,r),ki(di(e),Ni,a),ki(di(e),Ai,u);var c={};for(var l in c.adjustHeight=Ti(di(e),_i,Bi),c.stateChanged=Ti(di(e),Ri,Wi),c.linkClicked=Ti(di(e),Ii,Fi),c.metrics=Ti(di(e),Ci,xi),c)e.on(l,c[l].bind(di(e)));return e}return e=i,(n=[{key:"connectBanner",value:function(t){var e=this;t.element.addEventListener("load",(function(){var n=Ei(e,Pi);n.uid=t.uid,e.sendToBanner(t,"connect",n)}))}},{key:"sendToBanner",value:function(t,e,n){this.send(t.element.contentWindow,e,n,Ei(this,Oi))}}])&&bi(e.prototype,n),r&&bi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(pi);function Bi(t){var e=t.data,n=Ti(this,Mi,Li).call(this,e.uid);n&&(n.element.style.height=e.height+"px")}function Wi(t){var e=t.data,n=Ti(this,Mi,Li).call(this,e.uid);null!==n&&("positionData"in e&&n.updatePositionData(e.positionData),n.setState(e.state,"[embed]: ".concat(e.stateInfo)))}function Fi(t){var e=t.data,n=e.href,r=e.target;"_blank"===r?window.open(n,r):window.location.href=n}function xi(t){var e=t.data,n=e.eventName,r=e.eventArgs;Ei(this,Ai).hasAnyReceiver()&&Ei(this,Ai).isEventEnabled(n)&&Ei(this,Ai).send(n,r)}function Li(t){var e=Ei(this,Ni).getBannerByUid(t);return e instanceof Hn?e:(console.warn("Error in communication with embed banner. Embed banner with UID ".concat(t," not attached.")),null)}function Ui(t){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(t)}function zi(t){return function(t){if(Array.isArray(t))return Gi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Hi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Hi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Hi(t,e){if(t){if("string"==typeof t)return Gi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(t,e):void 0}}function Gi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ui(i)?i:String(i)),r)}var o,i}function Yi(t,e,n){Vi(t,e),e.set(t,n)}function Vi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ki(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Ji(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Qi(t,e,"get"))}function Xi(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Qi(t,e,"set"),n),n}function Qi(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Zi=new WeakMap,ta=new WeakMap,ea=new WeakMap,na=new WeakMap,ra=new WeakMap,oa=new WeakMap,ia=new WeakMap,aa=new WeakMap,ua=new WeakMap,ca=new WeakMap,la=new WeakMap,sa=new WeakMap,fa=new WeakSet,pa=function(){function t(e,n){var r,o,i=this;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vi(r=this,o=fa),o.add(r),Yi(this,Zi,{writable:!0,value:void 0}),Yi(this,ta,{writable:!0,value:void 0}),Yi(this,ea,{writable:!0,value:void 0}),Yi(this,na,{writable:!0,value:void 0}),Yi(this,ra,{writable:!0,value:void 0}),Yi(this,oa,{writable:!0,value:null}),Yi(this,ia,{writable:!0,value:void 0}),Yi(this,aa,{writable:!0,value:void 0}),Yi(this,ua,{writable:!0,value:void 0}),Yi(this,ca,{writable:!0,value:void 0}),Yi(this,la,{writable:!0,value:void 0}),Yi(this,sa,{writable:!0,value:void 0}),this.EVENTS=ne,Xi(this,Zi,e),Xi(this,ta,n=function(t){var e=y({method:"GET",url:null,version:1,channel:null,locale:null,resources:{},origin:null,template:b,interaction:{defaultIntersectionRatio:.5,intersectionRatioMap:{},firstTimeSeenTimeout:1e3},metrics:{receiver:null,disabledEvents:[]}},t);if("string"!=typeof e.method||!(e.method.toUpperCase()in{GET:1,POST:1}))throw new Error('The option "method" must be one of these ["GET", "POST"], '.concat(e.method," passed."));if(e.method=e.method.toUpperCase(),"string"!=typeof e.url)throw new Error('The option "url" is required and must be a valid URL, '.concat(e.url," passed."));if("number"!=typeof e.version)throw new Error('The option "version" must be a number, '.concat(e.version," passed."));if("string"!=typeof e.channel)throw new Error('The option "channel" is required and must be a string, '.concat(e.channel," passed."));if(null!==e.locale&&"string"!=typeof e.locale)throw new Error('The option "locale" must be a string, '.concat(e.locale," passed."));if("object"!==d(e.resources))throw new Error('The option "resources" must be an object of that describes resources, '.concat(e.resources," passed."));if(null!==e.origin&&"string"!=typeof e.origin)throw new Error('The option "origin" must be a valid URL, '.concat(e.origin," passed."));if("object"!==d(e.template))throw new Error('The option "template" must be an object of the format { single: string, random: string, multiple: string }, '.concat(e.template," passed."));for(var n=0,r=Object.entries(e.template);n<r.length;n++){var o=m(r[n],2),i=o[0],a=o[1];if("string"!=typeof a)throw new Error('The option "template.'.concat(i,'" must be a string (lodash template), ').concat(a," passed."))}if("object"!==d(e.interaction))throw new Error('The option "interaction" must be an object of the format { intersectionRatio: int|float, firstTimeSeenTimeout: int }, '.concat(e.interaction," passed."));if("number"!=typeof e.interaction.defaultIntersectionRatio||.1>e.interaction.defaultIntersectionRatio||1<e.interaction.defaultIntersectionRatio)throw new Error('The option "interaction.defaultIntersectionRatio" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "'.concat(e.interaction.defaultIntersectionRatio,'" passed.'));if(e.interaction.defaultIntersectionRatio=h(e.interaction.defaultIntersectionRatio,"interaction.defaultIntersectionRatio"),"object"!==d(e.interaction.intersectionRatioMap))throw new Error('The option "interaction.intersectionRatioMap" must be an object with an integer keys (pixels) and valid ratios as values, '.concat(e.interaction.intersectionRatioMap," passed."));for(var u=0,c=Object.entries(e.interaction.intersectionRatioMap);u<c.length;u++){var l=m(c[u],2),s=l[0],f=l[1];if(Number(s).toString()!==s)throw new Error('The key "interaction.intersectionRatioMap.'.concat(s,'" must be an integer.'));if("number"!=typeof f||.1>f||1<f)throw new Error('The option "interaction.intersectionRatioMap.'.concat(s,'" must be a number between 0.1 and 1 in increments of 0.1 [e.g. 0.1, 0.2, 0.3, ...], "').concat(e.interaction.intersectionRatioMap[s],'" passed.'));e.interaction.intersectionRatioMap[s]=h(f,"interaction.intersectionRatioMap."+s)}if(!Number.isInteger(e.interaction.firstTimeSeenTimeout)||500>e.interaction.firstTimeSeenTimeout)throw new Error('The option "interaction.firstTimeSeenTimeout" must be a int with a minimum value of 500, "'.concat(e.interaction.firstTimeSeenTimeout,'" passed.'));if("object"!==d(e.metrics))throw new Error('The option "metrics" must be an object of the format { receiver: null|string|function|array<string|function>, disabledEvents: array<string> }, '.concat(e.metrics," passed."));if(null!==e.metrics.receiver&&-1===["string","function"].indexOf(d(e.metrics.receiver))&&!Array.isArray(e.metrics.receiver))throw new Error('The option "metrics.receiver" must be a null or a string or a function or an array of strings|functions, "'.concat(e.metrics.receiver,'" passed.'));if(Array.isArray(e.metrics.receiver)){for(var p in e.metrics.receiver)if(-1===["string","function"].indexOf(d(e.metrics.receiver[p])))throw new Error('The option "metrics.receiver.'.concat(p,'" must be a string or a function, "').concat(e.metrics.receiver[p],'" passed.'))}else e.metrics.receiver=null!==e.metrics.receiver?[e.metrics.receiver]:[];if(!Array.isArray(e.metrics.disabledEvents))throw new Error('The option "metrics.disabledEvents" must an array of strings (event names), "'.concat(e.metrics.disabledEvents,'" passed.'));for(var v in e.metrics.disabledEvents)if("string"!=typeof e.metrics.disabledEvents[v])throw new Error('The option "metrics.disabledEvents.'.concat(v,'" must be a string, "').concat(e.metrics.disabledEvents[v],'" passed.'));return e}(n)),Xi(this,ea,new jr),Xi(this,na,new Lt(n.method,n.url,n.version,n.channel)),Xi(this,ra,new Jt(n.url,n.channel)),Xi(this,ia,new pr(Ji(this,ea))),Xi(this,aa,new zr(n.template)),Xi(this,ua,new bo(Ji(this,ia),Ji(this,ea),n.interaction)),Xi(this,ca,ri.createFromReceivers(n.metrics.receiver,n.metrics.disabledEvents)),Xi(this,la,new Bo(Ji(this,ca),Ji(this,ea),n.channel)),Xi(this,sa,new Di({origin:n.url,connectionData:{extendedConfig:{interaction:n.interaction}},bannerManager:Ji(this,ia),metricsSender:Ji(this,ca)})),this.setLocale(n.locale),Ji(this,na).origin=n.origin,n.resources)Ji(this,na).addDefaultResource(a,n.resources[a]),Ji(this,ra).addDefaultResource(a,n.resources[a]);window.addEventListener("resize",(function(){var t=Ji(i,ia).getBannersByState({state:Ji(i,ia).STATE.RENDERED,managed:!0,external:!1,embed:!1});for(var e in t)t[e].needRedraw()&&i.renderBanner(t[e])})),Ji(this,sa).listen(),Ji(this,la).attach(),Ji(this,ua).start()}var e,n,r;return e=t,n=[{key:"version",get:function(){return Ji(this,Zi)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ji(this,ea).subscribe(t,e,n)}},{key:"setLocale",value:function(t){Ji(this,na).locale=t,Ji(this,ra).locale=t}},{key:"setGateway",value:function(t){if(!function(t){return t instanceof S}(t))throw new TypeError("Argument gateway mut be instance of AbstractGateway.");Xi(this,oa,t)}},{key:"getGateway",value:function(){return null===Ji(this,oa)&&this.setGateway(new et),Ji(this,oa)}},{key:"createBanner",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ji(this,ia).addManagedBanner(t,e,n,r)}},{key:"attachBanners",value:function(){var t,e=$i((arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-amp-banner]:not([data-amp-attached])"));try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n.dataset.ampBanner;if(r){var o=void 0;if("ampBannerExternal"in n.dataset)o=Ji(this,ia).addExternalBanner(n);else if("ampMode"in n.dataset&&"embed"===n.dataset.ampMode){var i=Ki(this,fa,ya).call(this,n,r),a=i.iframe,u=i.options;o=Ji(this,ia).addEmbedBanner(a,r,u),Ji(this,sa).connectBanner(o),n.insertAdjacentElement("afterend",a),n.remove(),n=a}else{var c=Tn.parseResources(n),l=Tn.parseOptions(n);o=this.createBanner(n,r,c,l)}Ji(this,ea).dispatch(this.EVENTS.ON_BANNER_ATTACHED,o)}else console.warn("Unable to attach a banner to the element ",n,' because the attribute "data-amp-banner" has an empty value.')}}catch(t){e.e(t)}finally{e.f()}}},{key:"fetch",value:function(){var t=this,e=Ji(this,ia).getBannersByState({state:Ji(this,ia).STATE.NEW,managed:!0,external:!1,embed:!1});if(e.length){var n,r=Ji(this,na).create(),o=$i(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.addPosition(i.position,i.resources)}}catch(t){o.e(t)}finally{o.f()}Ji(this,ea).dispatch(this.EVENTS.ON_BEFORE_FETCH),this.getGateway().fetch(r,(function(n){var r,o=n.data,i=$i(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.position in o&&"banners"in o[a.position]&&Object.values(o[a.position].banners).length?(Array.isArray(o[a.position].banners)||(o[a.position].banners=Object.values(o[a.position].banners)),a.setResponseData(o[a.position]),t.renderBanner(a)):a.setState(Ji(t,ia).STATE.NOT_FOUND,"Banner not found in fetched response.")}}catch(t){i.e(t)}finally{i.f()}Ji(t,ea).dispatch(t.EVENTS.ON_FETCH_SUCCESS,n)}),(function(n){var r,o=$i(e);try{for(o.s();!(r=o.n()).done;)r.value.setState(Ji(t,ia).STATE.ERROR,"Request on api failed.")}catch(t){o.e(t)}finally{o.f()}Ji(t,ea).dispatch(t.EVENTS.ON_FETCH_ERROR,n)}))}}},{key:"renderBanner",value:function(t){if(!(t instanceof hn))throw new TypeError("Only managed banners can be rendered.");try{t.html=Ji(this,aa).render(t)}catch(e){return void t.setState(Ji(this,ia).STATE.ERROR,"Render error: "+e.message)}t.setState(Ji(this,ia).STATE.RENDERED,"Banner was successfully rendered.")}}],n&&qi(e.prototype,n),r&&qi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ya(t,e){var n=Tn.parseOptions(t),r=document.createElement("iframe");return zi(t.attributes).map((function(t){var e=t.name,n=t.value;r.setAttribute(e,n)})),r.width="100%",r.height="100%",r.allowFullscreen=!0,r.scrolling="no",r.style.border="none",r.style.overflow="hidden",r.src=t.dataset.ampEmbedSrc||Ji(this,ra).create(e,Tn.parseResources(t),n),r.setAttribute("allowtransparency","true"),"lazy"===n.loading&&(r.loading="lazy"),{iframe:r,options:n}}function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ba(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ba(i)?i:String(i)),r)}var o,i}var va=r.i8,da=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new pa(t.version,e)}},{key:"version",get:function(){return new p(va,"standard@".concat(va))}}],(n=null)&&ma(e.prototype,n),r&&ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();r.i8;AMPClientFactory=e.AMPClientFactory})();